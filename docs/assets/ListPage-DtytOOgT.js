import{a as N,b as M,y as S,x as U,c as B,d as I,u as V,S as E,V as j,q as z}from"./index-BV5tZFtH.js";import{u as A}from"./vue-router-lONT7pAu.js";import{N as P}from"./Image-Do32Fdk5.js";import{d as F,b as f,c as g,o as a,O as r,$ as e,u as t,W as l,a5 as o,X as R,F as X,a0 as q,t as D}from"./vue-Di5-u55g.js";import"./Scrollbar-CN-lPcvH.js";import"./use-locale-2fpCxvR7.js";import"./index-B59ejUHw.js";const O={class:"px-2 py-0 card-box h-full bg-black"},T={class:"flex absolute bottom-20 info-card right-0"},$={class:"flex bg-white p-2 header-bar items-center flex-col relative",style:{"z-index":"9999"}},G={class:"flex flex-col items-center justify-center"},H=["src"],J={class:"m-b-1"},Q={key:0,class:"text-white text-6 absolute top-100"},W={class:"flex-1 flex flex-col"},K={class:"p-y-1 m-0 b-0 text-center text-gray-300"},ne=F({__name:"ListPage",setup(Y){const v=N(),d=M(),n=A(),s=f(),h=z();S();const{fetchList:_,list:c}=U(),b=g(()=>B[v.value]);I(async()=>{s.value=await h(),await _(),i.value=j[s.value.vipLevel]},()=>{n.replace("/")});const p=V(),y=()=>{n.push("/writing")},i=f({maxContentLength:40,listMaxCount:0,templateCount:1,money:0}),C=()=>{var u;if(!s)return"";switch((u=s.value)==null?void 0:u.vipLevel){case-1:return"";case 0:return"text-red fw-900";case 1:return"text-green fw-400";case 2:return"text-blue fw-600";case 3:return"text-yellow fw-800";default:return""}},x=g(()=>C()),w=()=>i.value.listMaxCount<Number.MAX_VALUE?i.value.listMaxCount-c.value.length:"∞",L=()=>{n.push("/payment")};return(u,Z)=>(a(),r("div",O,[e("div",T,[e("header",$,[e("div",G,[e("img",{src:t(p).avatar,alt:"avatar",srcset:"",class:"avatar"},null,8,H),e("label",{class:l(["username",x.value])},o(t(p).username),3),e("i",{class:l(["iconfont icon-vip",x.value])},null,2),e("label",J," 剩余： "+o(w())+" 卡片 ",1)]),e("div",{class:l(["flex",{"flex-col":t(d)}]),style:{gap:"4px"}},[e("div",{onClick:y,class:"btn py-1 px-2 cursor-pointer flex items-center text-black bg-gray-100"}," 返回分享 "),e("div",{onClick:L,class:"btn py-1 px-2 cursor-pointer flex items-center",style:R(`background-image:${b.value}`)}," 立即充值 ",4)],2)])]),e("div",{class:l(["flex m-t-2 flex-col justify-center items-center",{"p-x-140":!t(d)}]),style:{gap:"12px"}},[t(c).length===0?(a(),r("div",Q," 空空荡荡~~，快去"+o(t(E)),1)):(a(!0),r(X,{key:1},q(t(c),(m,k)=>(a(),r("div",{key:m.id,class:"shining-card p-x-3 p-t-3 bg-white flex justify-center items-center m-b-4"},[e("div",W,[D(t(P),{lazy:"",src:m.picURL,alt:"shining card",width:"100%",class:"flex-1"},null,8,["src"]),e("p",K,o(k+1),1)])]))),128))],2)]))}});export{ne as default};
