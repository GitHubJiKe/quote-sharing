import{u as M,b as L,z as j,A as R,B as U,t as H,d as I,n as O}from"./index-BaUiwo4T.js";import{u as P}from"./vue-router-Bbhn4EMr.js";import{N as F}from"./Image-B8tBnDzC.js";import{d as _,c as b,h as $,A as E,b as y,x as z,o as d,Q as u,a1 as e,Z as x,u as t,a7 as g,Y as v,R as B,z as A,F as N,a2 as T,a6 as W,M as q,f as G,ab as Q}from"./vue-CUgTPVtI.js";import{h as Y,d as Z,l as D,a as S,o as V,n as J,t as K,H as X}from"./Scrollbar-DrxmpXtw.js";import{f as ee}from"./index-BPMYKICJ.js";import"./use-locale-CDo5WN6b.js";const te=s=>{const{textColorBase:n,opacity1:r,opacity2:i,opacity3:l,opacity4:o,opacity5:c}=s;return{color:n,opacity1Depth:r,opacity2Depth:i,opacity3Depth:l,opacity4Depth:o,opacity5Depth:c}},oe={name:"Icon",common:Y,self:te},se=oe,ne=Z("icon",`
 height: 1em;
 width: 1em;
 line-height: 1em;
 text-align: center;
 display: inline-block;
 position: relative;
 fill: currentColor;
 transform: translateZ(0);
`,[D("color-transition",{transition:"color .3s var(--n-bezier)"}),D("depth",{color:"var(--n-color)"},[S("svg",{opacity:"var(--n-opacity)",transition:"opacity .3s var(--n-bezier)"})]),S("svg",{height:"1em",width:"1em"})]),re=Object.assign(Object.assign({},V.props),{depth:[String,Number],size:[Number,String],color:String,component:Object}),ie=_({_n_icon__:!0,name:"Icon",inheritAttrs:!1,props:re,setup(s){const{mergedClsPrefixRef:n,inlineThemeDisabled:r}=J(s),i=V("Icon","-icon",ne,se,s,n),l=b(()=>{const{depth:c}=s,{common:{cubicBezierEaseInOut:h},self:p}=i.value;if(c!==void 0){const{color:f,[`opacity${c}Depth`]:a}=p;return{"--n-bezier":h,"--n-color":f,"--n-opacity":a}}return{"--n-bezier":h,"--n-color":"","--n-opacity":""}}),o=r?K("icon",b(()=>`${s.depth||"d"}`),l,s):void 0;return{mergedClsPrefix:n,mergedStyle:b(()=>{const{size:c,color:h}=s;return{fontSize:ee(c),color:h}}),cssVars:r?void 0:l,themeClass:o==null?void 0:o.themeClass,onRender:o==null?void 0:o.onRender}},render(){var s;const{$parent:n,depth:r,mergedClsPrefix:i,component:l,onRender:o,themeClass:c}=this;return!((s=n==null?void 0:n.$options)===null||s===void 0)&&s._n_icon__&&X("icon","don't wrap `n-icon` inside `n-icon`"),o==null||o(),$("i",E(this.$attrs,{role:"img",class:[`${i}-icon`,c,{[`${i}-icon--depth`]:r,[`${i}-icon--color-transition`]:r!==void 0}],style:[this.cssVars,this.mergedStyle]}),l?$(l):this.$slots)}}),ae={class:"flex gap-3"},ce={class:"flex-1 flex gap-1 flex-col"},le={class:"fw-500 text-4 color-wechat-primary"},de=["innerHTML"],ue={class:"flex justify-between items-center"},he=e("div",{class:"flex gap-3"},[e("div",{class:"text-gray"}," 1å°æ—¶å‰ "),e("div",{class:"color-wechat-primary cursor-pointer"}," åˆ é™¤ ")],-1),me=e("div",{class:"w-1 h-1 rounded-50% bg-wechat-primary"},null,-1),pe=e("div",{class:"w-1 h-1 rounded-50% bg-wechat-primary"},null,-1),fe=[me,pe],ge={class:"flex flex-wrap items-center"},ve=e("i",{class:"iconfont icon-heart color-wechat-primary text-6 mr-2"},null,-1),we={class:"mt-2"},ye={class:"color-wechat-primary comment-name cursor-pointer"},_e=_({__name:"WeChatCard",props:{isDark:{type:Boolean},item:{}},setup(s){const n=M(),r=y(!1),l=j(Math.floor(Math.random()*30)),o=()=>{r.value=!r.value},c=L(),h=b(()=>["çœŸé…·ï¼ðŸ˜Ž","çœŸæ£’ï¼ðŸ‘ðŸ»","çœŸå¸…ï¼ðŸ´"][Math.floor(Math.random()*3)]),p=y(),f=y(!1);return z(()=>{const a=p.value,m=window.getComputedStyle(a);f.value=Math.ceil(parseFloat(m.height)/parseFloat(m.lineHeight))>=4}),(a,m)=>(d(),u("div",ae,[e("div",null,[e("div",{class:"rounded bg-cover bg-center w-12 h-12",style:x(`background-image: url(${t(n).avatar});`)},null,4)]),e("div",ce,[e("div",le,g(t(n).username),1),e("div",{innerHTML:a.item.content,class:v(["wechat-content-box",{"wechat-content":!r.value,"text-black":!a.isDark,"text-white":a.isDark}]),ref_key:"contentRef",ref:p},null,10,de),f.value?(d(),u("div",{key:0,class:"color-wechat-primary cursor-pointer",onClick:o},g(r.value?"æ”¶èµ·":"å…¨æ–‡"),1)):B("",!0),e("div",null,[A(t(F),{src:a.item.picURL,width:t(c)?280:340},null,8,["src","width"])]),e("div",ue,[he,e("div",{class:v([{"bg-wechat-gray-dark":a.isDark,"bg-wechat-gray":!a.isDark},"w-10 h-5 rounded flex justify-center items-center gap-1 cursor-pointer"])},fe,2)]),e("div",{class:v(["rounded-0.4 flex-1 mt-2 px-3 py-2",{"bg-wechat-gray-dark":a.isDark,"bg-wechat-gray":!a.isDark}])},[e("div",ge,[ve,(d(!0),u(N,null,T(t(l),w=>(d(),u("label",{class:"color-wechat-primary heart-name cursor-pointer",key:w},g(w),1))),128))]),e("div",we,[e("label",ye,g(t(l)[0]),1),W(" "+g(h.value),1)])],2)])]))}}),be={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},xe=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M176 249.38L256 170l80 79.38"},null,-1),ke=e("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"32",d:"M256 181.03V342"},null,-1),Ce=e("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192s192-86 192-192z",fill:"none",stroke:"currentColor","stroke-miterlimit":"10","stroke-width":"32"},null,-1),$e=[xe,ke,Ce],De=_({name:"ArrowUpCircleOutline",render:function(n,r){return d(),u("svg",be,$e)}}),Se={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 512 512"},Me=e("path",{d:"M256 48C141.13 48 48 141.13 48 256s93.13 208 208 208s208-93.13 208-208S370.87 48 256 48zm80.09 224L272 208.42V358h-32V208.42L175.91 272l-22.54-22.7L256 147.46L358.63 249.3z",fill:"currentColor"},null,-1),Le=[Me],ze=_({name:"ArrowUpCircleSharp",render:function(n,r){return d(),u("svg",Se,Le)}}),Be=Q('<div class="p-b-3 px-5 flex justify-between items-center"><div class="flex gap-2"><div class="w-3 h-3 rounded-50% bg-red"></div><div class="w-3 h-3 rounded-50% bg-yellow"></div><div class="w-3 h-3 rounded-50% bg-green"></div></div><div class="flex gap-3 text-white"><i class="iconfont icon-refresh text-5 icons px-3 py-1 rounded"></i><i class="iconfont icon-bell text-5 icons px-3 py-1 rounded"></i><i class="iconfont icon-camera text-5 icons px-3 py-1 rounded"></i></div></div>',1),Ae={class:"flex justify-end p-r-6"},Ne={class:"flex items-center gap-3 relative top-3"},Te={class:"text-white text-4.8"},Ve="https://images.unsplash.com/photo-1489861408921-2f6a1e6c1155?q=80&w=3270&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",Ee=_({__name:"ListPageWeChatStyle",setup(s){const n=M(),r=y(),i=R({selector:"body",attribute:"class",valueDark:"dark",valueLight:"light"}),l=U(i),o=L(),{fetchList:c,list:h}=H();z(()=>{c()});const p=P(),f=O();I(async()=>{r.value=await f(),await c()},()=>{p.replace("/")});const a=()=>{document.body.scrollTo({behavior:"smooth",top:0})},m=y(!1),w=()=>{document.body.scrollTop>0?m.value=!0:m.value=!1};return document.body.addEventListener("scroll",w),q(()=>{document.body.removeEventListener("scroll",w)}),(je,k)=>(d(),u("div",{class:v(["mx-auto",{"w-full":t(o),"w-140":!t(o)}])},[e("div",{class:"h-76 bg-cover bg-center flex flex-col justify-between pt-2 mb-10",style:x(`background-image:url(${Ve})`)},[Be,e("div",Ae,[e("div",Ne,[e("label",Te,g(t(n).username),1),e("div",{class:"rounded bg-cover bg-center w-15 h-15",style:x(`background-image: url(${t(n).avatar});`)},null,4)])])],4),(d(!0),u(N,null,T(t(h),C=>(d(),u("div",{class:v(["px-5 mb-10",{"bg-white":!t(i),dark:t(i)}]),key:C.id},[A(_e,{item:C,"is-dark":t(i)},null,8,["item","is-dark"])],2))),128)),e("i",{class:v(["absolute right-4 bottom-4 iconfont cursor-pointer text-yellow text-6",{"icon-moon":!t(i),"icon-sun":t(i)}]),onClick:k[0]||(k[0]=()=>t(l)())},null,2),m.value?(d(),G(t(ie),{key:0,component:t(i)?t(De):t(ze),onClick:a,class:"absolute bottom-18 right-3 text-8 cursor-pointer"},null,8,["component"])):B("",!0)],2))}});export{Ee as default};
