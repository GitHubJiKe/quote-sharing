import{a as N,b as M,D as S,C as U,c as B,d as I,u as V,S as E,V as j,y as z}from"./index-D--v6lXT.js";import{u as A}from"./vue-router-lONT7pAu.js";import{N as P}from"./Image-BcSBaR5R.js";import{d as D,b as f,c as v,o as a,O as r,$ as e,u as t,W as l,a5 as o,X as F,F as R,a0 as X,t as O}from"./vue-Di5-u55g.js";import"./Scrollbar-CVmA2J0j.js";import"./use-locale-B0aIUWCR.js";import"./index-BQrSfhru.js";const T={class:"px-2 py-0 card-box h-full bg-black"},$={class:"flex absolute bottom-20 info-card right-0"},q={class:"flex bg-white p-2 header-bar items-center flex-col relative",style:{"z-index":"9999"}},G={class:"flex flex-col items-center justify-center"},H=["src"],J={class:"m-b-1"},Q={key:0,class:"text-white text-6 absolute top-100"},W={class:"flex-1 flex flex-col"},K={class:"p-y-1 m-0 b-0 text-center text-gray-300"},ce=D({__name:"ListPage",setup(Y){const g=N(),d=M(),c=A(),s=f(),_=z();S();const{fetchList:b,list:n}=U(),h=v(()=>B[g.value]);I(async()=>{s.value=await _(),await b(),i.value=j[s.value.vipLevel]},()=>{c.replace("/")});const p=V(),y=()=>{c.push("/writing")},i=f({listMaxCount:0,templateCount:1,money:0}),C=()=>{var u;if(!s)return"";switch((u=s.value)==null?void 0:u.vipLevel){case-1:return"";case 0:return"text-red fw-900";case 1:return"text-green fw-400";case 2:return"text-blue fw-600";case 3:return"text-yellow fw-800";default:return""}},m=v(()=>C()),w=()=>i.value.listMaxCount<Number.MAX_VALUE?i.value.listMaxCount-n.value.length:"∞",L=()=>{c.push("/payment")};return(u,Z)=>(a(),r("div",T,[e("div",$,[e("header",q,[e("div",G,[e("img",{src:t(p).avatar,alt:"avatar",srcset:"",class:"avatar"},null,8,H),e("label",{class:l(["username",m.value])},o(t(p).username),3),e("i",{class:l(["iconfont icon-vip",m.value])},null,2),e("label",J," 剩余： "+o(w())+" 卡片 ",1)]),e("div",{class:l(["flex",{"flex-col":t(d)}]),style:{gap:"4px"}},[e("div",{onClick:y,class:"btn py-1 px-2 cursor-pointer flex items-center text-black bg-gray-100"}," 返回分享 "),e("div",{onClick:L,class:"btn py-1 px-2 cursor-pointer flex items-center",style:F(`background-image:${h.value}`)}," 立即充值 ",4)],2)])]),e("div",{class:l(["flex m-t-2 flex-col justify-center items-center",{"p-x-140":!t(d)}]),style:{gap:"12px"}},[t(n).length===0?(a(),r("div",Q," 空空荡荡~~，快去"+o(t(E)),1)):(a(!0),r(R,{key:1},X(t(n),(x,k)=>(a(),r("div",{key:x.id,class:"shining-card p-x-3 p-t-3 bg-white flex justify-center items-center m-b-4"},[e("div",W,[O(t(P),{lazy:"",src:x.picURL,alt:"shining card",width:"100%",class:"flex-1"},null,8,["src"]),e("p",K,o(k+1),1)])]))),128))],2)]))}});export{ce as default};
