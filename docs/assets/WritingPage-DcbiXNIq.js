var bl=Object.defineProperty;var vl=(s,t,e)=>t in s?bl(s,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[t]=e;var q=(s,t,e)=>(vl(s,typeof t!="symbol"?t+"":t,e),e);import{h as yl,j as so,k as Qo,l as Jo,m as xl,n as wl,o as El,u as Ei,_ as ne,p as Tl,c as ta,v as Nl,q as ea,r as na,t as sa,R as Sl,G as Al,W as Cl,b as ra,w as Ue,x as ia,y as oa,z as Vs,A as Ti,B as Ll,C as _l,D as kl,d as ql,i as dn,V as Ol,E as Rl,F as Il,H as Bl}from"./index-Clr4yTAH.js";import{a4 as ei,d as at,b as Y,h as O,q as Ni,w as is,K as Si,a8 as Ai,H as Rt,i as Ks,c as It,m as Ci,p as os,M as Fe,N as hn,T as aa,v as la,F as fn,n as Ds,A as $l,a3 as Ml,o as et,O as it,$ as F,u as $,a5 as Wt,a0 as gs,W as ge,X as Jt,P as He,f as Pn,R as ze,t as ot,a6 as Li,a7 as _i}from"./vue-Di5-u55g.js";import{k as ca,g as ua,s as Pl,b as Dl,a as ki,c as zl,d as jl,e as Ul,f as ro,h as qi,i as Fl,F as Hl,j as Wl,p as Gl,m as Vl,l as io,L as Kl,z as Xl,u as oo,n as jr,o as Yl}from"./index-GdlEPkIE.js";import{C as Xs,D as Oi,E as Zl,F as da,G as Ql,H as Fs,I as ha,J as Jl,K as tc,L as ec,M as nc,S as sc,O as rc,g as ic,r as oc,d as k,l as j,a as z,m as fa,u as ac,N as pa,P as lc,h as ga,Q as cc,n as Ri,q as uc,w as ma,b as Ys,e as ht,R as dc,i as hc,o as Zs,p as ni,t as ba,y as Zt,T as va,c as fc,s as fe,v as ao,V as Ur,U as Ve}from"./Scrollbar-mk8GiI3u.js";import{g as Os,d as pc}from"./index-nIhFUblp.js";import{u as gc}from"./vue-router-lONT7pAu.js";function mc(s,t){for(var e=-1,n=s==null?0:s.length;++e<n&&t(s[e],e,s)!==!1;);return s}function bc(s,t){return s&&Xs(t,ca(t),s)}function vc(s,t){return s&&Xs(t,Oi(t),s)}function yc(s,t){return Xs(s,ua(s),t)}var xc=Object.getOwnPropertySymbols,ya=xc?function(s){for(var t=[];s;)yl(t,ua(s)),s=Zl(s);return t}:Pl;function wc(s,t){return Xs(s,ya(s),t)}function Ec(s){return Dl(s,Oi,ya)}var Tc=Object.prototype,Nc=Tc.hasOwnProperty;function Sc(s){var t=s.length,e=new s.constructor(t);return t&&typeof s[0]=="string"&&Nc.call(s,"index")&&(e.index=s.index,e.input=s.input),e}function Ac(s,t){var e=t?da(s.buffer):s.buffer;return new s.constructor(e,s.byteOffset,s.byteLength)}var Cc=/\w*$/;function Lc(s){var t=new s.constructor(s.source,Cc.exec(s));return t.lastIndex=s.lastIndex,t}var lo=so?so.prototype:void 0,co=lo?lo.valueOf:void 0;function _c(s){return co?Object(co.call(s)):{}}var kc="[object Boolean]",qc="[object Date]",Oc="[object Map]",Rc="[object Number]",Ic="[object RegExp]",Bc="[object Set]",$c="[object String]",Mc="[object Symbol]",Pc="[object ArrayBuffer]",Dc="[object DataView]",zc="[object Float32Array]",jc="[object Float64Array]",Uc="[object Int8Array]",Fc="[object Int16Array]",Hc="[object Int32Array]",Wc="[object Uint8Array]",Gc="[object Uint8ClampedArray]",Vc="[object Uint16Array]",Kc="[object Uint32Array]";function Xc(s,t,e){var n=s.constructor;switch(t){case Pc:return da(s);case kc:case qc:return new n(+s);case Dc:return Ac(s,e);case zc:case jc:case Uc:case Fc:case Hc:case Wc:case Gc:case Vc:case Kc:return Ql(s,e);case Oc:return new n;case Rc:case $c:return new n(s);case Ic:return Lc(s);case Bc:return new n;case Mc:return _c(s)}}var Yc="[object Map]";function Zc(s){return Qo(s)&&ki(s)==Yc}var uo=Fs&&Fs.isMap,Qc=uo?ha(uo):Zc,Jc="[object Set]";function tu(s){return Qo(s)&&ki(s)==Jc}var ho=Fs&&Fs.isSet,eu=ho?ha(ho):tu,nu=1,su=2,ru=4,xa="[object Arguments]",iu="[object Array]",ou="[object Boolean]",au="[object Date]",lu="[object Error]",wa="[object Function]",cu="[object GeneratorFunction]",uu="[object Map]",du="[object Number]",Ea="[object Object]",hu="[object RegExp]",fu="[object Set]",pu="[object String]",gu="[object Symbol]",mu="[object WeakMap]",bu="[object ArrayBuffer]",vu="[object DataView]",yu="[object Float32Array]",xu="[object Float64Array]",wu="[object Int8Array]",Eu="[object Int16Array]",Tu="[object Int32Array]",Nu="[object Uint8Array]",Su="[object Uint8ClampedArray]",Au="[object Uint16Array]",Cu="[object Uint32Array]",rt={};rt[xa]=rt[iu]=rt[bu]=rt[vu]=rt[ou]=rt[au]=rt[yu]=rt[xu]=rt[wu]=rt[Eu]=rt[Tu]=rt[uu]=rt[du]=rt[Ea]=rt[hu]=rt[fu]=rt[pu]=rt[gu]=rt[Nu]=rt[Su]=rt[Au]=rt[Cu]=!0;rt[lu]=rt[wa]=rt[mu]=!1;function zs(s,t,e,n,r,i){var o,l=t&nu,c=t&su,d=t&ru;if(e&&(o=r?e(s,n,r,i):e(s)),o!==void 0)return o;if(!Jo(s))return s;var h=xl(s);if(h){if(o=Sc(s),!l)return Jl(s,o)}else{var b=ki(s),g=b==wa||b==cu;if(tc(s))return ec(s,l);if(b==Ea||b==xa||g&&!r){if(o=c||g?{}:nc(s),!l)return c?wc(s,vc(o,s)):yc(s,bc(o,s))}else{if(!rt[b])return r?s:{};o=Xc(s,b,l)}}i||(i=new sc);var f=i.get(s);if(f)return f;i.set(s,o),eu(s)?s.forEach(function(v){o.add(zs(v,t,e,v,s,i))}):Qc(s)&&s.forEach(function(v,w){o.set(w,zs(v,t,e,w,s,i))});var m=d?c?Ec:zl:c?Oi:ca,y=h?void 0:m(s);return mc(y||s,function(v,w){y&&(w=v,v=s[w]),wl(o,w,zs(v,t,e,w,s,i))}),o}var Lu=1,_u=4;function Dn(s){return zs(s,Lu|_u)}function Ii(s,t){return jl(s,t)}var ku="Expected a function";function Fr(s,t,e){var n=!0,r=!0;if(typeof s!="function")throw new TypeError(ku);return Jo(e)&&(n="leading"in e?!!e.leading:n,r="trailing"in e?!!e.trailing:r),El(s,t,{leading:n,maxWait:t,trailing:r})}function qu(s,t=[],e){const n={};return Object.getOwnPropertyNames(s).forEach(i=>{t.includes(i)||(n[i]=s[i])}),Object.assign(n,e)}const Ou=(s,...t)=>typeof s=="function"?s(...t):typeof s=="string"?ei(s):typeof s=="number"?ei(String(s)):null,Ru=new WeakSet;function Iu(s){return!Ru.has(s)}const Bu=ro(".v-x-scroll",{overflow:"auto",scrollbarWidth:"none"},[ro("&::-webkit-scrollbar",{width:0,height:0})]),$u=at({name:"XScroll",props:{disabled:Boolean,onScroll:Function},setup(){const s=Y(null);function t(r){!(r.currentTarget.offsetWidth<r.currentTarget.scrollWidth)||r.deltaY===0||(r.currentTarget.scrollLeft+=r.deltaY+r.deltaX,r.preventDefault())}const e=rc();return Bu.mount({id:"vueuc/x-scroll",head:!0,anchorMetaName:Ul,ssr:e}),Object.assign({selfRef:s,handleWheel:t},{scrollTo(...r){var i;(i=s.value)===null||i===void 0||i.scrollTo(...r)}})},render(){return O("div",{ref:"selfRef",onScroll:this.onScroll,onWheel:this.disabled?void 0:this.handleWheel,class:"v-x-scroll"},this.$slots)}});let qn=0,fo="",po="",go="",mo="";const bo=Y("0px");function Mu(s){if(typeof document>"u")return;const t=document.documentElement;let e,n=!1;const r=()=>{t.style.marginRight=fo,t.style.overflow=po,t.style.overflowX=go,t.style.overflowY=mo,bo.value="0px"};Ni(()=>{e=is(s,i=>{if(i){if(!qn){const o=window.innerWidth-t.offsetWidth;o>0&&(fo=t.style.marginRight,t.style.marginRight=`${o}px`,bo.value=`${o}px`),po=t.style.overflow,go=t.style.overflowX,mo=t.style.overflowY,t.style.overflow="hidden",t.style.overflowX="hidden",t.style.overflowY="hidden"}n=!0,qn++}else qn--,qn||r(),n=!1},{immediate:!0})}),Si(()=>{e==null||e(),n&&(qn--,qn||r(),n=!1)})}const Bi=Y(!1),vo=()=>{Bi.value=!0},yo=()=>{Bi.value=!1};let ns=0;const Pu=()=>(ic&&(Ai(()=>{ns||(window.addEventListener("compositionstart",vo),window.addEventListener("compositionend",yo)),ns++}),Si(()=>{ns<=1?(window.removeEventListener("compositionstart",vo),window.removeEventListener("compositionend",yo),ns=0):ns--})),Bi),Du=at({name:"Add",render(){return O("svg",{width:"512",height:"512",viewBox:"0 0 512 512",fill:"none",xmlns:"http://www.w3.org/2000/svg"},O("path",{d:"M256 112V400M400 256H112",stroke:"currentColor","stroke-width":"32","stroke-linecap":"round","stroke-linejoin":"round"}))}}),zu=oc("close",O("svg",{viewBox:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg","aria-hidden":!0},O("g",{stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},O("g",{fill:"currentColor","fill-rule":"nonzero"},O("path",{d:"M2.08859116,2.2156945 L2.14644661,2.14644661 C2.32001296,1.97288026 2.58943736,1.95359511 2.7843055,2.08859116 L2.85355339,2.14644661 L6,5.293 L9.14644661,2.14644661 C9.34170876,1.95118446 9.65829124,1.95118446 9.85355339,2.14644661 C10.0488155,2.34170876 10.0488155,2.65829124 9.85355339,2.85355339 L6.707,6 L9.85355339,9.14644661 C10.0271197,9.32001296 10.0464049,9.58943736 9.91140884,9.7843055 L9.85355339,9.85355339 C9.67998704,10.0271197 9.41056264,10.0464049 9.2156945,9.91140884 L9.14644661,9.85355339 L6,6.707 L2.85355339,9.85355339 C2.65829124,10.0488155 2.34170876,10.0488155 2.14644661,9.85355339 C1.95118446,9.65829124 1.95118446,9.34170876 2.14644661,9.14644661 L5.293,6 L2.14644661,2.85355339 C1.97288026,2.67998704 1.95359511,2.41056264 2.08859116,2.2156945 L2.14644661,2.14644661 L2.08859116,2.2156945 Z"}))))),ju=k("base-close",`
 display: flex;
 align-items: center;
 justify-content: center;
 cursor: pointer;
 background-color: transparent;
 color: var(--n-close-icon-color);
 border-radius: var(--n-close-border-radius);
 height: var(--n-close-size);
 width: var(--n-close-size);
 font-size: var(--n-close-icon-size);
 outline: none;
 border: none;
 position: relative;
 padding: 0;
`,[j("absolute",`
 height: var(--n-close-icon-size);
 width: var(--n-close-icon-size);
 `),z("&::before",`
 content: "";
 position: absolute;
 width: var(--n-close-size);
 height: var(--n-close-size);
 left: 50%;
 top: 50%;
 transform: translateY(-50%) translateX(-50%);
 transition: inherit;
 border-radius: inherit;
 `),fa("disabled",[z("&:hover",`
 color: var(--n-close-icon-color-hover);
 `),z("&:hover::before",`
 background-color: var(--n-close-color-hover);
 `),z("&:focus::before",`
 background-color: var(--n-close-color-hover);
 `),z("&:active",`
 color: var(--n-close-icon-color-pressed);
 `),z("&:active::before",`
 background-color: var(--n-close-color-pressed);
 `)]),j("disabled",`
 cursor: not-allowed;
 color: var(--n-close-icon-color-disabled);
 background-color: transparent;
 `),j("round",[z("&::before",`
 border-radius: 50%;
 `)])]),Ta=at({name:"BaseClose",props:{isButtonTag:{type:Boolean,default:!0},clsPrefix:{type:String,required:!0},disabled:{type:Boolean,default:void 0},focusable:{type:Boolean,default:!0},round:Boolean,onClick:Function,absolute:Boolean},setup(s){return ac("-base-close",ju,Rt(s,"clsPrefix")),()=>{const{clsPrefix:t,disabled:e,absolute:n,round:r,isButtonTag:i}=s;return O(i?"button":"div",{type:i?"button":void 0,tabindex:e||!s.focusable?-1:0,"aria-disabled":e,"aria-label":"close",role:i?void 0:"button",disabled:e,class:[`${t}-base-close`,n&&`${t}-base-close--absolute`,e&&`${t}-base-close--disabled`,r&&`${t}-base-close--round`],onMousedown:l=>{s.focusable||l.preventDefault()},onClick:s.onClick},O(pa,{clsPrefix:t},{default:()=>O(zu,null)}))}}}),Uu=s=>{const{modalColor:t,textColor1:e,textColor2:n,boxShadow3:r,lineHeight:i,fontWeightStrong:o,dividerColor:l,closeColorHover:c,closeColorPressed:d,closeIconColor:h,closeIconColorHover:b,closeIconColorPressed:g,borderRadius:f,primaryColorHover:m}=s;return{bodyPadding:"16px 24px",borderRadius:f,headerPadding:"16px 24px",footerPadding:"16px 24px",color:t,textColor:n,titleTextColor:e,titleFontSize:"18px",titleFontWeight:o,boxShadow:r,lineHeight:i,headerBorderBottom:`1px solid ${l}`,footerBorderTop:`1px solid ${l}`,closeIconColor:h,closeIconColorHover:b,closeIconColorPressed:g,closeSize:"22px",closeIconSize:"18px",closeColorHover:c,closeColorPressed:d,closeBorderRadius:f,resizableTriggerColorHover:m}},Fu=lc({name:"Drawer",common:ga,peers:{Scrollbar:cc},self:Uu}),Hu=Fu,Wu=at({name:"NDrawerContent",inheritAttrs:!1,props:{blockScroll:Boolean,show:{type:Boolean,default:void 0},displayDirective:{type:String,required:!0},placement:{type:String,required:!0},contentClass:String,contentStyle:[Object,String],nativeScrollbar:{type:Boolean,required:!0},scrollbarProps:Object,trapFocus:{type:Boolean,default:!0},autoFocus:{type:Boolean,default:!0},showMask:{type:[Boolean,String],required:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,onClickoutside:Function,onAfterLeave:Function,onAfterEnter:Function,onEsc:Function},setup(s){const t=Y(!!s.show),e=Y(null),n=Ks(qi);let r=0,i="",o=null;const l=Y(!1),c=Y(!1),d=It(()=>s.placement==="top"||s.placement==="bottom"),{mergedClsPrefixRef:h,mergedRtlRef:b}=Ri(s),g=uc("Drawer",b,h),f=H=>{c.value=!0,r=d.value?H.clientY:H.clientX,i=document.body.style.cursor,document.body.style.cursor=d.value?"ns-resize":"ew-resize",document.body.addEventListener("mousemove",_),document.body.addEventListener("mouseleave",A),document.body.addEventListener("mouseup",T)},m=()=>{o!==null&&(window.clearTimeout(o),o=null),c.value?l.value=!0:o=window.setTimeout(()=>{l.value=!0},300)},y=()=>{o!==null&&(window.clearTimeout(o),o=null),l.value=!1},{doUpdateHeight:v,doUpdateWidth:w}=n,S=H=>{const{maxWidth:Q}=s;if(Q&&H>Q)return Q;const{minWidth:nt}=s;return nt&&H<nt?nt:H},N=H=>{const{maxHeight:Q}=s;if(Q&&H>Q)return Q;const{minHeight:nt}=s;return nt&&H<nt?nt:H},_=H=>{var Q,nt;if(c.value)if(d.value){let st=((Q=e.value)===null||Q===void 0?void 0:Q.offsetHeight)||0;const ct=r-H.clientY;st+=s.placement==="bottom"?ct:-ct,st=N(st),v(st),r=H.clientY}else{let st=((nt=e.value)===null||nt===void 0?void 0:nt.offsetWidth)||0;const ct=r-H.clientX;st+=s.placement==="right"?ct:-ct,st=S(st),w(st),r=H.clientX}},T=()=>{c.value&&(r=0,c.value=!1,document.body.style.cursor=i,document.body.removeEventListener("mousemove",_),document.body.removeEventListener("mouseup",T),document.body.removeEventListener("mouseleave",A))},A=T;Ci(()=>{s.show&&(t.value=!0)}),is(()=>s.show,H=>{H||T()}),Si(()=>{T()});const I=It(()=>{const{show:H}=s,Q=[[hn,H]];return s.showMask||Q.push([Fl,s.onClickoutside,void 0,{capture:!0}]),Q});function U(){var H;t.value=!1,(H=s.onAfterLeave)===null||H===void 0||H.call(s)}return Mu(It(()=>s.blockScroll&&t.value)),os(Wl,e),os(Gl,null),os(Vl,null),{bodyRef:e,rtlEnabled:g,mergedClsPrefix:n.mergedClsPrefixRef,isMounted:n.isMountedRef,mergedTheme:n.mergedThemeRef,displayed:t,transitionName:It(()=>({right:"slide-in-from-right-transition",left:"slide-in-from-left-transition",top:"slide-in-from-top-transition",bottom:"slide-in-from-bottom-transition"})[s.placement]),handleAfterLeave:U,bodyDirectives:I,handleMousedownResizeTrigger:f,handleMouseenterResizeTrigger:m,handleMouseleaveResizeTrigger:y,isDragging:c,isHoverOnResizeTrigger:l}},render(){const{$slots:s,mergedClsPrefix:t}=this;return this.displayDirective==="show"||this.displayed||this.show?Fe(O("div",{role:"none"},O(Hl,{disabled:!this.showMask||!this.trapFocus,active:this.show,autoFocus:this.autoFocus,onEsc:this.onEsc},{default:()=>O(aa,{name:this.transitionName,appear:this.isMounted,onAfterEnter:this.onAfterEnter,onAfterLeave:this.handleAfterLeave},{default:()=>Fe(O("div",la(this.$attrs,{role:"dialog",ref:"bodyRef","aria-modal":"true",class:[`${t}-drawer`,this.rtlEnabled&&`${t}-drawer--rtl`,`${t}-drawer--${this.placement}-placement`,this.isDragging&&`${t}-drawer--unselectable`,this.nativeScrollbar&&`${t}-drawer--native-scrollbar`]}),[this.resizable?O("div",{class:[`${t}-drawer__resize-trigger`,(this.isDragging||this.isHoverOnResizeTrigger)&&`${t}-drawer__resize-trigger--hover`],onMouseenter:this.handleMouseenterResizeTrigger,onMouseleave:this.handleMouseleaveResizeTrigger,onMousedown:this.handleMousedownResizeTrigger}):null,this.nativeScrollbar?O("div",{class:[`${t}-drawer-content-wrapper`,this.contentClass],style:this.contentStyle,role:"none"},s):O(ma,Object.assign({},this.scrollbarProps,{contentStyle:this.contentStyle,contentClass:[`${t}-drawer-content-wrapper`,this.contentClass],theme:this.mergedTheme.peers.Scrollbar,themeOverrides:this.mergedTheme.peerOverrides.Scrollbar}),s)]),this.bodyDirectives)})})),[[hn,this.displayDirective==="if"||this.displayed||this.show]]):null}}),{cubicBezierEaseIn:Gu,cubicBezierEaseOut:Vu}=Ys;function Ku({duration:s="0.3s",leaveDuration:t="0.2s",name:e="slide-in-from-right"}={}){return[z(`&.${e}-transition-leave-active`,{transition:`transform ${t} ${Gu}`}),z(`&.${e}-transition-enter-active`,{transition:`transform ${s} ${Vu}`}),z(`&.${e}-transition-enter-to`,{transform:"translateX(0)"}),z(`&.${e}-transition-enter-from`,{transform:"translateX(100%)"}),z(`&.${e}-transition-leave-from`,{transform:"translateX(0)"}),z(`&.${e}-transition-leave-to`,{transform:"translateX(100%)"})]}const{cubicBezierEaseIn:Xu,cubicBezierEaseOut:Yu}=Ys;function Zu({duration:s="0.3s",leaveDuration:t="0.2s",name:e="slide-in-from-left"}={}){return[z(`&.${e}-transition-leave-active`,{transition:`transform ${t} ${Xu}`}),z(`&.${e}-transition-enter-active`,{transition:`transform ${s} ${Yu}`}),z(`&.${e}-transition-enter-to`,{transform:"translateX(0)"}),z(`&.${e}-transition-enter-from`,{transform:"translateX(-100%)"}),z(`&.${e}-transition-leave-from`,{transform:"translateX(0)"}),z(`&.${e}-transition-leave-to`,{transform:"translateX(-100%)"})]}const{cubicBezierEaseIn:Qu,cubicBezierEaseOut:Ju}=Ys;function td({duration:s="0.3s",leaveDuration:t="0.2s",name:e="slide-in-from-top"}={}){return[z(`&.${e}-transition-leave-active`,{transition:`transform ${t} ${Qu}`}),z(`&.${e}-transition-enter-active`,{transition:`transform ${s} ${Ju}`}),z(`&.${e}-transition-enter-to`,{transform:"translateY(0)"}),z(`&.${e}-transition-enter-from`,{transform:"translateY(-100%)"}),z(`&.${e}-transition-leave-from`,{transform:"translateY(0)"}),z(`&.${e}-transition-leave-to`,{transform:"translateY(-100%)"})]}const{cubicBezierEaseIn:ed,cubicBezierEaseOut:nd}=Ys;function sd({duration:s="0.3s",leaveDuration:t="0.2s",name:e="slide-in-from-bottom"}={}){return[z(`&.${e}-transition-leave-active`,{transition:`transform ${t} ${ed}`}),z(`&.${e}-transition-enter-active`,{transition:`transform ${s} ${nd}`}),z(`&.${e}-transition-enter-to`,{transform:"translateY(0)"}),z(`&.${e}-transition-enter-from`,{transform:"translateY(100%)"}),z(`&.${e}-transition-leave-from`,{transform:"translateY(0)"}),z(`&.${e}-transition-leave-to`,{transform:"translateY(100%)"})]}const rd=z([k("drawer",`
 word-break: break-word;
 line-height: var(--n-line-height);
 position: absolute;
 pointer-events: all;
 box-shadow: var(--n-box-shadow);
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 background-color: var(--n-color);
 color: var(--n-text-color);
 box-sizing: border-box;
 `,[Ku(),Zu(),td(),sd(),j("unselectable",`
 user-select: none; 
 -webkit-user-select: none;
 `),j("native-scrollbar",[k("drawer-content-wrapper",`
 overflow: auto;
 height: 100%;
 `)]),ht("resize-trigger",`
 position: absolute;
 background-color: #0000;
 transition: background-color .3s var(--n-bezier);
 `,[j("hover",`
 background-color: var(--n-resize-trigger-color-hover);
 `)]),k("drawer-content-wrapper",`
 box-sizing: border-box;
 `),k("drawer-content",`
 height: 100%;
 display: flex;
 flex-direction: column;
 `,[j("native-scrollbar",[k("drawer-body-content-wrapper",`
 height: 100%;
 overflow: auto;
 `)]),k("drawer-body",`
 flex: 1 0 0;
 overflow: hidden;
 `),k("drawer-body-content-wrapper",`
 box-sizing: border-box;
 padding: var(--n-body-padding);
 `),k("drawer-header",`
 font-weight: var(--n-title-font-weight);
 line-height: 1;
 font-size: var(--n-title-font-size);
 color: var(--n-title-text-color);
 padding: var(--n-header-padding);
 transition: border .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-divider-color);
 border-bottom: var(--n-header-border-bottom);
 display: flex;
 justify-content: space-between;
 align-items: center;
 `,[ht("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `)]),k("drawer-footer",`
 display: flex;
 justify-content: flex-end;
 border-top: var(--n-footer-border-top);
 transition: border .3s var(--n-bezier);
 padding: var(--n-footer-padding);
 `)]),j("right-placement",`
 top: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-bottom-left-radius: var(--n-border-radius);
 `,[ht("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 left: 0;
 transform: translateX(-1.5px);
 cursor: ew-resize;
 `)]),j("left-placement",`
 top: 0;
 bottom: 0;
 left: 0;
 border-top-right-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[ht("resize-trigger",`
 width: 3px;
 height: 100%;
 top: 0;
 right: 0;
 transform: translateX(1.5px);
 cursor: ew-resize;
 `)]),j("top-placement",`
 top: 0;
 left: 0;
 right: 0;
 border-bottom-left-radius: var(--n-border-radius);
 border-bottom-right-radius: var(--n-border-radius);
 `,[ht("resize-trigger",`
 width: 100%;
 height: 3px;
 bottom: 0;
 left: 0;
 transform: translateY(1.5px);
 cursor: ns-resize;
 `)]),j("bottom-placement",`
 left: 0;
 bottom: 0;
 right: 0;
 border-top-left-radius: var(--n-border-radius);
 border-top-right-radius: var(--n-border-radius);
 `,[ht("resize-trigger",`
 width: 100%;
 height: 3px;
 top: 0;
 left: 0;
 transform: translateY(-1.5px);
 cursor: ns-resize;
 `)])]),z("body",[z(">",[k("drawer-container",`
 position: fixed;
 `)])]),k("drawer-container",`
 position: relative;
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 pointer-events: none;
 `,[z("> *",`
 pointer-events: all;
 `)]),k("drawer-mask",`
 background-color: rgba(0, 0, 0, .3);
 position: absolute;
 left: 0;
 right: 0;
 top: 0;
 bottom: 0;
 `,[j("invisible",`
 background-color: rgba(0, 0, 0, 0)
 `),dc({enterDuration:"0.2s",leaveDuration:"0.2s",enterCubicBezier:"var(--n-bezier-in)",leaveCubicBezier:"var(--n-bezier-out)"})])]),id=Object.assign(Object.assign({},Zs.props),{show:Boolean,width:[Number,String],height:[Number,String],placement:{type:String,default:"right"},maskClosable:{type:Boolean,default:!0},showMask:{type:[Boolean,String],default:!0},to:[String,Object],displayDirective:{type:String,default:"if"},nativeScrollbar:{type:Boolean,default:!0},zIndex:Number,onMaskClick:Function,scrollbarProps:Object,contentClass:String,contentStyle:[Object,String],trapFocus:{type:Boolean,default:!0},onEsc:Function,autoFocus:{type:Boolean,default:!0},closeOnEsc:{type:Boolean,default:!0},blockScroll:{type:Boolean,default:!0},maxWidth:Number,maxHeight:Number,minWidth:Number,minHeight:Number,resizable:Boolean,defaultWidth:{type:[Number,String],default:251},defaultHeight:{type:[Number,String],default:251},onUpdateWidth:[Function,Array],onUpdateHeight:[Function,Array],"onUpdate:width":[Function,Array],"onUpdate:height":[Function,Array],"onUpdate:show":[Function,Array],onUpdateShow:[Function,Array],onAfterEnter:Function,onAfterLeave:Function,drawerStyle:[String,Object],drawerClass:String,target:null,onShow:Function,onHide:Function}),od=at({name:"Drawer",inheritAttrs:!1,props:id,setup(s){const{mergedClsPrefixRef:t,namespaceRef:e,inlineThemeDisabled:n}=Ri(s),r=hc(),i=Zs("Drawer","-drawer",rd,Hu,s,t),o=Y(s.defaultWidth),l=Y(s.defaultHeight),c=ni(Rt(s,"width"),o),d=ni(Rt(s,"height"),l),h=It(()=>{const{placement:A}=s;return A==="top"||A==="bottom"?"":io(c.value)}),b=It(()=>{const{placement:A}=s;return A==="left"||A==="right"?"":io(d.value)}),g=A=>{const{onUpdateWidth:I,"onUpdate:width":U}=s;I&&Zt(I,A),U&&Zt(U,A),o.value=A},f=A=>{const{onUpdateHeight:I,"onUpdate:width":U}=s;I&&Zt(I,A),U&&Zt(U,A),l.value=A},m=It(()=>[{width:h.value,height:b.value},s.drawerStyle||""]);function y(A){const{onMaskClick:I,maskClosable:U}=s;U&&N(!1),I&&I(A)}function v(A){y(A)}const w=Pu();function S(A){var I;(I=s.onEsc)===null||I===void 0||I.call(s),s.show&&s.closeOnEsc&&Iu(A)&&!w.value&&N(!1)}function N(A){const{onHide:I,onUpdateShow:U,"onUpdate:show":H}=s;U&&Zt(U,A),H&&Zt(H,A),I&&!A&&Zt(I,A)}os(qi,{isMountedRef:r,mergedThemeRef:i,mergedClsPrefixRef:t,doUpdateShow:N,doUpdateHeight:f,doUpdateWidth:g});const _=It(()=>{const{common:{cubicBezierEaseInOut:A,cubicBezierEaseIn:I,cubicBezierEaseOut:U},self:{color:H,textColor:Q,boxShadow:nt,lineHeight:st,headerPadding:ct,footerPadding:Tt,borderRadius:ft,bodyPadding:ye,titleFontSize:xe,titleTextColor:we,titleFontWeight:oe,headerBorderBottom:K,footerBorderTop:Xe,closeIconColor:Ye,closeIconColorHover:Nt,closeIconColorPressed:Ee,closeColorHover:V,closeColorPressed:ae,closeIconSize:Re,closeSize:St,closeBorderRadius:Ie,resizableTriggerColorHover:Gt}}=i.value;return{"--n-line-height":st,"--n-color":H,"--n-border-radius":ft,"--n-text-color":Q,"--n-box-shadow":nt,"--n-bezier":A,"--n-bezier-out":U,"--n-bezier-in":I,"--n-header-padding":ct,"--n-body-padding":ye,"--n-footer-padding":Tt,"--n-title-text-color":we,"--n-title-font-size":xe,"--n-title-font-weight":oe,"--n-header-border-bottom":K,"--n-footer-border-top":Xe,"--n-close-icon-color":Ye,"--n-close-icon-color-hover":Nt,"--n-close-icon-color-pressed":Ee,"--n-close-size":St,"--n-close-color-hover":V,"--n-close-color-pressed":ae,"--n-close-icon-size":Re,"--n-close-border-radius":Ie,"--n-resize-trigger-color-hover":Gt}}),T=n?ba("drawer",void 0,_,s):void 0;return{mergedClsPrefix:t,namespace:e,mergedBodyStyle:m,handleOutsideClick:v,handleMaskClick:y,handleEsc:S,mergedTheme:i,cssVars:n?void 0:_,themeClass:T==null?void 0:T.themeClass,onRender:T==null?void 0:T.onRender,isMounted:r}},render(){const{mergedClsPrefix:s}=this;return O(Kl,{to:this.to,show:this.show},{default:()=>{var t;return(t=this.onRender)===null||t===void 0||t.call(this),Fe(O("div",{class:[`${s}-drawer-container`,this.namespace,this.themeClass],style:this.cssVars,role:"none"},this.showMask?O(aa,{name:"fade-in-transition",appear:this.isMounted},{default:()=>this.show?O("div",{"aria-hidden":!0,class:[`${s}-drawer-mask`,this.showMask==="transparent"&&`${s}-drawer-mask--invisible`],onClick:this.handleMaskClick}):null}):null,O(Wu,Object.assign({},this.$attrs,{class:[this.drawerClass,this.$attrs.class],style:[this.mergedBodyStyle,this.$attrs.style],blockScroll:this.blockScroll,contentStyle:this.contentStyle,contentClass:this.contentClass,placement:this.placement,scrollbarProps:this.scrollbarProps,show:this.show,displayDirective:this.displayDirective,nativeScrollbar:this.nativeScrollbar,onAfterEnter:this.onAfterEnter,onAfterLeave:this.onAfterLeave,trapFocus:this.trapFocus,autoFocus:this.autoFocus,resizable:this.resizable,maxHeight:this.maxHeight,minHeight:this.minHeight,maxWidth:this.maxWidth,minWidth:this.minWidth,showMask:this.showMask,onEsc:this.handleEsc,onClickoutside:this.handleOutsideClick}),this.$slots)),[[Xl,{zIndex:this.zIndex,enabled:this.show}]])}})}}),ad={title:String,headerClass:String,headerStyle:[Object,String],footerClass:String,footerStyle:[Object,String],bodyClass:String,bodyStyle:[Object,String],bodyContentClass:String,bodyContentStyle:[Object,String],nativeScrollbar:{type:Boolean,default:!0},scrollbarProps:Object,closable:Boolean},ld=at({name:"DrawerContent",props:ad,setup(){const s=Ks(qi,null);s||va("drawer-content","`n-drawer-content` must be placed inside `n-drawer`.");const{doUpdateShow:t}=s;function e(){t(!1)}return{handleCloseClick:e,mergedTheme:s.mergedThemeRef,mergedClsPrefix:s.mergedClsPrefixRef}},render(){const{title:s,mergedClsPrefix:t,nativeScrollbar:e,mergedTheme:n,bodyClass:r,bodyStyle:i,bodyContentClass:o,bodyContentStyle:l,headerClass:c,headerStyle:d,footerClass:h,footerStyle:b,scrollbarProps:g,closable:f,$slots:m}=this;return O("div",{role:"none",class:[`${t}-drawer-content`,e&&`${t}-drawer-content--native-scrollbar`]},m.header||s||f?O("div",{class:[`${t}-drawer-header`,c],style:d,role:"none"},O("div",{class:`${t}-drawer-header__main`,role:"heading","aria-level":"1"},m.header!==void 0?m.header():s),f&&O(Ta,{onClick:this.handleCloseClick,clsPrefix:t,class:`${t}-drawer-header__close`,absolute:!0})):null,e?O("div",{class:[`${t}-drawer-body`,r],style:i,role:"none"},O("div",{class:[`${t}-drawer-body-content-wrapper`,o],style:l,role:"none"},m)):O(ma,Object.assign({themeOverrides:n.peerOverrides.Scrollbar,theme:n.peers.Scrollbar},g,{class:`${t}-drawer-body`,contentClass:[`${t}-drawer-body-content-wrapper`,o],contentStyle:l}),m),m.footer?O("div",{class:[`${t}-drawer-footer`,h],style:b,role:"none"},m.footer()):null)}}),cd={tabFontSizeSmall:"14px",tabFontSizeMedium:"14px",tabFontSizeLarge:"16px",tabGapSmallLine:"36px",tabGapMediumLine:"36px",tabGapLargeLine:"36px",tabGapSmallLineVertical:"8px",tabGapMediumLineVertical:"8px",tabGapLargeLineVertical:"8px",tabPaddingSmallLine:"6px 0",tabPaddingMediumLine:"10px 0",tabPaddingLargeLine:"14px 0",tabPaddingVerticalSmallLine:"6px 12px",tabPaddingVerticalMediumLine:"8px 16px",tabPaddingVerticalLargeLine:"10px 20px",tabGapSmallBar:"36px",tabGapMediumBar:"36px",tabGapLargeBar:"36px",tabGapSmallBarVertical:"8px",tabGapMediumBarVertical:"8px",tabGapLargeBarVertical:"8px",tabPaddingSmallBar:"4px 0",tabPaddingMediumBar:"6px 0",tabPaddingLargeBar:"10px 0",tabPaddingVerticalSmallBar:"6px 12px",tabPaddingVerticalMediumBar:"8px 16px",tabPaddingVerticalLargeBar:"10px 20px",tabGapSmallCard:"4px",tabGapMediumCard:"4px",tabGapLargeCard:"4px",tabGapSmallCardVertical:"4px",tabGapMediumCardVertical:"4px",tabGapLargeCardVertical:"4px",tabPaddingSmallCard:"8px 16px",tabPaddingMediumCard:"10px 20px",tabPaddingLargeCard:"12px 24px",tabPaddingSmallSegment:"4px 0",tabPaddingMediumSegment:"6px 0",tabPaddingLargeSegment:"8px 0",tabPaddingVerticalLargeSegment:"0 8px",tabPaddingVerticalSmallCard:"8px 12px",tabPaddingVerticalMediumCard:"10px 16px",tabPaddingVerticalLargeCard:"12px 20px",tabPaddingVerticalSmallSegment:"0 4px",tabPaddingVerticalMediumSegment:"0 6px",tabGapSmallSegment:"0",tabGapMediumSegment:"0",tabGapLargeSegment:"0",tabGapSmallSegmentVertical:"0",tabGapMediumSegmentVertical:"0",tabGapLargeSegmentVertical:"0",panePaddingSmall:"8px 0 0 0",panePaddingMedium:"12px 0 0 0",panePaddingLarge:"16px 0 0 0",closeSize:"18px",closeIconSize:"14px"},ud=s=>{const{textColor2:t,primaryColor:e,textColorDisabled:n,closeIconColor:r,closeIconColorHover:i,closeIconColorPressed:o,closeColorHover:l,closeColorPressed:c,tabColor:d,baseColor:h,dividerColor:b,fontWeight:g,textColor1:f,borderRadius:m,fontSize:y,fontWeightStrong:v}=s;return Object.assign(Object.assign({},cd),{colorSegment:d,tabFontSizeCard:y,tabTextColorLine:f,tabTextColorActiveLine:e,tabTextColorHoverLine:e,tabTextColorDisabledLine:n,tabTextColorSegment:f,tabTextColorActiveSegment:t,tabTextColorHoverSegment:t,tabTextColorDisabledSegment:n,tabTextColorBar:f,tabTextColorActiveBar:e,tabTextColorHoverBar:e,tabTextColorDisabledBar:n,tabTextColorCard:f,tabTextColorHoverCard:f,tabTextColorActiveCard:e,tabTextColorDisabledCard:n,barColor:e,closeIconColor:r,closeIconColorHover:i,closeIconColorPressed:o,closeColorHover:l,closeColorPressed:c,closeBorderRadius:m,tabColor:d,tabColorSegment:h,tabBorderColor:b,tabFontWeightActive:g,tabFontWeight:g,tabBorderRadius:m,paneTextColor:t,fontWeightStrong:v})},dd={name:"Tabs",common:ga,self:ud},hd=dd,$i=fc("n-tabs"),Na={tab:[String,Number,Object,Function],name:{type:[String,Number],required:!0},disabled:Boolean,displayDirective:{type:String,default:"if"},closable:{type:Boolean,default:void 0},tabProps:Object,label:[String,Number,Object,Function]},Rs=at({__TAB_PANE__:!0,name:"TabPane",alias:["TabPanel"],props:Na,setup(s){const t=Ks($i,null);return t||va("tab-pane","`n-tab-pane` must be placed inside `n-tabs`."),{style:t.paneStyleRef,class:t.paneClassRef,mergedClsPrefix:t.mergedClsPrefixRef}},render(){return O("div",{class:[`${this.mergedClsPrefix}-tab-pane`,this.class],style:this.style},this.$slots)}}),fd=Object.assign({internalLeftPadded:Boolean,internalAddable:Boolean,internalCreatedByPane:Boolean},qu(Na,["displayDirective"])),si=at({__TAB__:!0,inheritAttrs:!1,name:"Tab",props:fd,setup(s){const{mergedClsPrefixRef:t,valueRef:e,typeRef:n,closableRef:r,tabStyleRef:i,addTabStyleRef:o,tabClassRef:l,addTabClassRef:c,tabChangeIdRef:d,onBeforeLeaveRef:h,triggerRef:b,handleAdd:g,activateTab:f,handleClose:m}=Ks($i);return{trigger:b,mergedClosable:It(()=>{if(s.internalAddable)return!1;const{closable:y}=s;return y===void 0?r.value:y}),style:i,addStyle:o,tabClass:l,addTabClass:c,clsPrefix:t,value:e,type:n,handleClose(y){y.stopPropagation(),!s.disabled&&m(s.name)},activateTab(){if(s.disabled)return;if(s.internalAddable){g();return}const{name:y}=s,v=++d.id;if(y!==e.value){const{value:w}=h;w?Promise.resolve(w(s.name,e.value)).then(S=>{S&&d.id===v&&f(y)}):f(y)}}}},render(){const{internalAddable:s,clsPrefix:t,name:e,disabled:n,label:r,tab:i,value:o,mergedClosable:l,trigger:c,$slots:{default:d}}=this,h=r??i;return O("div",{class:`${t}-tabs-tab-wrapper`},this.internalLeftPadded?O("div",{class:`${t}-tabs-tab-pad`}):null,O("div",Object.assign({key:e,"data-name":e,"data-disabled":n?!0:void 0},la({class:[`${t}-tabs-tab`,o===e&&`${t}-tabs-tab--active`,n&&`${t}-tabs-tab--disabled`,l&&`${t}-tabs-tab--closable`,s&&`${t}-tabs-tab--addable`,s?this.addTabClass:this.tabClass],onClick:c==="click"?this.activateTab:void 0,onMouseenter:c==="hover"?this.activateTab:void 0,style:s?this.addStyle:this.style},this.internalCreatedByPane?this.tabProps||{}:this.$attrs)),O("span",{class:`${t}-tabs-tab__label`},s?O(fn,null,O("div",{class:`${t}-tabs-tab__height-placeholder`},"Â "),O(pa,{clsPrefix:t},{default:()=>O(Du,null)})):d?d():typeof h=="object"?h:Ou(h??e)),l&&this.type==="card"?O(Ta,{clsPrefix:t,class:`${t}-tabs-tab__close`,onClick:this.handleClose,disabled:n}):null))}}),pd=k("tabs",`
 box-sizing: border-box;
 width: 100%;
 display: flex;
 flex-direction: column;
 transition:
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
`,[j("segment-type",[k("tabs-rail",[z("&.transition-disabled",[k("tabs-capsule",`
 transition: none;
 `)])])]),j("top",[k("tab-pane",`
 padding: var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left);
 `)]),j("left",[k("tab-pane",`
 padding: var(--n-pane-padding-right) var(--n-pane-padding-bottom) var(--n-pane-padding-left) var(--n-pane-padding-top);
 `)]),j("left, right",`
 flex-direction: row;
 `,[k("tabs-bar",`
 width: 2px;
 right: 0;
 transition:
 top .2s var(--n-bezier),
 max-height .2s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `),k("tabs-tab",`
 padding: var(--n-tab-padding-vertical); 
 `)]),j("right",`
 flex-direction: row-reverse;
 `,[k("tab-pane",`
 padding: var(--n-pane-padding-left) var(--n-pane-padding-top) var(--n-pane-padding-right) var(--n-pane-padding-bottom);
 `),k("tabs-bar",`
 left: 0;
 `)]),j("bottom",`
 flex-direction: column-reverse;
 justify-content: flex-end;
 `,[k("tab-pane",`
 padding: var(--n-pane-padding-bottom) var(--n-pane-padding-right) var(--n-pane-padding-top) var(--n-pane-padding-left);
 `),k("tabs-bar",`
 top: 0;
 `)]),k("tabs-rail",`
 padding: 3px;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 background-color: var(--n-color-segment);
 transition: background-color .3s var(--n-bezier);
 display: flex;
 align-items: center;
 `,[k("tabs-capsule",`
 border-radius: var(--n-tab-border-radius);
 position: absolute;
 pointer-events: none;
 background-color: var(--n-tab-color-segment);
 box-shadow: 0 1px 3px 0 rgba(0, 0, 0, .08);
 transition: transform 0.3s var(--n-bezier);
 `),k("tabs-tab-wrapper",`
 flex-basis: 0;
 flex-grow: 1;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[k("tabs-tab",`
 overflow: hidden;
 border-radius: var(--n-tab-border-radius);
 width: 100%;
 display: flex;
 align-items: center;
 justify-content: center;
 `,[j("active",`
 font-weight: var(--n-font-weight-strong);
 color: var(--n-tab-text-color-active);
 `),z("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])])]),j("flex",[k("tabs-nav",`
 width: 100%;
 position: relative;
 `,[k("tabs-wrapper",`
 width: 100%;
 `,[k("tabs-tab",`
 margin-right: 0;
 `)])])]),k("tabs-nav",`
 box-sizing: border-box;
 line-height: 1.5;
 display: flex;
 transition: border-color .3s var(--n-bezier);
 `,[ht("prefix, suffix",`
 display: flex;
 align-items: center;
 `),ht("prefix","padding-right: 16px;"),ht("suffix","padding-left: 16px;")]),j("top, bottom",[k("tabs-nav-scroll-wrapper",[z("&::before",`
 top: 0;
 bottom: 0;
 left: 0;
 width: 20px;
 `),z("&::after",`
 top: 0;
 bottom: 0;
 right: 0;
 width: 20px;
 `),j("shadow-start",[z("&::before",`
 box-shadow: inset 10px 0 8px -8px rgba(0, 0, 0, .12);
 `)]),j("shadow-end",[z("&::after",`
 box-shadow: inset -10px 0 8px -8px rgba(0, 0, 0, .12);
 `)])])]),j("left, right",[k("tabs-nav-scroll-content",`
 flex-direction: column;
 `),k("tabs-nav-scroll-wrapper",[z("&::before",`
 top: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),z("&::after",`
 bottom: 0;
 left: 0;
 right: 0;
 height: 20px;
 `),j("shadow-start",[z("&::before",`
 box-shadow: inset 0 10px 8px -8px rgba(0, 0, 0, .12);
 `)]),j("shadow-end",[z("&::after",`
 box-shadow: inset 0 -10px 8px -8px rgba(0, 0, 0, .12);
 `)])])]),k("tabs-nav-scroll-wrapper",`
 flex: 1;
 position: relative;
 overflow: hidden;
 `,[k("tabs-nav-y-scroll",`
 height: 100%;
 width: 100%;
 overflow-y: auto; 
 scrollbar-width: none;
 `,[z("&::-webkit-scrollbar",`
 width: 0;
 height: 0;
 `)]),z("&::before, &::after",`
 transition: box-shadow .3s var(--n-bezier);
 pointer-events: none;
 content: "";
 position: absolute;
 z-index: 1;
 `)]),k("tabs-nav-scroll-content",`
 display: flex;
 position: relative;
 min-width: 100%;
 min-height: 100%;
 width: fit-content;
 box-sizing: border-box;
 `),k("tabs-wrapper",`
 display: inline-flex;
 flex-wrap: nowrap;
 position: relative;
 `),k("tabs-tab-wrapper",`
 display: flex;
 flex-wrap: nowrap;
 flex-shrink: 0;
 flex-grow: 0;
 `),k("tabs-tab",`
 cursor: pointer;
 white-space: nowrap;
 flex-wrap: nowrap;
 display: inline-flex;
 align-items: center;
 color: var(--n-tab-text-color);
 font-size: var(--n-tab-font-size);
 background-clip: padding-box;
 padding: var(--n-tab-padding);
 transition:
 box-shadow .3s var(--n-bezier),
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 border-color .3s var(--n-bezier);
 `,[j("disabled",{cursor:"not-allowed"}),ht("close",`
 margin-left: 6px;
 transition:
 background-color .3s var(--n-bezier),
 color .3s var(--n-bezier);
 `),ht("label",`
 display: flex;
 align-items: center;
 z-index: 1;
 `)]),k("tabs-bar",`
 position: absolute;
 bottom: 0;
 height: 2px;
 border-radius: 1px;
 background-color: var(--n-bar-color);
 transition:
 left .2s var(--n-bezier),
 max-width .2s var(--n-bezier),
 opacity .3s var(--n-bezier),
 background-color .3s var(--n-bezier);
 `,[z("&.transition-disabled",`
 transition: none;
 `),j("disabled",`
 background-color: var(--n-tab-text-color-disabled)
 `)]),k("tabs-pane-wrapper",`
 position: relative;
 overflow: hidden;
 transition: max-height .2s var(--n-bezier);
 `),k("tab-pane",`
 color: var(--n-pane-text-color);
 width: 100%;
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 opacity .2s var(--n-bezier);
 left: 0;
 right: 0;
 top: 0;
 `,[z("&.next-transition-leave-active, &.prev-transition-leave-active, &.next-transition-enter-active, &.prev-transition-enter-active",`
 transition:
 color .3s var(--n-bezier),
 background-color .3s var(--n-bezier),
 transform .2s var(--n-bezier),
 opacity .2s var(--n-bezier);
 `),z("&.next-transition-leave-active, &.prev-transition-leave-active",`
 position: absolute;
 `),z("&.next-transition-enter-from, &.prev-transition-leave-to",`
 transform: translateX(32px);
 opacity: 0;
 `),z("&.next-transition-leave-to, &.prev-transition-enter-from",`
 transform: translateX(-32px);
 opacity: 0;
 `),z("&.next-transition-leave-from, &.next-transition-enter-to, &.prev-transition-leave-from, &.prev-transition-enter-to",`
 transform: translateX(0);
 opacity: 1;
 `)]),k("tabs-tab-pad",`
 box-sizing: border-box;
 width: var(--n-tab-gap);
 flex-grow: 0;
 flex-shrink: 0;
 `),j("line-type, bar-type",[k("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 box-sizing: border-box;
 vertical-align: bottom;
 `,[z("&:hover",{color:"var(--n-tab-text-color-hover)"}),j("active",`
 color: var(--n-tab-text-color-active);
 font-weight: var(--n-tab-font-weight-active);
 `),j("disabled",{color:"var(--n-tab-text-color-disabled)"})])]),k("tabs-nav",[j("line-type",[j("top",[ht("prefix, suffix",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),k("tabs-nav-scroll-content",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),k("tabs-bar",`
 bottom: -1px;
 `)]),j("left",[ht("prefix, suffix",`
 border-right: 1px solid var(--n-tab-border-color);
 `),k("tabs-nav-scroll-content",`
 border-right: 1px solid var(--n-tab-border-color);
 `),k("tabs-bar",`
 right: -1px;
 `)]),j("right",[ht("prefix, suffix",`
 border-left: 1px solid var(--n-tab-border-color);
 `),k("tabs-nav-scroll-content",`
 border-left: 1px solid var(--n-tab-border-color);
 `),k("tabs-bar",`
 left: -1px;
 `)]),j("bottom",[ht("prefix, suffix",`
 border-top: 1px solid var(--n-tab-border-color);
 `),k("tabs-nav-scroll-content",`
 border-top: 1px solid var(--n-tab-border-color);
 `),k("tabs-bar",`
 top: -1px;
 `)]),ht("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 `),k("tabs-nav-scroll-content",`
 transition: border-color .3s var(--n-bezier);
 `),k("tabs-bar",`
 border-radius: 0;
 `)]),j("card-type",[ht("prefix, suffix",`
 transition: border-color .3s var(--n-bezier);
 border-bottom: 1px solid var(--n-tab-border-color);
 `),k("tabs-pad",`
 flex-grow: 1;
 transition: border-color .3s var(--n-bezier);
 `),k("tabs-tab-pad",`
 transition: border-color .3s var(--n-bezier);
 `),k("tabs-tab",`
 font-weight: var(--n-tab-font-weight);
 border: 1px solid var(--n-tab-border-color);
 background-color: var(--n-tab-color);
 box-sizing: border-box;
 position: relative;
 vertical-align: bottom;
 display: flex;
 justify-content: space-between;
 font-size: var(--n-tab-font-size);
 color: var(--n-tab-text-color);
 `,[j("addable",`
 padding-left: 8px;
 padding-right: 8px;
 font-size: 16px;
 `,[ht("height-placeholder",`
 width: 0;
 font-size: var(--n-tab-font-size);
 `),fa("disabled",[z("&:hover",`
 color: var(--n-tab-text-color-hover);
 `)])]),j("closable","padding-right: 8px;"),j("active",`
 background-color: #0000;
 font-weight: var(--n-tab-font-weight-active);
 color: var(--n-tab-text-color-active);
 `),j("disabled","color: var(--n-tab-text-color-disabled);")]),k("tabs-scroll-padding","border-bottom: 1px solid var(--n-tab-border-color);")]),j("left, right",[k("tabs-wrapper",`
 flex-direction: column;
 `,[k("tabs-tab-wrapper",`
 flex-direction: column;
 `,[k("tabs-tab-pad",`
 height: var(--n-tab-gap-vertical);
 width: 100%;
 `)])])]),j("top",[j("card-type",[k("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-top-right-radius: var(--n-tab-border-radius);
 `,[j("active",`
 border-bottom: 1px solid #0000;
 `)]),k("tabs-tab-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `),k("tabs-pad",`
 border-bottom: 1px solid var(--n-tab-border-color);
 `)])]),j("left",[j("card-type",[k("tabs-tab",`
 border-top-left-radius: var(--n-tab-border-radius);
 border-bottom-left-radius: var(--n-tab-border-radius);
 `,[j("active",`
 border-right: 1px solid #0000;
 `)]),k("tabs-tab-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `),k("tabs-pad",`
 border-right: 1px solid var(--n-tab-border-color);
 `)])]),j("right",[j("card-type",[k("tabs-tab",`
 border-top-right-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[j("active",`
 border-left: 1px solid #0000;
 `)]),k("tabs-tab-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `),k("tabs-pad",`
 border-left: 1px solid var(--n-tab-border-color);
 `)])]),j("bottom",[j("card-type",[k("tabs-tab",`
 border-bottom-left-radius: var(--n-tab-border-radius);
 border-bottom-right-radius: var(--n-tab-border-radius);
 `,[j("active",`
 border-top: 1px solid #0000;
 `)]),k("tabs-tab-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `),k("tabs-pad",`
 border-top: 1px solid var(--n-tab-border-color);
 `)])])])]),gd=Object.assign(Object.assign({},Zs.props),{value:[String,Number],defaultValue:[String,Number],trigger:{type:String,default:"click"},type:{type:String,default:"bar"},closable:Boolean,justifyContent:String,size:{type:String,default:"medium"},placement:{type:String,default:"top"},tabStyle:[String,Object],tabClass:String,addTabStyle:[String,Object],addTabClass:String,barWidth:Number,paneClass:String,paneStyle:[String,Object],paneWrapperClass:String,paneWrapperStyle:[String,Object],addable:[Boolean,Object],tabsPadding:{type:Number,default:0},animated:Boolean,onBeforeLeave:Function,onAdd:Function,"onUpdate:value":[Function,Array],onUpdateValue:[Function,Array],onClose:[Function,Array],labelSize:String,activeName:[String,Number],onActiveNameChange:[Function,Array]}),md=at({name:"Tabs",props:gd,setup(s,{slots:t}){var e,n,r,i;const{mergedClsPrefixRef:o,inlineThemeDisabled:l}=Ri(s),c=Zs("Tabs","-tabs",pd,hd,s,o),d=Y(null),h=Y(null),b=Y(null),g=Y(null),f=Y(null),m=Y(null),y=Y(!0),v=Y(!0),w=oo(s,["labelSize","size"]),S=oo(s,["activeName","value"]),N=Y((n=(e=S.value)!==null&&e!==void 0?e:s.defaultValue)!==null&&n!==void 0?n:t.default?(i=(r=jr(t.default())[0])===null||r===void 0?void 0:r.props)===null||i===void 0?void 0:i.name:null),_=ni(S,N),T={id:0},A=It(()=>{if(!(!s.justifyContent||s.type==="card"))return{display:"flex",justifyContent:s.justifyContent}});is(_,()=>{T.id=0,nt(),st()});function I(){var L;const{value:C}=_;return C===null?null:(L=d.value)===null||L===void 0?void 0:L.querySelector(`[data-name="${C}"]`)}function U(L){if(s.type==="card")return;const{value:C}=h;if(!C)return;const P=C.style.opacity==="0";if(L){const G=`${o.value}-tabs-bar--disabled`,{barWidth:J,placement:bt}=s;if(L.dataset.disabled==="true"?C.classList.add(G):C.classList.remove(G),["top","bottom"].includes(bt)){if(Q(["top","maxHeight","height"]),typeof J=="number"&&L.offsetWidth>=J){const Lt=Math.floor((L.offsetWidth-J)/2)+L.offsetLeft;C.style.left=`${Lt}px`,C.style.maxWidth=`${J}px`}else C.style.left=`${L.offsetLeft}px`,C.style.maxWidth=`${L.offsetWidth}px`;C.style.width="8192px",P&&(C.style.transition="none"),C.offsetWidth,P&&(C.style.transition="",C.style.opacity="1")}else{if(Q(["left","maxWidth","width"]),typeof J=="number"&&L.offsetHeight>=J){const Lt=Math.floor((L.offsetHeight-J)/2)+L.offsetTop;C.style.top=`${Lt}px`,C.style.maxHeight=`${J}px`}else C.style.top=`${L.offsetTop}px`,C.style.maxHeight=`${L.offsetHeight}px`;C.style.height="8192px",P&&(C.style.transition="none"),C.offsetHeight,P&&(C.style.transition="",C.style.opacity="1")}}}function H(){if(s.type==="card")return;const{value:L}=h;L&&(L.style.opacity="0")}function Q(L){const{value:C}=h;if(C)for(const P of L)C.style[P]=""}function nt(){if(s.type==="card")return;const L=I();L?U(L):H()}function st(L){var C;const P=(C=f.value)===null||C===void 0?void 0:C.$el;if(!P)return;const G=I();if(!G)return;const{scrollLeft:J,offsetWidth:bt}=P,{offsetLeft:Lt,offsetWidth:Pt}=G;J>Lt?P.scrollTo({top:0,left:Lt,behavior:"smooth"}):Lt+Pt>J+bt&&P.scrollTo({top:0,left:Lt+Pt-bt,behavior:"smooth"})}const ct=Y(null);let Tt=0,ft=null;function ye(L){const C=ct.value;if(C){Tt=L.getBoundingClientRect().height;const P=`${Tt}px`,G=()=>{C.style.height=P,C.style.maxHeight=P};ft?(G(),ft(),ft=null):ft=G}}function xe(L){const C=ct.value;if(C){const P=L.getBoundingClientRect().height,G=()=>{document.body.offsetHeight,C.style.maxHeight=`${P}px`,C.style.height=`${Math.max(Tt,P)}px`};ft?(ft(),ft=null,G()):ft=G}}function we(){const L=ct.value;if(L){L.style.maxHeight="",L.style.height="";const{paneWrapperStyle:C}=s;if(typeof C=="string")L.style.cssText=C;else if(C){const{maxHeight:P,height:G}=C;P!==void 0&&(L.style.maxHeight=P),G!==void 0&&(L.style.height=G)}}}const oe={value:[]},K=Y("next");function Xe(L){const C=_.value;let P="next";for(const G of oe.value){if(G===C)break;if(G===L){P="prev";break}}K.value=P,Ye(L)}function Ye(L){const{onActiveNameChange:C,onUpdateValue:P,"onUpdate:value":G}=s;C&&Zt(C,L),P&&Zt(P,L),G&&Zt(G,L),N.value=L}function Nt(L){const{onClose:C}=s;C&&Zt(C,L)}function Ee(){const{value:L}=h;if(!L)return;const C="transition-disabled";L.classList.add(C),nt(),L.classList.remove(C)}const V=Y(null);function ae({transitionDisabled:L}){const C=d.value;if(!C)return;L&&C.classList.add("transition-disabled");const P=I();P&&V.value&&(V.value.style.width=`${P.offsetWidth}px`,V.value.style.height=`${P.offsetHeight}px`,V.value.style.transform=`translateX(${P.offsetLeft-C.offsetLeft-pc(getComputedStyle(C).paddingLeft)}px)`,L&&V.value.offsetWidth),L&&C.classList.remove("transition-disabled")}is([_],()=>{s.type==="segment"&&Ds(()=>{ae({transitionDisabled:!1})})}),Ni(()=>{s.type==="segment"&&ae({transitionDisabled:!0})});let Re=0;function St(L){var C;if(L.contentRect.width===0&&L.contentRect.height===0||Re===L.contentRect.width)return;Re=L.contentRect.width;const{type:P}=s;if((P==="line"||P==="bar")&&Ee(),P!=="segment"){const{placement:G}=s;Te((G==="top"||G==="bottom"?(C=f.value)===null||C===void 0?void 0:C.$el:m.value)||null)}}const Ie=Fr(St,64);is([()=>s.justifyContent,()=>s.size],()=>{Ds(()=>{const{type:L}=s;(L==="line"||L==="bar")&&Ee()})});const Gt=Y(!1);function Ze(L){var C;const{target:P,contentRect:{width:G}}=L,J=P.parentElement.offsetWidth;if(!Gt.value)J<G&&(Gt.value=!0);else{const{value:bt}=g;if(!bt)return;J-G>bt.$el.offsetWidth&&(Gt.value=!1)}Te(((C=f.value)===null||C===void 0?void 0:C.$el)||null)}const Qe=Fr(Ze,64);function vn(){const{onAdd:L}=s;L&&L(),Ds(()=>{const C=I(),{value:P}=f;!C||!P||P.scrollTo({left:C.offsetLeft,top:0,behavior:"smooth"})})}function Te(L){if(!L)return;const{placement:C}=s;if(C==="top"||C==="bottom"){const{scrollLeft:P,scrollWidth:G,offsetWidth:J}=L;y.value=P<=0,v.value=P+J>=G}else{const{scrollTop:P,scrollHeight:G,offsetHeight:J}=L;y.value=P<=0,v.value=P+J>=G}}const yn=Fr(L=>{Te(L.target)},64);os($i,{triggerRef:Rt(s,"trigger"),tabStyleRef:Rt(s,"tabStyle"),tabClassRef:Rt(s,"tabClass"),addTabStyleRef:Rt(s,"addTabStyle"),addTabClassRef:Rt(s,"addTabClass"),paneClassRef:Rt(s,"paneClass"),paneStyleRef:Rt(s,"paneStyle"),mergedClsPrefixRef:o,typeRef:Rt(s,"type"),closableRef:Rt(s,"closable"),valueRef:_,tabChangeIdRef:T,onBeforeLeaveRef:Rt(s,"onBeforeLeave"),activateTab:Xe,handleClose:Nt,handleAdd:vn}),Yl(()=>{nt(),st()}),Ci(()=>{const{value:L}=b;if(!L)return;const{value:C}=o,P=`${C}-tabs-nav-scroll-wrapper--shadow-start`,G=`${C}-tabs-nav-scroll-wrapper--shadow-end`;y.value?L.classList.remove(P):L.classList.add(P),v.value?L.classList.remove(G):L.classList.add(G)});const Je={syncBarPosition:()=>{nt()}},xn=()=>{ae({transitionDisabled:!0})},wn=It(()=>{const{value:L}=w,{type:C}=s,P={card:"Card",bar:"Bar",line:"Line",segment:"Segment"}[C],G=`${L}${P}`,{self:{barColor:J,closeIconColor:bt,closeIconColorHover:Lt,closeIconColorPressed:Pt,tabColor:Be,tabBorderColor:tn,paneTextColor:_t,tabFontWeight:En,tabBorderRadius:Tn,tabFontWeightActive:Gn,colorSegment:en,fontWeightStrong:$e,tabColorSegment:Nn,closeSize:Me,closeIconSize:Ne,closeColorHover:Ot,closeColorPressed:Pe,closeBorderRadius:nn,[fe("panePadding",L)]:Dt,[fe("tabPadding",G)]:sn,[fe("tabPaddingVertical",G)]:Se,[fe("tabGap",G)]:rn,[fe("tabGap",`${G}Vertical`)]:on,[fe("tabTextColor",C)]:an,[fe("tabTextColorActive",C)]:ce,[fe("tabTextColorHover",C)]:Sn,[fe("tabTextColorDisabled",C)]:Vt,[fe("tabFontSize",L)]:Vn},common:{cubicBezierEaseInOut:Kn}}=c.value;return{"--n-bezier":Kn,"--n-color-segment":en,"--n-bar-color":J,"--n-tab-font-size":Vn,"--n-tab-text-color":an,"--n-tab-text-color-active":ce,"--n-tab-text-color-disabled":Vt,"--n-tab-text-color-hover":Sn,"--n-pane-text-color":_t,"--n-tab-border-color":tn,"--n-tab-border-radius":Tn,"--n-close-size":Me,"--n-close-icon-size":Ne,"--n-close-color-hover":Ot,"--n-close-color-pressed":Pe,"--n-close-border-radius":nn,"--n-close-icon-color":bt,"--n-close-icon-color-hover":Lt,"--n-close-icon-color-pressed":Pt,"--n-tab-color":Be,"--n-tab-font-weight":En,"--n-tab-font-weight-active":Gn,"--n-tab-padding":sn,"--n-tab-padding-vertical":Se,"--n-tab-gap":rn,"--n-tab-gap-vertical":on,"--n-pane-padding-left":Os(Dt,"left"),"--n-pane-padding-right":Os(Dt,"right"),"--n-pane-padding-top":Os(Dt,"top"),"--n-pane-padding-bottom":Os(Dt,"bottom"),"--n-font-weight-strong":$e,"--n-tab-color-segment":Nn}}),le=l?ba("tabs",It(()=>`${w.value[0]}${s.type[0]}`),wn,s):void 0;return Object.assign({mergedClsPrefix:o,mergedValue:_,renderedNames:new Set,segmentCapsuleElRef:V,tabsPaneWrapperRef:ct,tabsElRef:d,barElRef:h,addTabInstRef:g,xScrollInstRef:f,scrollWrapperElRef:b,addTabFixed:Gt,tabWrapperStyle:A,handleNavResize:Ie,mergedSize:w,handleScroll:yn,handleTabsResize:Qe,cssVars:l?void 0:wn,themeClass:le==null?void 0:le.themeClass,animationDirection:K,renderNameListRef:oe,yScrollElRef:m,handleSegmentResize:xn,onAnimationBeforeLeave:ye,onAnimationEnter:xe,onAnimationAfterEnter:we,onRender:le==null?void 0:le.onRender},Je)},render(){const{mergedClsPrefix:s,type:t,placement:e,addTabFixed:n,addable:r,mergedSize:i,renderNameListRef:o,onRender:l,paneWrapperClass:c,paneWrapperStyle:d,$slots:{default:h,prefix:b,suffix:g}}=this;l==null||l();const f=h?jr(h()).filter(T=>T.type.__TAB_PANE__===!0):[],m=h?jr(h()).filter(T=>T.type.__TAB__===!0):[],y=!m.length,v=t==="card",w=t==="segment",S=!v&&!w&&this.justifyContent;o.value=[];const N=()=>{const T=O("div",{style:this.tabWrapperStyle,class:[`${s}-tabs-wrapper`]},S?null:O("div",{class:`${s}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}),y?f.map((A,I)=>(o.value.push(A.props.name),Hr(O(si,Object.assign({},A.props,{internalCreatedByPane:!0,internalLeftPadded:I!==0&&(!S||S==="center"||S==="start"||S==="end")}),A.children?{default:A.children.tab}:void 0)))):m.map((A,I)=>(o.value.push(A.props.name),Hr(I!==0&&!S?Eo(A):A))),!n&&r&&v?wo(r,(y?f.length:m.length)!==0):null,S?null:O("div",{class:`${s}-tabs-scroll-padding`,style:{width:`${this.tabsPadding}px`}}));return O("div",{ref:"tabsElRef",class:`${s}-tabs-nav-scroll-content`},v&&r?O(Ur,{onResize:this.handleTabsResize},{default:()=>T}):T,v?O("div",{class:`${s}-tabs-pad`}):null,v?null:O("div",{ref:"barElRef",class:`${s}-tabs-bar`}))},_=w?"top":e;return O("div",{class:[`${s}-tabs`,this.themeClass,`${s}-tabs--${t}-type`,`${s}-tabs--${i}-size`,S&&`${s}-tabs--flex`,`${s}-tabs--${_}`],style:this.cssVars},O("div",{class:[`${s}-tabs-nav--${t}-type`,`${s}-tabs-nav--${_}`,`${s}-tabs-nav`]},ao(b,T=>T&&O("div",{class:`${s}-tabs-nav__prefix`},T)),w?O(Ur,{onResize:this.handleSegmentResize},{default:()=>O("div",{class:`${s}-tabs-rail`,ref:"tabsElRef"},O("div",{class:`${s}-tabs-capsule`,ref:"segmentCapsuleElRef"},O("div",{class:`${s}-tabs-wrapper`},O("div",{class:`${s}-tabs-tab`}))),y?f.map((T,A)=>(o.value.push(T.props.name),O(si,Object.assign({},T.props,{internalCreatedByPane:!0,internalLeftPadded:A!==0}),T.children?{default:T.children.tab}:void 0))):m.map((T,A)=>(o.value.push(T.props.name),A===0?T:Eo(T))))}):O(Ur,{onResize:this.handleNavResize},{default:()=>O("div",{class:`${s}-tabs-nav-scroll-wrapper`,ref:"scrollWrapperElRef"},["top","bottom"].includes(_)?O($u,{ref:"xScrollInstRef",onScroll:this.handleScroll},{default:N}):O("div",{class:`${s}-tabs-nav-y-scroll`,onScroll:this.handleScroll,ref:"yScrollElRef"},N()))}),n&&r&&v?wo(r,!0):null,ao(g,T=>T&&O("div",{class:`${s}-tabs-nav__suffix`},T))),y&&(this.animated&&(_==="top"||_==="bottom")?O("div",{ref:"tabsPaneWrapperRef",style:d,class:[`${s}-tabs-pane-wrapper`,c]},xo(f,this.mergedValue,this.renderedNames,this.onAnimationBeforeLeave,this.onAnimationEnter,this.onAnimationAfterEnter,this.animationDirection)):xo(f,this.mergedValue,this.renderedNames)))}});function xo(s,t,e,n,r,i,o){const l=[];return s.forEach(c=>{const{name:d,displayDirective:h,"display-directive":b}=c.props,g=m=>h===m||b===m,f=t===d;if(c.key!==void 0&&(c.key=d),f||g("show")||g("show:lazy")&&e.has(d)){e.has(d)||e.add(d);const m=!g("if");l.push(m?Fe(c,[[hn,f]]):c)}}),o?O(Ml,{name:`${o}-transition`,onBeforeLeave:n,onEnter:r,onAfterEnter:i},{default:()=>l}):l}function wo(s,t){return O(si,{ref:"addTabInstRef",key:"__addable",name:"__addable",internalCreatedByPane:!0,internalAddable:!0,internalLeftPadded:t,disabled:typeof s=="object"&&s.disabled})}function Eo(s){const t=$l(s);return t.props?t.props.internalLeftPadded=!0:t.props={internalLeftPadded:!0},t}function Hr(s){return Array.isArray(s.dynamicProps)?s.dynamicProps.includes("internalLeftPadded")||s.dynamicProps.push("internalLeftPadded"):s.dynamicProps=["internalLeftPadded"],s}const bd={class:"header"},vd={class:"left flex flex-col"},yd=["src"],xd={class:"right"},wd=at({__name:"Header",emits:["list","reset","draft"],setup(s,{emit:t}){const e=t,n=Ei();return(r,i)=>(et(),it("div",bd,[F("header",vd,[F("img",{src:$(n).avatar,alt:"avatar",srcset:"",class:"avatar"},null,8,yd),F("label",null,Wt($(n).username),1)]),F("div",xd,[F("label",{class:"iconfont icon-draft draft",onClick:i[0]||(i[0]=o=>e("draft"))}),F("label",{class:"iconfont icon-eraser eraser",onClick:i[1]||(i[1]=o=>e("reset"))}),F("label",{class:"iconfont icon-list list",onClick:i[2]||(i[2]=o=>e("list"))})])]))}}),Ed=ne(wd,[["__scopeId","data-v-b4c4f98b"]]),$t=Tl("mobile",{state:()=>({activeBgcolor:ta[0],visibleItems:Nl,activeTab:ea[0].value,currentIcon:na[0].value,temp:"Clean",fontColor:sa[0],datetimeStr:new Date().toLocaleString(),count:0}),getters:{authorLineShow(s){return s.visibleItems.find(t=>t.value==="author")}}}),Td={class:"bg-colors"},Nd=["onClick"],Sd=at({__name:"BgColors",setup(s){const t=$t(),e=n=>{t.activeBgcolor=n};return(n,r)=>(et(),it("div",Td,[(et(!0),it(fn,null,gs($(ta),(i,o)=>(et(),it("div",{onClick:l=>e(i),class:ge(["bg-color",{"bg-color-active":i===$(t).activeBgcolor}]),key:o},[F("div",{style:Jt(`background-image:${i}`)},null,4)],10,Nd))),128))]))}}),Sa=ne(Sd,[["__scopeId","data-v-bd2c4ad8"]]),Ad={class:"fun-icon-items"},Cd=["onClick"],Ld=at({__name:"FunIcons",setup(s){const t=$t();return(e,n)=>(et(),it("div",Ad,[(et(!0),it(fn,null,gs($(na),r=>(et(),it("div",{class:ge(["fun-icon-item",{"fun-icon-item-active":$(t).currentIcon===r.value}]),key:r.value,onClick:i=>$(t).currentIcon=r.value},Wt(r.name),11,Cd))),128))]))}}),Aa=ne(Ld,[["__scopeId","data-v-0b01e0ff"]]),_d={class:"tabs"},kd=["onClick"],qd=at({__name:"Tabs",setup(s){const t=$t(),e=n=>n==="icons"?t.temp!=="Geek":t.temp!=="Geek"?n!=="fontColor":!0;return(n,r)=>(et(),it("div",_d,[(et(!0),it(fn,null,gs($(ea),i=>(et(),it(fn,{key:i.value},[e(i.value)?(et(),it("div",{key:0,class:ge(["tab",{"tab-active":$(t).activeTab===i.value}]),onClick:o=>$(t).activeTab=i.value},Wt(i.name),11,kd)):He("",!0)],64))),128))]))}}),Od=ne(qd,[["__scopeId","data-v-efbb85ce"]]),Rd={class:"temps"},Id=["onClick"],Bd=at({__name:"ChooseTemps",setup(s){const t=[{name:"ç®æ´",value:"Clean"},{name:"æ¶å°",value:"Fashion"},{name:"æå®¢",value:"Geek"}],e=$t(),n=r=>{if(r.isPending)return alert("å¼åä¸­");e.temp=r.value};return(r,i)=>(et(),it("div",Rd,[(et(),it(fn,null,gs(t,o=>F("div",{class:ge({ready:!o.isPending,pending:o.isPending,active:o.value===$(e).temp}),onClick:l=>n(o),key:o.value},Wt(o.name),11,Id)),64))]))}}),Ca=ne(Bd,[["__scopeId","data-v-22fb4dc0"]]),$d={class:"font-colors"},Md=["onClick"],Pd=at({__name:"FontColors",setup(s){const t=$t(),e=n=>{t.fontColor=n};return(n,r)=>(et(),it("div",$d,[(et(!0),it(fn,null,gs($(sa),(i,o)=>(et(),it("div",{onClick:l=>e(i),class:ge(["font-color",{"font-color-active":i===$(t).fontColor}]),key:o},[F("div",{style:Jt(`background-color:${i}`)},null,4)],10,Md))),128))]))}}),La=ne(Pd,[["__scopeId","data-v-ff851210"]]),Dd={class:"line-bar"},zd={class:"top"},jd={class:"selectors"},Ud=at({__name:"OperatorView",emits:["toggle"],setup(s,{emit:t}){const e=$t(),n=t;return(r,i)=>(et(),Pn($(Sl),{"content-class":"view","swipe-to-close":"down","content-transition":"vfm-slide-down","overlay-transition":"vfm-fade"},{default:ze(()=>[F("div",Dd,[F("div",{class:"line",onClick:i[0]||(i[0]=o=>n("toggle"))})]),F("div",zd,[ot(Od)]),F("div",jd,[Fe(ot(Ca,null,null,512),[[hn,$(e).activeTab==="template"]]),Fe(ot(Sa,null,null,512),[[hn,$(e).activeTab==="bgColor"]]),Fe(ot(Aa,null,null,512),[[hn,$(e).activeTab==="icons"&&$(e).temp!=="Geek"]]),Fe(ot(La,null,null,512),[[hn,$(e).activeTab==="fontColor"]])])]),_:1}))}}),_a=s=>(Li("data-v-875e7ea7"),s=s(),_i(),s),Fd={class:"panel"},Hd=_a(()=>F("i",{class:"iconfont icon-share"},null,-1)),Wd=[Hd],Gd=_a(()=>F("i",{class:"iconfont icon-config"},null,-1)),Vd=[Gd],Kd=at({__name:"Opeartor",emits:["share"],setup(s,{emit:t}){const e=$t(),{open:n,close:r,options:i}=Al({component:Ud,attrs:{onToggle(){i.modelValue?r():n()}}}),o=Y(!1),l=()=>{ra()?n():o.value=!0},c=t;return(d,h)=>(et(),it("div",Fd,[F("button",{onClick:h[0]||(h[0]=b=>c("share")),class:"float-btn-1 right-6",style:Jt(`background-image:${$(e).activeBgcolor}`)},Wd,4),F("button",{onClick:l,class:"float-btn-2 right-6",style:Jt(`background-image:${$(e).activeBgcolor}`)},Vd,4),ot($(od),{show:o.value,"onUpdate:show":h[2]||(h[2]=b=>o.value=b),width:"28%",placement:"left"},{default:ze(()=>[ot($(ld),{title:"éç½®é¢æ¿"},{default:ze(()=>[ot($(md),{activeKey:$(e).activeTab,"onUpdate:activeKey":h[1]||(h[1]=b=>$(e).activeTab=b)},{default:ze(()=>[ot($(Rs),{label:"æ¨¡æ¿éæ©",name:"template"},{default:ze(()=>[ot(Ca)]),_:1}),ot($(Rs),{label:"èæ¯è²",name:"bgColor"},{default:ze(()=>[ot(Sa)]),_:1}),$(e).temp!=="Geek"?(et(),Pn($(Rs),{key:0,label:"å¾æ éæ©",name:"icons"},{default:ze(()=>[ot(Aa)]),_:1})):He("",!0),$(e).temp==="Geek"?(et(),Pn($(Rs),{key:1,label:"å­ä½é¢è²",name:"fontColor"},{default:ze(()=>[ot(La)]),_:1})):He("",!0)]),_:1},8,["activeKey"])]),_:1})]),_:1},8,["show"]),ot($(Cl))]))}}),Xd=ne(Kd,[["__scopeId","data-v-875e7ea7"]]);var M=(s=>(s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY",s))(M||{});class be{constructor(t,e,n={}){this.attrName=t,this.keyName=e;const r=M.TYPE&M.ATTRIBUTE;this.scope=n.scope!=null?n.scope&M.LEVEL|r:M.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}static keys(t){return Array.from(t.attributes).map(e=>e.name)}add(t,e){return this.canAdd(t,e)?(t.setAttribute(this.keyName,e),!0):!1}canAdd(t,e){return this.whitelist==null?!0:typeof e=="string"?this.whitelist.indexOf(e.replace(/["']/g,""))>-1:this.whitelist.indexOf(e)>-1}remove(t){t.removeAttribute(this.keyName)}value(t){const e=t.getAttribute(this.keyName);return this.canAdd(t,e)&&e?e:""}}class zn extends Error{constructor(t){t="[Parchment] "+t,super(t),this.message=t,this.name=this.constructor.name}}const ka=class ri{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(t,e=!1){if(t==null)return null;if(this.blots.has(t))return this.blots.get(t)||null;if(e){let n=null;try{n=t.parentNode}catch{return null}return this.find(n,e)}return null}create(t,e,n){const r=this.query(e);if(r==null)throw new zn(`Unable to create ${e} blot`);const i=r,o=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:i.create(n),l=new i(t,o,n);return ri.blots.set(l.domNode,l),l}find(t,e=!1){return ri.find(t,e)}query(t,e=M.ANY){let n;return typeof t=="string"?n=this.types[t]||this.attributes[t]:t instanceof Text||t.nodeType===Node.TEXT_NODE?n=this.types.text:typeof t=="number"?t&M.LEVEL&M.BLOCK?n=this.types.block:t&M.LEVEL&M.INLINE&&(n=this.types.inline):t instanceof Element&&((t.getAttribute("class")||"").split(/\s+/).some(r=>(n=this.classes[r],!!n)),n=n||this.tags[t.tagName]),n==null?null:"scope"in n&&e&M.LEVEL&n.scope&&e&M.TYPE&n.scope?n:null}register(...t){return t.map(e=>{const n="blotName"in e,r="attrName"in e;if(!n&&!r)throw new zn("Invalid definition");if(n&&e.blotName==="abstract")throw new zn("Cannot register abstract class");const i=n?e.blotName:r?e.attrName:void 0;return this.types[i]=e,r?typeof e.keyName=="string"&&(this.attributes[e.keyName]=e):n&&(e.className&&(this.classes[e.className]=e),e.tagName&&(Array.isArray(e.tagName)?e.tagName=e.tagName.map(o=>o.toUpperCase()):e.tagName=e.tagName.toUpperCase(),(Array.isArray(e.tagName)?e.tagName:[e.tagName]).forEach(o=>{(this.tags[o]==null||e.className==null)&&(this.tags[o]=e)}))),e})}};ka.blots=new WeakMap;let Un=ka;function To(s,t){return(s.getAttribute("class")||"").split(/\s+/).filter(e=>e.indexOf(`${t}-`)===0)}class se extends be{static keys(t){return(t.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(t,e){return this.canAdd(t,e)?(this.remove(t),t.classList.add(`${this.keyName}-${e}`),!0):!1}remove(t){To(t,this.keyName).forEach(e=>{t.classList.remove(e)}),t.classList.length===0&&t.removeAttribute("class")}value(t){const e=(To(t,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(t,e)?e:""}}function Wr(s){const t=s.split("-"),e=t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("");return t[0]+e}class Ke extends be{static keys(t){return(t.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(t,e){return this.canAdd(t,e)?(t.style[Wr(this.keyName)]=e,!0):!1}remove(t){t.style[Wr(this.keyName)]="",t.getAttribute("style")||t.removeAttribute("style")}value(t){const e=t.style[Wr(this.keyName)];return this.canAdd(t,e)?e:""}}class Qs{constructor(t){this.attributes={},this.domNode=t,this.build()}attribute(t,e){e?t.add(this.domNode,e)&&(t.value(this.domNode)!=null?this.attributes[t.attrName]=t:delete this.attributes[t.attrName]):(t.remove(this.domNode),delete this.attributes[t.attrName])}build(){this.attributes={};const t=Un.find(this.domNode);if(t==null)return;const e=be.keys(this.domNode),n=se.keys(this.domNode),r=Ke.keys(this.domNode);e.concat(n).concat(r).forEach(i=>{const o=t.scroll.query(i,M.ATTRIBUTE);o instanceof be&&(this.attributes[o.attrName]=o)})}copy(t){Object.keys(this.attributes).forEach(e=>{const n=this.attributes[e].value(this.domNode);t.format(e,n)})}move(t){this.copy(t),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((t,e)=>(t[e]=this.attributes[e].value(this.domNode),t),{})}}const qa=class{constructor(t,e){this.scroll=t,this.domNode=e,Un.blots.set(e,this),this.prev=null,this.next=null}static create(t){if(this.tagName==null)throw new zn("Blot definition missing tagName");let e,n;return Array.isArray(this.tagName)?(typeof t=="string"?(n=t.toUpperCase(),parseInt(n,10).toString()===n&&(n=parseInt(n,10))):typeof t=="number"&&(n=t),typeof n=="number"?e=document.createElement(this.tagName[n-1]):n&&this.tagName.indexOf(n)>-1?e=document.createElement(n):e=document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const t=this.domNode.cloneNode(!1);return this.scroll.create(t)}detach(){this.parent!=null&&this.parent.removeChild(this),Un.blots.delete(this.domNode)}deleteAt(t,e){this.isolate(t,e).remove()}formatAt(t,e,n,r){const i=this.isolate(t,e);if(this.scroll.query(n,M.BLOT)!=null&&r)i.wrap(n,r);else if(this.scroll.query(n,M.ATTRIBUTE)!=null){const o=this.scroll.create(this.statics.scope);i.wrap(o),o.format(n,r)}}insertAt(t,e,n){const r=n==null?this.scroll.create("text",e):this.scroll.create(e,n),i=this.split(t);this.parent.insertBefore(r,i||void 0)}isolate(t,e){const n=this.split(t);if(n==null)throw new Error("Attempt to isolate at end");return n.split(e),n}length(){return 1}offset(t=this.parent){return this.parent==null||this===t?0:this.parent.children.offset(this)+this.parent.offset(t)}optimize(t){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return this.parent!=null&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n}split(t,e){return t===0?this:this.next}update(t,e){}wrap(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;if(this.parent!=null&&this.parent.insertBefore(n,this.next||void 0),typeof n.appendChild!="function")throw new zn(`Cannot wrap ${t}`);return n.appendChild(this),n}};qa.blotName="abstract";let Oa=qa;const Ra=class extends Oa{static value(t){return!0}index(t,e){return this.domNode===t||this.domNode.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(t,e){let n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return t>0&&(n+=1),[this.parent.domNode,n]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};Ra.scope=M.INLINE_BLOT;let wt=Ra;class Yd{constructor(){this.head=null,this.tail=null,this.length=0}append(...t){if(this.insertBefore(t[0],null),t.length>1){const e=t.slice(1);this.append(...e)}}at(t){const e=this.iterator();let n=e();for(;n&&t>0;)t-=1,n=e();return n}contains(t){const e=this.iterator();let n=e();for(;n;){if(n===t)return!0;n=e()}return!1}indexOf(t){const e=this.iterator();let n=e(),r=0;for(;n;){if(n===t)return r;r+=1,n=e()}return-1}insertBefore(t,e){t!=null&&(this.remove(t),t.next=e,e!=null?(t.prev=e.prev,e.prev!=null&&(e.prev.next=t),e.prev=t,e===this.head&&(this.head=t)):this.tail!=null?(this.tail.next=t,t.prev=this.tail,this.tail=t):(t.prev=null,this.head=this.tail=t),this.length+=1)}offset(t){let e=0,n=this.head;for(;n!=null;){if(n===t)return e;e+=n.length(),n=n.next}return-1}remove(t){this.contains(t)&&(t.prev!=null&&(t.prev.next=t.next),t.next!=null&&(t.next.prev=t.prev),t===this.head&&(this.head=t.next),t===this.tail&&(this.tail=t.prev),this.length-=1)}iterator(t=this.head){return()=>{const e=t;return t!=null&&(t=t.next),e}}find(t,e=!1){const n=this.iterator();let r=n();for(;r;){const i=r.length();if(t<i||e&&t===i&&(r.next==null||r.next.length()!==0))return[r,t];t-=i,r=n()}return[null,0]}forEach(t){const e=this.iterator();let n=e();for(;n;)t(n),n=e()}forEachAt(t,e,n){if(e<=0)return;const[r,i]=this.find(t);let o=t-i;const l=this.iterator(r);let c=l();for(;c&&o<t+e;){const d=c.length();t>o?n(c,t-o,Math.min(e,o+d-t)):n(c,0,Math.min(d,t+e-o)),o+=d,c=l()}}map(t){return this.reduce((e,n)=>(e.push(t(n)),e),[])}reduce(t,e){const n=this.iterator();let r=n();for(;r;)e=t(e,r),r=n();return e}}function No(s,t){const e=t.find(s);if(e)return e;try{return t.create(s)}catch{const n=t.create(M.INLINE);return Array.from(s.childNodes).forEach(r=>{n.domNode.appendChild(r)}),s.parentNode&&s.parentNode.replaceChild(n.domNode,s),n.attach(),n}}const Ia=class je extends Oa{constructor(t,e){super(t,e),this.uiNode=null,this.build()}appendChild(t){this.insertBefore(t)}attach(){super.attach(),this.children.forEach(t=>{t.attach()})}attachUI(t){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=t,je.uiClass&&this.uiNode.classList.add(je.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new Yd,Array.from(this.domNode.childNodes).filter(t=>t!==this.uiNode).reverse().forEach(t=>{try{const e=No(t,this.scroll);this.insertBefore(e,this.children.head||void 0)}catch(e){if(e instanceof zn)return;throw e}})}deleteAt(t,e){if(t===0&&e===this.length())return this.remove();this.children.forEachAt(t,e,(n,r,i)=>{n.deleteAt(r,i)})}descendant(t,e=0){const[n,r]=this.children.find(e);return t.blotName==null&&t(n)||t.blotName!=null&&n instanceof t?[n,r]:n instanceof je?n.descendant(t,r):[null,-1]}descendants(t,e=0,n=Number.MAX_VALUE){let r=[],i=n;return this.children.forEachAt(e,n,(o,l,c)=>{(t.blotName==null&&t(o)||t.blotName!=null&&o instanceof t)&&r.push(o),o instanceof je&&(r=r.concat(o.descendants(t,l,i))),i-=c}),r}detach(){this.children.forEach(t=>{t.detach()}),super.detach()}enforceAllowedChildren(){let t=!1;this.children.forEach(e=>{t||this.statics.allowedChildren.some(n=>e instanceof n)||(e.statics.scope===M.BLOCK_BLOT?(e.next!=null&&this.splitAfter(e),e.prev!=null&&this.splitAfter(e.prev),e.parent.unwrap(),t=!0):e instanceof je?e.unwrap():e.remove())})}formatAt(t,e,n,r){this.children.forEachAt(t,e,(i,o,l)=>{i.formatAt(o,l,n,r)})}insertAt(t,e,n){const[r,i]=this.children.find(t);if(r)r.insertAt(i,e,n);else{const o=n==null?this.scroll.create("text",e):this.scroll.create(e,n);this.appendChild(o)}}insertBefore(t,e){t.parent!=null&&t.parent.children.remove(t);let n=null;this.children.insertBefore(t,e||null),t.parent=this,e!=null&&(n=e.domNode),(this.domNode.parentNode!==t.domNode||this.domNode.nextSibling!==n)&&this.domNode.insertBefore(t.domNode,n),t.attach()}length(){return this.children.reduce((t,e)=>t+e.length(),0)}moveChildren(t,e){this.children.forEach(n=>{t.insertBefore(n,e)})}optimize(t){if(super.optimize(t),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const e=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(e)}else this.remove()}path(t,e=!1){const[n,r]=this.children.find(t,e),i=[[this,t]];return n instanceof je?i.concat(n.path(r,e)):(n!=null&&i.push([n,r]),i)}removeChild(t){this.children.remove(t)}replaceWith(t,e){const n=typeof t=="string"?this.scroll.create(t,e):t;return n instanceof je&&this.moveChildren(n),super.replaceWith(n)}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(t,this.length(),(r,i,o)=>{const l=r.split(i,e);l!=null&&n.appendChild(l)}),n}splitAfter(t){const e=this.clone();for(;t.next!=null;)e.appendChild(t.next);return this.parent&&this.parent.insertBefore(e,this.next||void 0),e}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(t,e){const n=[],r=[];t.forEach(i=>{i.target===this.domNode&&i.type==="childList"&&(n.push(...i.addedNodes),r.push(...i.removedNodes))}),r.forEach(i=>{if(i.parentNode!=null&&i.tagName!=="IFRAME"&&document.body.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const o=this.scroll.find(i);o!=null&&(o.domNode.parentNode==null||o.domNode.parentNode===this.domNode)&&o.detach()}),n.filter(i=>i.parentNode===this.domNode&&i!==this.uiNode).sort((i,o)=>i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(i=>{let o=null;i.nextSibling!=null&&(o=this.scroll.find(i.nextSibling));const l=No(i,this.scroll);(l.next!==o||l.next==null)&&(l.parent!=null&&l.parent.removeChild(this),this.insertBefore(l,o||void 0))}),this.enforceAllowedChildren()}};Ia.uiClass="";let te=Ia;function Zd(s,t){if(Object.keys(s).length!==Object.keys(t).length)return!1;for(const e in s)if(s[e]!==t[e])return!1;return!0}const On=class Rn extends te{constructor(t,e){super(t,e),this.attributes=new Qs(this.domNode)}static create(t){return super.create(t)}static formats(t,e){const n=e.query(Rn.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}format(t,e){if(t===this.statics.blotName&&!e)this.children.forEach(n=>{n instanceof Rn||(n=n.wrap(Rn.blotName,!0)),this.attributes.copy(n)}),this.unwrap();else{const n=this.scroll.query(t,M.INLINE);if(n==null)return;n instanceof be?this.attributes.attribute(n,e):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e)}}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,r){this.formats()[n]!=null||this.scroll.query(n,M.ATTRIBUTE)?this.isolate(t,e).format(n,r):super.formatAt(t,e,n,r)}optimize(t){super.optimize(t);const e=this.formats();if(Object.keys(e).length===0)return this.unwrap();const n=this.next;n instanceof Rn&&n.prev===this&&Zd(e,n.formats())&&(n.moveChildren(this),n.remove())}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}wrap(t,e){const n=super.wrap(t,e);return n instanceof Rn&&this.attributes.move(n),n}};On.allowedChildren=[On,wt],On.blotName="inline",On.scope=M.INLINE_BLOT,On.tagName="SPAN";let Mi=On;const In=class ii extends te{constructor(t,e){super(t,e),this.attributes=new Qs(this.domNode)}static create(t){return super.create(t)}static formats(t,e){const n=e.query(ii.blotName);if(!(n!=null&&t.tagName===n.tagName)){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return t.tagName.toLowerCase()}}format(t,e){const n=this.scroll.query(t,M.BLOCK);n!=null&&(n instanceof be?this.attributes.attribute(n,e):t===this.statics.blotName&&!e?this.replaceWith(ii.blotName):e&&(t!==this.statics.blotName||this.formats()[t]!==e)&&this.replaceWith(t,e))}formats(){const t=this.attributes.values(),e=this.statics.formats(this.domNode,this.scroll);return e!=null&&(t[this.statics.blotName]=e),t}formatAt(t,e,n,r){this.scroll.query(n,M.BLOCK)!=null?this.format(n,r):super.formatAt(t,e,n,r)}insertAt(t,e,n){if(n==null||this.scroll.query(e,M.INLINE)!=null)super.insertAt(t,e,n);else{const r=this.split(t);if(r!=null){const i=this.scroll.create(e,n);r.parent.insertBefore(i,r)}else throw new Error("Attempt to insertAt after block boundaries")}}replaceWith(t,e){const n=super.replaceWith(t,e);return this.attributes.copy(n),n}update(t,e){super.update(t,e),t.some(n=>n.target===this.domNode&&n.type==="attributes")&&this.attributes.build()}};In.blotName="block",In.scope=M.BLOCK_BLOT,In.tagName="P",In.allowedChildren=[Mi,In,wt];let us=In;const oi=class extends te{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(t,e){super.deleteAt(t,e),this.enforceAllowedChildren()}formatAt(t,e,n,r){super.formatAt(t,e,n,r),this.enforceAllowedChildren()}insertAt(t,e,n){super.insertAt(t,e,n),this.enforceAllowedChildren()}optimize(t){super.optimize(t),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};oi.blotName="container",oi.scope=M.BLOCK_BLOT;let Js=oi;class Mt extends wt{static formats(t,e){}format(t,e){super.formatAt(0,this.length(),t,e)}formatAt(t,e,n,r){t===0&&e===this.length()?this.format(n,r):super.formatAt(t,e,n,r)}formats(){return this.statics.formats(this.domNode,this.scroll)}}const Qd={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},Jd=100,Bn=class extends te{constructor(t,e){super(null,e),this.registry=t,this.scroll=this,this.build(),this.observer=new MutationObserver(n=>{this.update(n)}),this.observer.observe(this.domNode,Qd),this.attach()}create(t,e){return this.registry.create(this,t,e)}find(t,e=!1){const n=this.registry.find(t,e);return n?n.scroll===this?n:e?this.find(n.scroll.domNode.parentNode,!0):null:null}query(t,e=M.ANY){return this.registry.query(t,e)}register(...t){return this.registry.register(...t)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(t,e){this.update(),t===0&&e===this.length()?this.children.forEach(n=>{n.remove()}):super.deleteAt(t,e)}formatAt(t,e,n,r){this.update(),super.formatAt(t,e,n,r)}insertAt(t,e,n){this.update(),super.insertAt(t,e,n)}optimize(t=[],e={}){super.optimize(e);const n=e.mutationsMap||new WeakMap;let r=Array.from(this.observer.takeRecords());for(;r.length>0;)t.push(r.pop());const i=(c,d=!0)=>{c==null||c===this||c.domNode.parentNode!=null&&(n.has(c.domNode)||n.set(c.domNode,[]),d&&i(c.parent))},o=c=>{n.has(c.domNode)&&(c instanceof te&&c.children.forEach(o),n.delete(c.domNode),c.optimize(e))};let l=t;for(let c=0;l.length>0;c+=1){if(c>=Jd)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(d=>{const h=this.find(d.target,!0);h!=null&&(h.domNode===d.target&&(d.type==="childList"?(i(this.find(d.previousSibling,!1)),Array.from(d.addedNodes).forEach(b=>{const g=this.find(b,!1);i(g,!1),g instanceof te&&g.children.forEach(f=>{i(f,!1)})})):d.type==="attributes"&&i(h.prev)),i(h))}),this.children.forEach(o),l=Array.from(this.observer.takeRecords()),r=l.slice();r.length>0;)t.push(r.pop())}}update(t,e={}){t=t||this.observer.takeRecords();const n=new WeakMap;t.map(r=>{const i=this.find(r.target,!0);return i==null?null:n.has(i.domNode)?(n.get(i.domNode).push(r),null):(n.set(i.domNode,[r]),i)}).forEach(r=>{r!=null&&r!==this&&n.has(r.domNode)&&r.update(n.get(r.domNode)||[],e)}),e.mutationsMap=n,n.has(this.domNode)&&super.update(n.get(this.domNode),e),this.optimize(t,e)}};Bn.blotName="scroll",Bn.defaultChild=us,Bn.allowedChildren=[us,Js],Bn.scope=M.BLOCK_BLOT,Bn.tagName="DIV";let Pi=Bn;const ai=class Ba extends wt{constructor(t,e){super(t,e),this.text=this.statics.value(this.domNode)}static create(t){return document.createTextNode(t)}static value(t){return t.data}deleteAt(t,e){this.domNode.data=this.text=this.text.slice(0,t)+this.text.slice(t+e)}index(t,e){return this.domNode===t?e:-1}insertAt(t,e,n){n==null?(this.text=this.text.slice(0,t)+e+this.text.slice(t),this.domNode.data=this.text):super.insertAt(t,e,n)}length(){return this.text.length}optimize(t){super.optimize(t),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Ba&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(t,e=!1){return[this.domNode,t]}split(t,e=!1){if(!e){if(t===0)return this;if(t===this.length())return this.next}const n=this.scroll.create(this.domNode.splitText(t));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n}update(t,e){t.some(n=>n.type==="characterData"&&n.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};ai.blotName="text",ai.scope=M.INLINE_BLOT;let Hs=ai;const th=Object.freeze(Object.defineProperty({__proto__:null,Attributor:be,AttributorStore:Qs,BlockBlot:us,ClassAttributor:se,ContainerBlot:Js,EmbedBlot:Mt,InlineBlot:Mi,LeafBlot:wt,ParentBlot:te,Registry:Un,Scope:M,ScrollBlot:Pi,StyleAttributor:Ke,TextBlot:Hs},Symbol.toStringTag,{value:"Module"}));var li={exports:{}},Bt=-1,Ct=1,dt=0;function ds(s,t,e,n,r){if(s===t)return s?[[dt,s]]:[];if(e!=null){var i=ch(s,t,e);if(i)return i}var o=Di(s,t),l=s.substring(0,o);s=s.substring(o),t=t.substring(o),o=tr(s,t);var c=s.substring(s.length-o);s=s.substring(0,s.length-o),t=t.substring(0,t.length-o);var d=eh(s,t);return l&&d.unshift([dt,l]),c&&d.push([dt,c]),zi(d,r),n&&rh(d),d}function eh(s,t){var e;if(!s)return[[Ct,t]];if(!t)return[[Bt,s]];var n=s.length>t.length?s:t,r=s.length>t.length?t:s,i=n.indexOf(r);if(i!==-1)return e=[[Ct,n.substring(0,i)],[dt,r],[Ct,n.substring(i+r.length)]],s.length>t.length&&(e[0][0]=e[2][0]=Bt),e;if(r.length===1)return[[Bt,s],[Ct,t]];var o=sh(s,t);if(o){var l=o[0],c=o[1],d=o[2],h=o[3],b=o[4],g=ds(l,d),f=ds(c,h);return g.concat([[dt,b]],f)}return nh(s,t)}function nh(s,t){for(var e=s.length,n=t.length,r=Math.ceil((e+n)/2),i=r,o=2*r,l=new Array(o),c=new Array(o),d=0;d<o;d++)l[d]=-1,c[d]=-1;l[i+1]=0,c[i+1]=0;for(var h=e-n,b=h%2!==0,g=0,f=0,m=0,y=0,v=0;v<r;v++){for(var w=-v+g;w<=v-f;w+=2){var S=i+w,N;w===-v||w!==v&&l[S-1]<l[S+1]?N=l[S+1]:N=l[S-1]+1;for(var _=N-w;N<e&&_<n&&s.charAt(N)===t.charAt(_);)N++,_++;if(l[S]=N,N>e)f+=2;else if(_>n)g+=2;else if(b){var T=i+h-w;if(T>=0&&T<o&&c[T]!==-1){var A=e-c[T];if(N>=A)return So(s,t,N,_)}}}for(var I=-v+m;I<=v-y;I+=2){var T=i+I,A;I===-v||I!==v&&c[T-1]<c[T+1]?A=c[T+1]:A=c[T-1]+1;for(var U=A-I;A<e&&U<n&&s.charAt(e-A-1)===t.charAt(n-U-1);)A++,U++;if(c[T]=A,A>e)y+=2;else if(U>n)m+=2;else if(!b){var S=i+h-I;if(S>=0&&S<o&&l[S]!==-1){var N=l[S],_=i+N-S;if(A=e-A,N>=A)return So(s,t,N,_)}}}}return[[Bt,s],[Ct,t]]}function So(s,t,e,n){var r=s.substring(0,e),i=t.substring(0,n),o=s.substring(e),l=t.substring(n),c=ds(r,i),d=ds(o,l);return c.concat(d)}function Di(s,t){if(!s||!t||s.charAt(0)!==t.charAt(0))return 0;for(var e=0,n=Math.min(s.length,t.length),r=n,i=0;e<r;)s.substring(i,r)==t.substring(i,r)?(e=r,i=e):n=r,r=Math.floor((n-e)/2+e);return $a(s.charCodeAt(r-1))&&r--,r}function Ao(s,t){var e=s.length,n=t.length;if(e==0||n==0)return 0;e>n?s=s.substring(e-n):e<n&&(t=t.substring(0,e));var r=Math.min(e,n);if(s==t)return r;for(var i=0,o=1;;){var l=s.substring(r-o),c=t.indexOf(l);if(c==-1)return i;o+=c,(c==0||s.substring(r-o)==t.substring(0,o))&&(i=o,o++)}}function tr(s,t){if(!s||!t||s.slice(-1)!==t.slice(-1))return 0;for(var e=0,n=Math.min(s.length,t.length),r=n,i=0;e<r;)s.substring(s.length-r,s.length-i)==t.substring(t.length-r,t.length-i)?(e=r,i=e):n=r,r=Math.floor((n-e)/2+e);return Ma(s.charCodeAt(s.length-r))&&r--,r}function sh(s,t){var e=s.length>t.length?s:t,n=s.length>t.length?t:s;if(e.length<4||n.length*2<e.length)return null;function r(f,m,y){for(var v=f.substring(y,y+Math.floor(f.length/4)),w=-1,S="",N,_,T,A;(w=m.indexOf(v,w+1))!==-1;){var I=Di(f.substring(y),m.substring(w)),U=tr(f.substring(0,y),m.substring(0,w));S.length<U+I&&(S=m.substring(w-U,w)+m.substring(w,w+I),N=f.substring(0,y-U),_=f.substring(y+I),T=m.substring(0,w-U),A=m.substring(w+I))}return S.length*2>=f.length?[N,_,T,A,S]:null}var i=r(e,n,Math.ceil(e.length/4)),o=r(e,n,Math.ceil(e.length/2)),l;if(!i&&!o)return null;o?i?l=i[4].length>o[4].length?i:o:l=o:l=i;var c,d,h,b;s.length>t.length?(c=l[0],d=l[1],h=l[2],b=l[3]):(h=l[0],b=l[1],c=l[2],d=l[3]);var g=l[4];return[c,d,h,b,g]}function rh(s){for(var t=!1,e=[],n=0,r=null,i=0,o=0,l=0,c=0,d=0;i<s.length;)s[i][0]==dt?(e[n++]=i,o=c,l=d,c=0,d=0,r=s[i][1]):(s[i][0]==Ct?c+=s[i][1].length:d+=s[i][1].length,r&&r.length<=Math.max(o,l)&&r.length<=Math.max(c,d)&&(s.splice(e[n-1],0,[Bt,r]),s[e[n-1]+1][0]=Ct,n--,n--,i=n>0?e[n-1]:-1,o=0,l=0,c=0,d=0,r=null,t=!0)),i++;for(t&&zi(s),ah(s),i=1;i<s.length;){if(s[i-1][0]==Bt&&s[i][0]==Ct){var h=s[i-1][1],b=s[i][1],g=Ao(h,b),f=Ao(b,h);g>=f?(g>=h.length/2||g>=b.length/2)&&(s.splice(i,0,[dt,b.substring(0,g)]),s[i-1][1]=h.substring(0,h.length-g),s[i+1][1]=b.substring(g),i++):(f>=h.length/2||f>=b.length/2)&&(s.splice(i,0,[dt,h.substring(0,f)]),s[i-1][0]=Ct,s[i-1][1]=b.substring(0,b.length-f),s[i+1][0]=Bt,s[i+1][1]=h.substring(f),i++),i++}i++}}var Co=/[^a-zA-Z0-9]/,Lo=/\s/,_o=/[\r\n]/,ih=/\n\r?\n$/,oh=/^\r?\n\r?\n/;function ah(s){function t(f,m){if(!f||!m)return 6;var y=f.charAt(f.length-1),v=m.charAt(0),w=y.match(Co),S=v.match(Co),N=w&&y.match(Lo),_=S&&v.match(Lo),T=N&&y.match(_o),A=_&&v.match(_o),I=T&&f.match(ih),U=A&&m.match(oh);return I||U?5:T||A?4:w&&!N&&_?3:N||_?2:w||S?1:0}for(var e=1;e<s.length-1;){if(s[e-1][0]==dt&&s[e+1][0]==dt){var n=s[e-1][1],r=s[e][1],i=s[e+1][1],o=tr(n,r);if(o){var l=r.substring(r.length-o);n=n.substring(0,n.length-o),r=l+r.substring(0,r.length-o),i=l+i}for(var c=n,d=r,h=i,b=t(n,r)+t(r,i);r.charAt(0)===i.charAt(0);){n+=r.charAt(0),r=r.substring(1)+i.charAt(0),i=i.substring(1);var g=t(n,r)+t(r,i);g>=b&&(b=g,c=n,d=r,h=i)}s[e-1][1]!=c&&(c?s[e-1][1]=c:(s.splice(e-1,1),e--),s[e][1]=d,h?s[e+1][1]=h:(s.splice(e+1,1),e--))}e++}}function zi(s,t){s.push([dt,""]);for(var e=0,n=0,r=0,i="",o="",l;e<s.length;){if(e<s.length-1&&!s[e][1]){s.splice(e,1);continue}switch(s[e][0]){case Ct:r++,o+=s[e][1],e++;break;case Bt:n++,i+=s[e][1],e++;break;case dt:var c=e-r-n-1;if(t){if(c>=0&&Da(s[c][1])){var d=s[c][1].slice(-1);if(s[c][1]=s[c][1].slice(0,-1),i=d+i,o=d+o,!s[c][1]){s.splice(c,1),e--;var h=c-1;s[h]&&s[h][0]===Ct&&(r++,o=s[h][1]+o,h--),s[h]&&s[h][0]===Bt&&(n++,i=s[h][1]+i,h--),c=h}}if(Pa(s[e][1])){var d=s[e][1].charAt(0);s[e][1]=s[e][1].slice(1),i+=d,o+=d}}if(e<s.length-1&&!s[e][1]){s.splice(e,1);break}if(i.length>0||o.length>0){i.length>0&&o.length>0&&(l=Di(o,i),l!==0&&(c>=0?s[c][1]+=o.substring(0,l):(s.splice(0,0,[dt,o.substring(0,l)]),e++),o=o.substring(l),i=i.substring(l)),l=tr(o,i),l!==0&&(s[e][1]=o.substring(o.length-l)+s[e][1],o=o.substring(0,o.length-l),i=i.substring(0,i.length-l)));var b=r+n;i.length===0&&o.length===0?(s.splice(e-b,b),e=e-b):i.length===0?(s.splice(e-b,b,[Ct,o]),e=e-b+1):o.length===0?(s.splice(e-b,b,[Bt,i]),e=e-b+1):(s.splice(e-b,b,[Bt,i],[Ct,o]),e=e-b+2)}e!==0&&s[e-1][0]===dt?(s[e-1][1]+=s[e][1],s.splice(e,1)):e++,r=0,n=0,i="",o="";break}}s[s.length-1][1]===""&&s.pop();var g=!1;for(e=1;e<s.length-1;)s[e-1][0]===dt&&s[e+1][0]===dt&&(s[e][1].substring(s[e][1].length-s[e-1][1].length)===s[e-1][1]?(s[e][1]=s[e-1][1]+s[e][1].substring(0,s[e][1].length-s[e-1][1].length),s[e+1][1]=s[e-1][1]+s[e+1][1],s.splice(e-1,1),g=!0):s[e][1].substring(0,s[e+1][1].length)==s[e+1][1]&&(s[e-1][1]+=s[e+1][1],s[e][1]=s[e][1].substring(s[e+1][1].length)+s[e+1][1],s.splice(e+1,1),g=!0)),e++;g&&zi(s,t)}function $a(s){return s>=55296&&s<=56319}function Ma(s){return s>=56320&&s<=57343}function Pa(s){return Ma(s.charCodeAt(0))}function Da(s){return $a(s.charCodeAt(s.length-1))}function lh(s){for(var t=[],e=0;e<s.length;e++)s[e][1].length>0&&t.push(s[e]);return t}function Gr(s,t,e,n){return Da(s)||Pa(n)?null:lh([[dt,s],[Bt,t],[Ct,e],[dt,n]])}function ch(s,t,e){var n=typeof e=="number"?{index:e,length:0}:e.oldRange,r=typeof e=="number"?null:e.newRange,i=s.length,o=t.length;if(n.length===0&&(r===null||r.length===0)){var l=n.index,c=s.slice(0,l),d=s.slice(l),h=r?r.index:null;t:{var b=l+o-i;if(h!==null&&h!==b||b<0||b>o)break t;var g=t.slice(0,b),f=t.slice(b);if(f!==d)break t;var m=Math.min(l,b),y=c.slice(0,m),v=g.slice(0,m);if(y!==v)break t;var w=c.slice(m),S=g.slice(m);return Gr(y,w,S,d)}t:{if(h!==null&&h!==l)break t;var N=l,g=t.slice(0,N),f=t.slice(N);if(g!==c)break t;var _=Math.min(i-N,o-N),T=d.slice(d.length-_),A=f.slice(f.length-_);if(T!==A)break t;var w=d.slice(0,d.length-_),S=f.slice(0,f.length-_);return Gr(c,w,S,T)}}if(n.length>0&&r&&r.length===0)t:{var y=s.slice(0,n.index),T=s.slice(n.index+n.length),m=y.length,_=T.length;if(o<m+_)break t;var v=t.slice(0,m),A=t.slice(o-_);if(y!==v||T!==A)break t;var w=s.slice(m,i-_),S=t.slice(m,o-_);return Gr(y,w,S,T)}return null}function er(s,t,e,n){return ds(s,t,e,n,!0)}er.INSERT=Ct;er.DELETE=Bt;er.EQUAL=dt;var uh=er,Ws={exports:{}};Ws.exports;(function(s,t){var e=200,n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Array]",l="[object Boolean]",c="[object Date]",d="[object Error]",h="[object Function]",b="[object GeneratorFunction]",g="[object Map]",f="[object Number]",m="[object Object]",y="[object Promise]",v="[object RegExp]",w="[object Set]",S="[object String]",N="[object Symbol]",_="[object WeakMap]",T="[object ArrayBuffer]",A="[object DataView]",I="[object Float32Array]",U="[object Float64Array]",H="[object Int8Array]",Q="[object Int16Array]",nt="[object Int32Array]",st="[object Uint8Array]",ct="[object Uint8ClampedArray]",Tt="[object Uint16Array]",ft="[object Uint32Array]",ye=/[\\^$.*+?()[\]{}|]/g,xe=/\w*$/,we=/^\[object .+?Constructor\]$/,oe=/^(?:0|[1-9]\d*)$/,K={};K[i]=K[o]=K[T]=K[A]=K[l]=K[c]=K[I]=K[U]=K[H]=K[Q]=K[nt]=K[g]=K[f]=K[m]=K[v]=K[w]=K[S]=K[N]=K[st]=K[ct]=K[Tt]=K[ft]=!0,K[d]=K[h]=K[_]=!1;var Xe=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,Ye=typeof self=="object"&&self&&self.Object===Object&&self,Nt=Xe||Ye||Function("return this")(),Ee=t&&!t.nodeType&&t,V=Ee&&!0&&s&&!s.nodeType&&s,ae=V&&V.exports===Ee;function Re(a,u){return a.set(u[0],u[1]),a}function St(a,u){return a.add(u),a}function Ie(a,u){for(var p=-1,x=a?a.length:0;++p<x&&u(a[p],p,a)!==!1;);return a}function Gt(a,u){for(var p=-1,x=u.length,W=a.length;++p<x;)a[W+p]=u[p];return a}function Ze(a,u,p,x){var W=-1,D=a?a.length:0;for(x&&D&&(p=a[++W]);++W<D;)p=u(p,a[W],W,a);return p}function Qe(a,u){for(var p=-1,x=Array(a);++p<a;)x[p]=u(p);return x}function vn(a,u){return a==null?void 0:a[u]}function Te(a){var u=!1;if(a!=null&&typeof a.toString!="function")try{u=!!(a+"")}catch{}return u}function yn(a){var u=-1,p=Array(a.size);return a.forEach(function(x,W){p[++u]=[W,x]}),p}function Je(a,u){return function(p){return a(u(p))}}function xn(a){var u=-1,p=Array(a.size);return a.forEach(function(x){p[++u]=x}),p}var wn=Array.prototype,le=Function.prototype,L=Object.prototype,C=Nt["__core-js_shared__"],P=function(){var a=/[^.]+$/.exec(C&&C.keys&&C.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),G=le.toString,J=L.hasOwnProperty,bt=L.toString,Lt=RegExp("^"+G.call(J).replace(ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=ae?Nt.Buffer:void 0,Be=Nt.Symbol,tn=Nt.Uint8Array,_t=Je(Object.getPrototypeOf,Object),En=Object.create,Tn=L.propertyIsEnumerable,Gn=wn.splice,en=Object.getOwnPropertySymbols,$e=Pt?Pt.isBuffer:void 0,Nn=Je(Object.keys,Object),Me=Kt(Nt,"DataView"),Ne=Kt(Nt,"Map"),Ot=Kt(Nt,"Promise"),Pe=Kt(Nt,"Set"),nn=Kt(Nt,"WeakMap"),Dt=Kt(Object,"create"),sn=At(Me),Se=At(Ne),rn=At(Ot),on=At(Pe),an=At(nn),ce=Be?Be.prototype:void 0,Sn=ce?ce.valueOf:void 0;function Vt(a){var u=-1,p=a?a.length:0;for(this.clear();++u<p;){var x=a[u];this.set(x[0],x[1])}}function Vn(){this.__data__=Dt?Dt(null):{}}function Kn(a){return this.has(a)&&delete this.__data__[a]}function or(a){var u=this.__data__;if(Dt){var p=u[a];return p===n?void 0:p}return J.call(u,a)?u[a]:void 0}function xs(a){var u=this.__data__;return Dt?u[a]!==void 0:J.call(u,a)}function Xn(a,u){var p=this.__data__;return p[a]=Dt&&u===void 0?n:u,this}Vt.prototype.clear=Vn,Vt.prototype.delete=Kn,Vt.prototype.get=or,Vt.prototype.has=xs,Vt.prototype.set=Xn;function pt(a){var u=-1,p=a?a.length:0;for(this.clear();++u<p;){var x=a[u];this.set(x[0],x[1])}}function ar(){this.__data__=[]}function lr(a){var u=this.__data__,p=Cn(u,a);if(p<0)return!1;var x=u.length-1;return p==x?u.pop():Gn.call(u,p,1),!0}function cr(a){var u=this.__data__,p=Cn(u,a);return p<0?void 0:u[p][1]}function ur(a){return Cn(this.__data__,a)>-1}function dr(a,u){var p=this.__data__,x=Cn(p,a);return x<0?p.push([a,u]):p[x][1]=u,this}pt.prototype.clear=ar,pt.prototype.delete=lr,pt.prototype.get=cr,pt.prototype.has=ur,pt.prototype.set=dr;function vt(a){var u=-1,p=a?a.length:0;for(this.clear();++u<p;){var x=a[u];this.set(x[0],x[1])}}function hr(){this.__data__={hash:new Vt,map:new(Ne||pt),string:new Vt}}function fr(a){return cn(this,a).delete(a)}function pr(a){return cn(this,a).get(a)}function gr(a){return cn(this,a).has(a)}function mr(a,u){return cn(this,a).set(a,u),this}vt.prototype.clear=hr,vt.prototype.delete=fr,vt.prototype.get=pr,vt.prototype.has=gr,vt.prototype.set=mr;function kt(a){this.__data__=new pt(a)}function br(){this.__data__=new pt}function vr(a){return this.__data__.delete(a)}function yr(a){return this.__data__.get(a)}function xr(a){return this.__data__.has(a)}function wr(a,u){var p=this.__data__;if(p instanceof pt){var x=p.__data__;if(!Ne||x.length<e-1)return x.push([a,u]),this;p=this.__data__=new vt(x)}return p.set(a,u),this}kt.prototype.clear=br,kt.prototype.delete=vr,kt.prototype.get=yr,kt.prototype.has=xr,kt.prototype.set=wr;function An(a,u){var p=Jn(a)||_n(a)?Qe(a.length,String):[],x=p.length,W=!!x;for(var D in a)(u||J.call(a,D))&&!(W&&(D=="length"||Br(D,x)))&&p.push(D);return p}function ws(a,u,p){var x=a[u];(!(J.call(a,u)&&As(x,p))||p===void 0&&!(u in a))&&(a[u]=p)}function Cn(a,u){for(var p=a.length;p--;)if(As(a[p][0],u))return p;return-1}function ue(a,u){return a&&Qn(u,es(u),a)}function Yn(a,u,p,x,W,D,X){var Z;if(x&&(Z=D?x(a,W,D,X):x(a)),Z!==void 0)return Z;if(!he(a))return a;var lt=Jn(a);if(lt){if(Z=Rr(a),!u)return kr(a,Z)}else{var tt=Ce(a),yt=tt==h||tt==b;if(Cs(a))return Ln(a,u);if(tt==m||tt==i||yt&&!D){if(Te(a))return D?a:{};if(Z=de(yt?{}:a),!u)return qr(a,ue(Z,a))}else{if(!K[tt])return D?a:{};Z=Ir(a,tt,Yn,u)}}X||(X=new kt);var qt=X.get(a);if(qt)return qt;if(X.set(a,Z),!lt)var ut=p?Or(a):es(a);return Ie(ut||a,function(xt,gt){ut&&(gt=xt,xt=a[gt]),ws(Z,gt,Yn(xt,u,p,x,gt,a,X))}),Z}function Er(a){return he(a)?En(a):{}}function Tr(a,u,p){var x=u(a);return Jn(a)?x:Gt(x,p(a))}function Nr(a){return bt.call(a)}function Sr(a){if(!he(a)||Mr(a))return!1;var u=ts(a)||Te(a)?Lt:we;return u.test(At(a))}function Ar(a){if(!Ns(a))return Nn(a);var u=[];for(var p in Object(a))J.call(a,p)&&p!="constructor"&&u.push(p);return u}function Ln(a,u){if(u)return a.slice();var p=new a.constructor(a.length);return a.copy(p),p}function Zn(a){var u=new a.constructor(a.byteLength);return new tn(u).set(new tn(a)),u}function ln(a,u){var p=u?Zn(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.byteLength)}function Es(a,u,p){var x=u?p(yn(a),!0):yn(a);return Ze(x,Re,new a.constructor)}function Ts(a){var u=new a.constructor(a.source,xe.exec(a));return u.lastIndex=a.lastIndex,u}function Cr(a,u,p){var x=u?p(xn(a),!0):xn(a);return Ze(x,St,new a.constructor)}function Lr(a){return Sn?Object(Sn.call(a)):{}}function _r(a,u){var p=u?Zn(a.buffer):a.buffer;return new a.constructor(p,a.byteOffset,a.length)}function kr(a,u){var p=-1,x=a.length;for(u||(u=Array(x));++p<x;)u[p]=a[p];return u}function Qn(a,u,p,x){p||(p={});for(var W=-1,D=u.length;++W<D;){var X=u[W],Z=x?x(p[X],a[X],X,p,a):void 0;ws(p,X,Z===void 0?a[X]:Z)}return p}function qr(a,u){return Qn(a,Ae(a),u)}function Or(a){return Tr(a,es,Ae)}function cn(a,u){var p=a.__data__;return $r(u)?p[typeof u=="string"?"string":"hash"]:p.map}function Kt(a,u){var p=vn(a,u);return Sr(p)?p:void 0}var Ae=en?Je(en,Object):Dr,Ce=Nr;(Me&&Ce(new Me(new ArrayBuffer(1)))!=A||Ne&&Ce(new Ne)!=g||Ot&&Ce(Ot.resolve())!=y||Pe&&Ce(new Pe)!=w||nn&&Ce(new nn)!=_)&&(Ce=function(a){var u=bt.call(a),p=u==m?a.constructor:void 0,x=p?At(p):void 0;if(x)switch(x){case sn:return A;case Se:return g;case rn:return y;case on:return w;case an:return _}return u});function Rr(a){var u=a.length,p=a.constructor(u);return u&&typeof a[0]=="string"&&J.call(a,"index")&&(p.index=a.index,p.input=a.input),p}function de(a){return typeof a.constructor=="function"&&!Ns(a)?Er(_t(a)):{}}function Ir(a,u,p,x){var W=a.constructor;switch(u){case T:return Zn(a);case l:case c:return new W(+a);case A:return ln(a,x);case I:case U:case H:case Q:case nt:case st:case ct:case Tt:case ft:return _r(a,x);case g:return Es(a,x,p);case f:case S:return new W(a);case v:return Ts(a);case w:return Cr(a,x,p);case N:return Lr(a)}}function Br(a,u){return u=u??r,!!u&&(typeof a=="number"||oe.test(a))&&a>-1&&a%1==0&&a<u}function $r(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function Mr(a){return!!P&&P in a}function Ns(a){var u=a&&a.constructor,p=typeof u=="function"&&u.prototype||L;return a===p}function At(a){if(a!=null){try{return G.call(a)}catch{}try{return a+""}catch{}}return""}function Ss(a){return Yn(a,!0,!0)}function As(a,u){return a===u||a!==a&&u!==u}function _n(a){return Pr(a)&&J.call(a,"callee")&&(!Tn.call(a,"callee")||bt.call(a)==i)}var Jn=Array.isArray;function kn(a){return a!=null&&Ls(a.length)&&!ts(a)}function Pr(a){return _s(a)&&kn(a)}var Cs=$e||zr;function ts(a){var u=he(a)?bt.call(a):"";return u==h||u==b}function Ls(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=r}function he(a){var u=typeof a;return!!a&&(u=="object"||u=="function")}function _s(a){return!!a&&typeof a=="object"}function es(a){return kn(a)?An(a):Ar(a)}function Dr(){return[]}function zr(){return!1}s.exports=Ss})(Ws,Ws.exports);var za=Ws.exports,Gs={exports:{}};Gs.exports;(function(s,t){var e=200,n="__lodash_hash_undefined__",r=1,i=2,o=9007199254740991,l="[object Arguments]",c="[object Array]",d="[object AsyncFunction]",h="[object Boolean]",b="[object Date]",g="[object Error]",f="[object Function]",m="[object GeneratorFunction]",y="[object Map]",v="[object Number]",w="[object Null]",S="[object Object]",N="[object Promise]",_="[object Proxy]",T="[object RegExp]",A="[object Set]",I="[object String]",U="[object Symbol]",H="[object Undefined]",Q="[object WeakMap]",nt="[object ArrayBuffer]",st="[object DataView]",ct="[object Float32Array]",Tt="[object Float64Array]",ft="[object Int8Array]",ye="[object Int16Array]",xe="[object Int32Array]",we="[object Uint8Array]",oe="[object Uint8ClampedArray]",K="[object Uint16Array]",Xe="[object Uint32Array]",Ye=/[\\^$.*+?()[\]{}|]/g,Nt=/^\[object .+?Constructor\]$/,Ee=/^(?:0|[1-9]\d*)$/,V={};V[ct]=V[Tt]=V[ft]=V[ye]=V[xe]=V[we]=V[oe]=V[K]=V[Xe]=!0,V[l]=V[c]=V[nt]=V[h]=V[st]=V[b]=V[g]=V[f]=V[y]=V[v]=V[S]=V[T]=V[A]=V[I]=V[Q]=!1;var ae=typeof Ue=="object"&&Ue&&Ue.Object===Object&&Ue,Re=typeof self=="object"&&self&&self.Object===Object&&self,St=ae||Re||Function("return this")(),Ie=t&&!t.nodeType&&t,Gt=Ie&&!0&&s&&!s.nodeType&&s,Ze=Gt&&Gt.exports===Ie,Qe=Ze&&ae.process,vn=function(){try{return Qe&&Qe.binding&&Qe.binding("util")}catch{}}(),Te=vn&&vn.isTypedArray;function yn(a,u){for(var p=-1,x=a==null?0:a.length,W=0,D=[];++p<x;){var X=a[p];u(X,p,a)&&(D[W++]=X)}return D}function Je(a,u){for(var p=-1,x=u.length,W=a.length;++p<x;)a[W+p]=u[p];return a}function xn(a,u){for(var p=-1,x=a==null?0:a.length;++p<x;)if(u(a[p],p,a))return!0;return!1}function wn(a,u){for(var p=-1,x=Array(a);++p<a;)x[p]=u(p);return x}function le(a){return function(u){return a(u)}}function L(a,u){return a.has(u)}function C(a,u){return a==null?void 0:a[u]}function P(a){var u=-1,p=Array(a.size);return a.forEach(function(x,W){p[++u]=[W,x]}),p}function G(a,u){return function(p){return a(u(p))}}function J(a){var u=-1,p=Array(a.size);return a.forEach(function(x){p[++u]=x}),p}var bt=Array.prototype,Lt=Function.prototype,Pt=Object.prototype,Be=St["__core-js_shared__"],tn=Lt.toString,_t=Pt.hasOwnProperty,En=function(){var a=/[^.]+$/.exec(Be&&Be.keys&&Be.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Tn=Pt.toString,Gn=RegExp("^"+tn.call(_t).replace(Ye,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),en=Ze?St.Buffer:void 0,$e=St.Symbol,Nn=St.Uint8Array,Me=Pt.propertyIsEnumerable,Ne=bt.splice,Ot=$e?$e.toStringTag:void 0,Pe=Object.getOwnPropertySymbols,nn=en?en.isBuffer:void 0,Dt=G(Object.keys,Object),sn=Ae(St,"DataView"),Se=Ae(St,"Map"),rn=Ae(St,"Promise"),on=Ae(St,"Set"),an=Ae(St,"WeakMap"),ce=Ae(Object,"create"),Sn=At(sn),Vt=At(Se),Vn=At(rn),Kn=At(on),or=At(an),xs=$e?$e.prototype:void 0,Xn=xs?xs.valueOf:void 0;function pt(a){var u=-1,p=a==null?0:a.length;for(this.clear();++u<p;){var x=a[u];this.set(x[0],x[1])}}function ar(){this.__data__=ce?ce(null):{},this.size=0}function lr(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}function cr(a){var u=this.__data__;if(ce){var p=u[a];return p===n?void 0:p}return _t.call(u,a)?u[a]:void 0}function ur(a){var u=this.__data__;return ce?u[a]!==void 0:_t.call(u,a)}function dr(a,u){var p=this.__data__;return this.size+=this.has(a)?0:1,p[a]=ce&&u===void 0?n:u,this}pt.prototype.clear=ar,pt.prototype.delete=lr,pt.prototype.get=cr,pt.prototype.has=ur,pt.prototype.set=dr;function vt(a){var u=-1,p=a==null?0:a.length;for(this.clear();++u<p;){var x=a[u];this.set(x[0],x[1])}}function hr(){this.__data__=[],this.size=0}function fr(a){var u=this.__data__,p=Ln(u,a);if(p<0)return!1;var x=u.length-1;return p==x?u.pop():Ne.call(u,p,1),--this.size,!0}function pr(a){var u=this.__data__,p=Ln(u,a);return p<0?void 0:u[p][1]}function gr(a){return Ln(this.__data__,a)>-1}function mr(a,u){var p=this.__data__,x=Ln(p,a);return x<0?(++this.size,p.push([a,u])):p[x][1]=u,this}vt.prototype.clear=hr,vt.prototype.delete=fr,vt.prototype.get=pr,vt.prototype.has=gr,vt.prototype.set=mr;function kt(a){var u=-1,p=a==null?0:a.length;for(this.clear();++u<p;){var x=a[u];this.set(x[0],x[1])}}function br(){this.size=0,this.__data__={hash:new pt,map:new(Se||vt),string:new pt}}function vr(a){var u=Kt(this,a).delete(a);return this.size-=u?1:0,u}function yr(a){return Kt(this,a).get(a)}function xr(a){return Kt(this,a).has(a)}function wr(a,u){var p=Kt(this,a),x=p.size;return p.set(a,u),this.size+=p.size==x?0:1,this}kt.prototype.clear=br,kt.prototype.delete=vr,kt.prototype.get=yr,kt.prototype.has=xr,kt.prototype.set=wr;function An(a){var u=-1,p=a==null?0:a.length;for(this.__data__=new kt;++u<p;)this.add(a[u])}function ws(a){return this.__data__.set(a,n),this}function Cn(a){return this.__data__.has(a)}An.prototype.add=An.prototype.push=ws,An.prototype.has=Cn;function ue(a){var u=this.__data__=new vt(a);this.size=u.size}function Yn(){this.__data__=new vt,this.size=0}function Er(a){var u=this.__data__,p=u.delete(a);return this.size=u.size,p}function Tr(a){return this.__data__.get(a)}function Nr(a){return this.__data__.has(a)}function Sr(a,u){var p=this.__data__;if(p instanceof vt){var x=p.__data__;if(!Se||x.length<e-1)return x.push([a,u]),this.size=++p.size,this;p=this.__data__=new kt(x)}return p.set(a,u),this.size=p.size,this}ue.prototype.clear=Yn,ue.prototype.delete=Er,ue.prototype.get=Tr,ue.prototype.has=Nr,ue.prototype.set=Sr;function Ar(a,u){var p=_n(a),x=!p&&As(a),W=!p&&!x&&kn(a),D=!p&&!x&&!W&&_s(a),X=p||x||W||D,Z=X?wn(a.length,String):[],lt=Z.length;for(var tt in a)(u||_t.call(a,tt))&&!(X&&(tt=="length"||W&&(tt=="offset"||tt=="parent")||D&&(tt=="buffer"||tt=="byteLength"||tt=="byteOffset")||Ir(tt,lt)))&&Z.push(tt);return Z}function Ln(a,u){for(var p=a.length;p--;)if(Ss(a[p][0],u))return p;return-1}function Zn(a,u,p){var x=u(a);return _n(a)?x:Je(x,p(a))}function ln(a){return a==null?a===void 0?H:w:Ot&&Ot in Object(a)?Ce(a):Ns(a)}function Es(a){return he(a)&&ln(a)==l}function Ts(a,u,p,x,W){return a===u?!0:a==null||u==null||!he(a)&&!he(u)?a!==a&&u!==u:Cr(a,u,p,x,Ts,W)}function Cr(a,u,p,x,W,D){var X=_n(a),Z=_n(u),lt=X?c:de(a),tt=Z?c:de(u);lt=lt==l?S:lt,tt=tt==l?S:tt;var yt=lt==S,qt=tt==S,ut=lt==tt;if(ut&&kn(a)){if(!kn(u))return!1;X=!0,yt=!1}if(ut&&!yt)return D||(D=new ue),X||_s(a)?Qn(a,u,p,x,W,D):qr(a,u,lt,p,x,W,D);if(!(p&r)){var xt=yt&&_t.call(a,"__wrapped__"),gt=qt&&_t.call(u,"__wrapped__");if(xt||gt){var De=xt?a.value():a,Le=gt?u.value():u;return D||(D=new ue),W(De,Le,p,x,D)}}return ut?(D||(D=new ue),Or(a,u,p,x,W,D)):!1}function Lr(a){if(!Ls(a)||$r(a))return!1;var u=Cs(a)?Gn:Nt;return u.test(At(a))}function _r(a){return he(a)&&ts(a.length)&&!!V[ln(a)]}function kr(a){if(!Mr(a))return Dt(a);var u=[];for(var p in Object(a))_t.call(a,p)&&p!="constructor"&&u.push(p);return u}function Qn(a,u,p,x,W,D){var X=p&r,Z=a.length,lt=u.length;if(Z!=lt&&!(X&&lt>Z))return!1;var tt=D.get(a);if(tt&&D.get(u))return tt==u;var yt=-1,qt=!0,ut=p&i?new An:void 0;for(D.set(a,u),D.set(u,a);++yt<Z;){var xt=a[yt],gt=u[yt];if(x)var De=X?x(gt,xt,yt,u,a,D):x(xt,gt,yt,a,u,D);if(De!==void 0){if(De)continue;qt=!1;break}if(ut){if(!xn(u,function(Le,un){if(!L(ut,un)&&(xt===Le||W(xt,Le,p,x,D)))return ut.push(un)})){qt=!1;break}}else if(!(xt===gt||W(xt,gt,p,x,D))){qt=!1;break}}return D.delete(a),D.delete(u),qt}function qr(a,u,p,x,W,D,X){switch(p){case st:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case nt:return!(a.byteLength!=u.byteLength||!D(new Nn(a),new Nn(u)));case h:case b:case v:return Ss(+a,+u);case g:return a.name==u.name&&a.message==u.message;case T:case I:return a==u+"";case y:var Z=P;case A:var lt=x&r;if(Z||(Z=J),a.size!=u.size&&!lt)return!1;var tt=X.get(a);if(tt)return tt==u;x|=i,X.set(a,u);var yt=Qn(Z(a),Z(u),x,W,D,X);return X.delete(a),yt;case U:if(Xn)return Xn.call(a)==Xn.call(u)}return!1}function Or(a,u,p,x,W,D){var X=p&r,Z=cn(a),lt=Z.length,tt=cn(u),yt=tt.length;if(lt!=yt&&!X)return!1;for(var qt=lt;qt--;){var ut=Z[qt];if(!(X?ut in u:_t.call(u,ut)))return!1}var xt=D.get(a);if(xt&&D.get(u))return xt==u;var gt=!0;D.set(a,u),D.set(u,a);for(var De=X;++qt<lt;){ut=Z[qt];var Le=a[ut],un=u[ut];if(x)var no=X?x(un,Le,ut,u,a,D):x(Le,un,ut,a,u,D);if(!(no===void 0?Le===un||W(Le,un,p,x,D):no)){gt=!1;break}De||(De=ut=="constructor")}if(gt&&!De){var ks=a.constructor,qs=u.constructor;ks!=qs&&"constructor"in a&&"constructor"in u&&!(typeof ks=="function"&&ks instanceof ks&&typeof qs=="function"&&qs instanceof qs)&&(gt=!1)}return D.delete(a),D.delete(u),gt}function cn(a){return Zn(a,es,Rr)}function Kt(a,u){var p=a.__data__;return Br(u)?p[typeof u=="string"?"string":"hash"]:p.map}function Ae(a,u){var p=C(a,u);return Lr(p)?p:void 0}function Ce(a){var u=_t.call(a,Ot),p=a[Ot];try{a[Ot]=void 0;var x=!0}catch{}var W=Tn.call(a);return x&&(u?a[Ot]=p:delete a[Ot]),W}var Rr=Pe?function(a){return a==null?[]:(a=Object(a),yn(Pe(a),function(u){return Me.call(a,u)}))}:Dr,de=ln;(sn&&de(new sn(new ArrayBuffer(1)))!=st||Se&&de(new Se)!=y||rn&&de(rn.resolve())!=N||on&&de(new on)!=A||an&&de(new an)!=Q)&&(de=function(a){var u=ln(a),p=u==S?a.constructor:void 0,x=p?At(p):"";if(x)switch(x){case Sn:return st;case Vt:return y;case Vn:return N;case Kn:return A;case or:return Q}return u});function Ir(a,u){return u=u??o,!!u&&(typeof a=="number"||Ee.test(a))&&a>-1&&a%1==0&&a<u}function Br(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function $r(a){return!!En&&En in a}function Mr(a){var u=a&&a.constructor,p=typeof u=="function"&&u.prototype||Pt;return a===p}function Ns(a){return Tn.call(a)}function At(a){if(a!=null){try{return tn.call(a)}catch{}try{return a+""}catch{}}return""}function Ss(a,u){return a===u||a!==a&&u!==u}var As=Es(function(){return arguments}())?Es:function(a){return he(a)&&_t.call(a,"callee")&&!Me.call(a,"callee")},_n=Array.isArray;function Jn(a){return a!=null&&ts(a.length)&&!Cs(a)}var kn=nn||zr;function Pr(a,u){return Ts(a,u)}function Cs(a){if(!Ls(a))return!1;var u=ln(a);return u==f||u==m||u==d||u==_}function ts(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=o}function Ls(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}function he(a){return a!=null&&typeof a=="object"}var _s=Te?le(Te):_r;function es(a){return Jn(a)?Ar(a):kr(a)}function Dr(){return[]}function zr(){return!1}s.exports=Pr})(Gs,Gs.exports);var ja=Gs.exports,ji={};Object.defineProperty(ji,"__esModule",{value:!0});const dh=za,hh=ja;var ci;(function(s){function t(i={},o={},l=!1){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});let c=dh(o);l||(c=Object.keys(c).reduce((d,h)=>(c[h]!=null&&(d[h]=c[h]),d),{}));for(const d in i)i[d]!==void 0&&o[d]===void 0&&(c[d]=i[d]);return Object.keys(c).length>0?c:void 0}s.compose=t;function e(i={},o={}){typeof i!="object"&&(i={}),typeof o!="object"&&(o={});const l=Object.keys(i).concat(Object.keys(o)).reduce((c,d)=>(hh(i[d],o[d])||(c[d]=o[d]===void 0?null:o[d]),c),{});return Object.keys(l).length>0?l:void 0}s.diff=e;function n(i={},o={}){i=i||{};const l=Object.keys(o).reduce((c,d)=>(o[d]!==i[d]&&i[d]!==void 0&&(c[d]=o[d]),c),{});return Object.keys(i).reduce((c,d)=>(i[d]!==o[d]&&o[d]===void 0&&(c[d]=null),c),l)}s.invert=n;function r(i,o,l=!1){if(typeof i!="object")return o;if(typeof o!="object")return;if(!l)return o;const c=Object.keys(o).reduce((d,h)=>(i[h]===void 0&&(d[h]=o[h]),d),{});return Object.keys(c).length>0?c:void 0}s.transform=r})(ci||(ci={}));ji.default=ci;var nr={};Object.defineProperty(nr,"__esModule",{value:!0});var ui;(function(s){function t(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.retain=="object"&&e.retain!==null?1:typeof e.insert=="string"?e.insert.length:1}s.length=t})(ui||(ui={}));nr.default=ui;var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});const ko=nr;class fh{constructor(t){this.ops=t,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(t){t||(t=1/0);const e=this.ops[this.index];if(e){const n=this.offset,r=ko.default.length(e);if(t>=r-n?(t=r-n,this.index+=1,this.offset=0):this.offset+=t,typeof e.delete=="number")return{delete:t};{const i={};return e.attributes&&(i.attributes=e.attributes),typeof e.retain=="number"?i.retain=t:typeof e.retain=="object"&&e.retain!==null?i.retain=e.retain:typeof e.insert=="string"?i.insert=e.insert.substr(n,t):i.insert=e.insert,i}}else return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?ko.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const t=this.ops[this.index];return t?typeof t.delete=="number"?"delete":typeof t.retain=="number"||typeof t.retain=="object"&&t.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const t=this.offset,e=this.index,n=this.next(),r=this.ops.slice(this.index);return this.offset=t,this.index=e,[n].concat(r)}}else return[]}}Ui.default=fh;(function(s,t){Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const e=uh,n=za,r=ja,i=ji;t.AttributeMap=i.default;const o=nr;t.Op=o.default;const l=Ui;t.OpIterator=l.default;const c="\0",d=(b,g)=>{if(typeof b!="object"||b===null)throw new Error(`cannot retain a ${typeof b}`);if(typeof g!="object"||g===null)throw new Error(`cannot retain a ${typeof g}`);const f=Object.keys(b)[0];if(!f||f!==Object.keys(g)[0])throw new Error(`embed types not matched: ${f} != ${Object.keys(g)[0]}`);return[f,b[f],g[f]]};class h{constructor(g){Array.isArray(g)?this.ops=g:g!=null&&Array.isArray(g.ops)?this.ops=g.ops:this.ops=[]}static registerEmbed(g,f){this.handlers[g]=f}static unregisterEmbed(g){delete this.handlers[g]}static getHandler(g){const f=this.handlers[g];if(!f)throw new Error(`no handlers for embed type "${g}"`);return f}insert(g,f){const m={};return typeof g=="string"&&g.length===0?this:(m.insert=g,f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(m.attributes=f),this.push(m))}delete(g){return g<=0?this:this.push({delete:g})}retain(g,f){if(typeof g=="number"&&g<=0)return this;const m={retain:g};return f!=null&&typeof f=="object"&&Object.keys(f).length>0&&(m.attributes=f),this.push(m)}push(g){let f=this.ops.length,m=this.ops[f-1];if(g=n(g),typeof m=="object"){if(typeof g.delete=="number"&&typeof m.delete=="number")return this.ops[f-1]={delete:m.delete+g.delete},this;if(typeof m.delete=="number"&&g.insert!=null&&(f-=1,m=this.ops[f-1],typeof m!="object"))return this.ops.unshift(g),this;if(r(g.attributes,m.attributes)){if(typeof g.insert=="string"&&typeof m.insert=="string")return this.ops[f-1]={insert:m.insert+g.insert},typeof g.attributes=="object"&&(this.ops[f-1].attributes=g.attributes),this;if(typeof g.retain=="number"&&typeof m.retain=="number")return this.ops[f-1]={retain:m.retain+g.retain},typeof g.attributes=="object"&&(this.ops[f-1].attributes=g.attributes),this}}return f===this.ops.length?this.ops.push(g):this.ops.splice(f,0,g),this}chop(){const g=this.ops[this.ops.length-1];return g&&typeof g.retain=="number"&&!g.attributes&&this.ops.pop(),this}filter(g){return this.ops.filter(g)}forEach(g){this.ops.forEach(g)}map(g){return this.ops.map(g)}partition(g){const f=[],m=[];return this.forEach(y=>{(g(y)?f:m).push(y)}),[f,m]}reduce(g,f){return this.ops.reduce(g,f)}changeLength(){return this.reduce((g,f)=>f.insert?g+o.default.length(f):f.delete?g-f.delete:g,0)}length(){return this.reduce((g,f)=>g+o.default.length(f),0)}slice(g=0,f=1/0){const m=[],y=new l.default(this.ops);let v=0;for(;v<f&&y.hasNext();){let w;v<g?w=y.next(g-v):(w=y.next(f-v),m.push(w)),v+=o.default.length(w)}return new h(m)}compose(g){const f=new l.default(this.ops),m=new l.default(g.ops),y=[],v=m.peek();if(v!=null&&typeof v.retain=="number"&&v.attributes==null){let S=v.retain;for(;f.peekType()==="insert"&&f.peekLength()<=S;)S-=f.peekLength(),y.push(f.next());v.retain-S>0&&m.next(v.retain-S)}const w=new h(y);for(;f.hasNext()||m.hasNext();)if(m.peekType()==="insert")w.push(m.next());else if(f.peekType()==="delete")w.push(f.next());else{const S=Math.min(f.peekLength(),m.peekLength()),N=f.next(S),_=m.next(S);if(_.retain){const T={};if(typeof N.retain=="number")T.retain=typeof _.retain=="number"?S:_.retain;else if(typeof _.retain=="number")N.retain==null?T.insert=N.insert:T.retain=N.retain;else{const I=N.retain==null?"insert":"retain",[U,H,Q]=d(N[I],_.retain),nt=h.getHandler(U);T[I]={[U]:nt.compose(H,Q,I==="retain")}}const A=i.default.compose(N.attributes,_.attributes,typeof N.retain=="number");if(A&&(T.attributes=A),w.push(T),!m.hasNext()&&r(w.ops[w.ops.length-1],T)){const I=new h(f.rest());return w.concat(I).chop()}}else typeof _.delete=="number"&&(typeof N.retain=="number"||typeof N.retain=="object"&&N.retain!==null)&&w.push(_)}return w.chop()}concat(g){const f=new h(this.ops.slice());return g.ops.length>0&&(f.push(g.ops[0]),f.ops=f.ops.concat(g.ops.slice(1))),f}diff(g,f){if(this.ops===g.ops)return new h;const m=[this,g].map(N=>N.map(_=>{if(_.insert!=null)return typeof _.insert=="string"?_.insert:c;const T=N===g?"on":"with";throw new Error("diff() called "+T+" non-document")}).join("")),y=new h,v=e(m[0],m[1],f,!0),w=new l.default(this.ops),S=new l.default(g.ops);return v.forEach(N=>{let _=N[1].length;for(;_>0;){let T=0;switch(N[0]){case e.INSERT:T=Math.min(S.peekLength(),_),y.push(S.next(T));break;case e.DELETE:T=Math.min(_,w.peekLength()),w.next(T),y.delete(T);break;case e.EQUAL:T=Math.min(w.peekLength(),S.peekLength(),_);const A=w.next(T),I=S.next(T);r(A.insert,I.insert)?y.retain(T,i.default.diff(A.attributes,I.attributes)):y.push(I).delete(T);break}_-=T}}),y.chop()}eachLine(g,f=`
`){const m=new l.default(this.ops);let y=new h,v=0;for(;m.hasNext();){if(m.peekType()!=="insert")return;const w=m.peek(),S=o.default.length(w)-m.peekLength(),N=typeof w.insert=="string"?w.insert.indexOf(f,S)-S:-1;if(N<0)y.push(m.next());else if(N>0)y.push(m.next(N));else{if(g(y,m.next(1).attributes||{},v)===!1)return;v+=1,y=new h}}y.length()>0&&g(y,{},v)}invert(g){const f=new h;return this.reduce((m,y)=>{if(y.insert)f.delete(o.default.length(y));else{if(typeof y.retain=="number"&&y.attributes==null)return f.retain(y.retain),m+y.retain;if(y.delete||typeof y.retain=="number"){const v=y.delete||y.retain;return g.slice(m,m+v).forEach(S=>{y.delete?f.push(S):y.retain&&y.attributes&&f.retain(o.default.length(S),i.default.invert(y.attributes,S.attributes))}),m+v}else if(typeof y.retain=="object"&&y.retain!==null){const v=g.slice(m,m+1),w=new l.default(v.ops).next(),[S,N,_]=d(y.retain,w.insert),T=h.getHandler(S);return f.retain({[S]:T.invert(N,_)},i.default.invert(y.attributes,w.attributes)),m+1}}return m},0),f.chop()}transform(g,f=!1){if(f=!!f,typeof g=="number")return this.transformPosition(g,f);const m=g,y=new l.default(this.ops),v=new l.default(m.ops),w=new h;for(;y.hasNext()||v.hasNext();)if(y.peekType()==="insert"&&(f||v.peekType()!=="insert"))w.retain(o.default.length(y.next()));else if(v.peekType()==="insert")w.push(v.next());else{const S=Math.min(y.peekLength(),v.peekLength()),N=y.next(S),_=v.next(S);if(N.delete)continue;if(_.delete)w.push(_);else{const T=N.retain,A=_.retain;let I=typeof A=="object"&&A!==null?A:S;if(typeof T=="object"&&T!==null&&typeof A=="object"&&A!==null){const U=Object.keys(T)[0];if(U===Object.keys(A)[0]){const H=h.getHandler(U);H&&(I={[U]:H.transform(T[U],A[U],f)})}}w.retain(I,i.default.transform(N.attributes,_.attributes,f))}}return w.chop()}transformPosition(g,f=!1){f=!!f;const m=new l.default(this.ops);let y=0;for(;m.hasNext()&&y<=g;){const v=m.peekLength(),w=m.peekType();if(m.next(),w==="delete"){g-=Math.min(v,g-y);continue}else w==="insert"&&(y<g||!f)&&(g+=v);y+=v}return g}}h.Op=o.default,h.OpIterator=l.default,h.AttributeMap=i.default,h.handlers={},t.default=h,s.exports=h,s.exports.default=h})(li,li.exports);var Ht=li.exports;const B=ia(Ht);class re extends Mt{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}re.blotName="break";re.tagName="BR";let ee=class extends Hs{};function sr(s){return s.replace(/[&<>"']/g,t=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[t])}const pe=class pe extends Mi{static compare(t,e){const n=pe.order.indexOf(t),r=pe.order.indexOf(e);return n>=0||r>=0?n-r:t===e?0:t<e?-1:1}formatAt(t,e,n,r){if(pe.compare(this.statics.blotName,n)<0&&this.scroll.query(n,M.BLOT)){const i=this.isolate(t,e);r&&i.wrap(n,r)}else super.formatAt(t,e,n,r)}optimize(t){if(super.optimize(t),this.parent instanceof pe&&pe.compare(this.statics.blotName,this.parent.statics.blotName)>0){const e=this.parent.isolate(this.offset(),this.length());this.moveChildren(e),e.wrap(this)}}};q(pe,"allowedChildren",[pe,re,Mt,ee]),q(pe,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let ve=pe;const qo=1;class mt extends us{constructor(){super(...arguments);q(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=Ua(this)),this.cache.delta}deleteAt(e,n){super.deleteAt(e,n),this.cache={}}formatAt(e,n,r,i){n<=0||(this.scroll.query(r,M.BLOCK)?e+n===this.length()&&this.format(r,i):super.formatAt(e,Math.min(n,this.length()-e-1),r,i),this.cache={})}insertAt(e,n,r){if(r!=null){super.insertAt(e,n,r),this.cache={};return}if(n.length===0)return;const i=n.split(`
`),o=i.shift();o.length>0&&(e<this.length()-1||this.children.tail==null?super.insertAt(Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});let l=this;i.reduce((c,d)=>(l=l.split(c,!0),l.insertAt(0,d),d.length),e+o.length)}insertBefore(e,n){const{head:r}=this.children;super.insertBefore(e,n),r instanceof re&&r.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+qo),this.cache.length}moveChildren(e,n){super.moveChildren(e,n),this.cache={}}optimize(e){super.optimize(e),this.cache={}}path(e){return super.path(e,!0)}removeChild(e){super.removeChild(e),this.cache={}}split(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(n&&(e===0||e>=this.length()-qo)){const i=this.clone();return e===0?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}const r=super.split(e,n);return this.cache={},r}}mt.blotName="block";mt.tagName="P";mt.defaultChild=re;mt.allowedChildren=[re,ve,Mt,ee];class Ft extends Mt{attach(){super.attach(),this.attributes=new Qs(this.domNode)}delta(){return new B().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(t,e){const n=this.scroll.query(t,M.BLOCK_ATTRIBUTE);n!=null&&this.attributes.attribute(n,e)}formatAt(t,e,n,r){this.format(n,r)}insertAt(t,e,n){if(n!=null){super.insertAt(t,e,n);return}const r=e.split(`
`),i=r.pop(),o=r.map(c=>{const d=this.scroll.create(mt.blotName);return d.insertAt(0,c),d}),l=this.split(t);o.forEach(c=>{this.parent.insertBefore(c,l)}),i&&this.parent.insertBefore(this.scroll.create("text",i),l)}}Ft.scope=M.BLOCK_BLOT;function Ua(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s.descendants(wt).reduce((e,n)=>n.length()===0?e:e.insert(n.value(),jt(n,{},t)),new B).insert(`
`,jt(s))}function jt(s){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;return s==null||("formats"in s&&typeof s.formats=="function"&&(t={...t,...s.formats()},e&&delete t["code-token"]),s.parent==null||s.parent.statics.blotName==="scroll"||s.parent.statics.scope!==s.statics.scope)?t:jt(s.parent,t,e)}const zt=class zt extends Mt{static value(){}constructor(t,e,n){super(t,e),this.selection=n,this.textNode=document.createTextNode(zt.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(t,e){if(this.savedLength!==0){super.format(t,e);return}let n=this,r=0;for(;n!=null&&n.statics.scope!==M.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;n!=null&&(this.savedLength=zt.CONTENTS.length,n.optimize(),n.formatAt(r,zt.CONTENTS.length,t,e),this.savedLength=0)}index(t,e){return t===this.textNode?0:super.index(t,e)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const t=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const e=this.prev instanceof ee?this.prev:null,n=e?e.length():0,r=this.next instanceof ee?this.next:null,i=r?r.text:"",{textNode:o}=this,l=o.data.split(zt.CONTENTS).join("");o.data=zt.CONTENTS;let c;if(e)c=e,(l||r)&&(e.insertAt(e.length(),l+i),r&&r.remove());else if(r)c=r,r.insertAt(0,l);else{const d=document.createTextNode(l);c=this.scroll.create(d),this.parent.insertBefore(c,this)}if(this.remove(),t){const d=(g,f)=>e&&g===e.domNode?f:g===o?n+f-1:r&&g===r.domNode?n+l.length+f:null,h=d(t.start.node,t.start.offset),b=d(t.end.node,t.end.offset);if(h!==null&&b!==null)return{startNode:c.domNode,startOffset:h,endNode:c.domNode,endOffset:b}}return null}update(t,e){if(t.some(n=>n.type==="characterData"&&n.target===this.textNode)){const n=this.restore();n&&(e.range=n)}}optimize(t){super.optimize(t);let{parent:e}=this;for(;e;){if(e.domNode.tagName==="A"){this.savedLength=zt.CONTENTS.length,e.isolate(this.offset(e),this.length()).unwrap(),this.savedLength=0;break}e=e.parent}}value(){return""}};q(zt,"blotName","cursor"),q(zt,"className","ql-cursor"),q(zt,"tagName","span"),q(zt,"CONTENTS","\uFEFF");let Fn=zt;var Fa={exports:{}};(function(s){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function r(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,b,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var f=new r(h,b||c,g),m=e?e+d:d;return c._events[m]?c._events[m].fn?c._events[m]=[c._events[m],f]:c._events[m].push(f):(c._events[m]=f,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,b;if(this._eventsCount===0)return d;for(b in h=this._events)t.call(h,b)&&d.push(e?b.slice(1):b);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=e?e+d:d,b=this._events[h];if(!b)return[];if(b.fn)return[b.fn];for(var g=0,f=b.length,m=new Array(f);g<f;g++)m[g]=b[g].fn;return m},l.prototype.listenerCount=function(d){var h=e?e+d:d,b=this._events[h];return b?b.fn?1:b.length:0},l.prototype.emit=function(d,h,b,g,f,m){var y=e?e+d:d;if(!this._events[y])return!1;var v=this._events[y],w=arguments.length,S,N;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),w){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,b),!0;case 4:return v.fn.call(v.context,h,b,g),!0;case 5:return v.fn.call(v.context,h,b,g,f),!0;case 6:return v.fn.call(v.context,h,b,g,f,m),!0}for(N=1,S=new Array(w-1);N<w;N++)S[N-1]=arguments[N];v.fn.apply(v.context,S)}else{var _=v.length,T;for(N=0;N<_;N++)switch(v[N].once&&this.removeListener(d,v[N].fn,void 0,!0),w){case 1:v[N].fn.call(v[N].context);break;case 2:v[N].fn.call(v[N].context,h);break;case 3:v[N].fn.call(v[N].context,h,b);break;case 4:v[N].fn.call(v[N].context,h,b,g);break;default:if(!S)for(T=1,S=new Array(w-1);T<w;T++)S[T-1]=arguments[T];v[N].fn.apply(v[N].context,S)}}return!0},l.prototype.on=function(d,h,b){return i(this,d,h,b,!1)},l.prototype.once=function(d,h,b){return i(this,d,h,b,!0)},l.prototype.removeListener=function(d,h,b,g){var f=e?e+d:d;if(!this._events[f])return this;if(!h)return o(this,f),this;var m=this._events[f];if(m.fn)m.fn===h&&(!g||m.once)&&(!b||m.context===b)&&o(this,f);else{for(var y=0,v=[],w=m.length;y<w;y++)(m[y].fn!==h||g&&!m[y].once||b&&m[y].context!==b)&&v.push(m[y]);v.length?this._events[f]=v.length===1?v[0]:v:o(this,f)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=e?e+d:d,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=e,l.EventEmitter=l,s.exports=l})(Fa);var ph=Fa.exports;const gh=ia(ph),di=new WeakMap,hi=["error","warn","log","info"];let fi="warn";function Ha(s){if(fi&&hi.indexOf(s)<=hi.indexOf(fi)){for(var t=arguments.length,e=new Array(t>1?t-1:0),n=1;n<t;n++)e[n-1]=arguments[n];console[s](...e)}}function Oe(s){return hi.reduce((t,e)=>(t[e]=Ha.bind(console,e,s),t),{})}Oe.level=s=>{fi=s};Ha.level=Oe.level;const Vr=Oe("quill:events"),mh=["selectionchange","mousedown","mouseup","click"];mh.forEach(s=>{document.addEventListener(s,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];Array.from(document.querySelectorAll(".ql-container")).forEach(r=>{const i=di.get(r);i&&i.emitter&&i.emitter.handleDOM(...e)})})});class R extends gh{constructor(){super(),this.domListeners={},this.on("error",Vr.error)}emit(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Vr.log.call(Vr,...e),super.emit(...e)}handleDOM(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];(this.domListeners[t.type]||[]).forEach(i=>{let{node:o,handler:l}=i;(t.target===o||o.contains(t.target))&&l(t,...n)})}listenDOM(t,e,n){this.domListeners[t]||(this.domListeners[t]=[]),this.domListeners[t].push({node:e,handler:n})}}q(R,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),q(R,"sources",{API:"api",SILENT:"silent",USER:"user"});const Kr=Oe("quill:selection");class pn{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=t,this.length=e}}class bh{constructor(t,e){this.emitter=e,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new pn(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{!this.mouseDown&&!this.composing&&setTimeout(this.update.bind(this,R.sources.USER),1)}),this.emitter.on(R.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const n=this.getNativeRange();n!=null&&n.start.node!==this.cursor.textNode&&this.emitter.once(R.events.SCROLL_UPDATE,(r,i)=>{try{this.root.contains(n.start.node)&&this.root.contains(n.end.node)&&this.setNativeRange(n.start.node,n.start.offset,n.end.node,n.end.offset);const o=i.some(l=>l.type==="characterData"||l.type==="childList"||l.type==="attributes"&&l.target===this.root);this.update(o?R.sources.SILENT:r)}catch{}})}),this.emitter.on(R.events.SCROLL_OPTIMIZE,(n,r)=>{if(r.range){const{startNode:i,startOffset:o,endNode:l,endOffset:c}=r.range;this.setNativeRange(i,o,l,c),this.update(R.sources.SILENT)}}),this.update(R.sources.SILENT)}handleComposition(){this.emitter.on(R.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(R.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const t=this.cursor.restore();if(!t)return;setTimeout(()=>{this.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(R.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(t,e){this.scroll.update();const n=this.getNativeRange();if(!(n==null||!n.native.collapsed||this.scroll.query(t,M.BLOCK))){if(n.start.node!==this.cursor.textNode){const r=this.scroll.find(n.start.node,!1);if(r==null)return;if(r instanceof wt){const i=r.split(n.start.offset);r.parent.insertBefore(this.cursor,i)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(t,e),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const n=this.scroll.length();t=Math.min(t,n-1),e=Math.min(t+e,n-1)-t;let r,[i,o]=this.scroll.leaf(t);if(i==null)return null;if(e>0&&o===i.length()){const[h]=this.scroll.leaf(t+1);if(h){const[b]=this.scroll.line(t),[g]=this.scroll.line(t+1);b===g&&(i=h,o=0)}}[r,o]=i.position(o,!0);const l=document.createRange();if(e>0)return l.setStart(r,o),[i,o]=this.scroll.leaf(t+e),i==null?null:([r,o]=i.position(o,!0),l.setEnd(r,o),l.getBoundingClientRect());let c="left",d;if(r instanceof Text){if(!r.data.length)return null;o<r.data.length?(l.setStart(r,o),l.setEnd(r,o+1)):(l.setStart(r,o-1),l.setEnd(r,o),c="right"),d=l.getBoundingClientRect()}else{if(!(i.domNode instanceof Element))return null;d=i.domNode.getBoundingClientRect(),o>0&&(c="right")}return{bottom:d.top+d.height,height:d.height,left:d[c],right:d[c],top:d.top,width:0}}getNativeRange(){const t=document.getSelection();if(t==null||t.rangeCount<=0)return null;const e=t.getRangeAt(0);if(e==null)return null;const n=this.normalizeNative(e);return Kr.info("getNativeRange",n),n}getRange(){const t=this.scroll.domNode;if("isConnected"in t&&!t.isConnected)return[null,null];const e=this.getNativeRange();return e==null?[null,null]:[this.normalizedToRange(e),e]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&Xr(this.root,document.activeElement)}normalizedToRange(t){const e=[[t.start.node,t.start.offset]];t.native.collapsed||e.push([t.end.node,t.end.offset]);const n=e.map(o=>{const[l,c]=o,d=this.scroll.find(l,!0),h=d.offset(this.scroll);return c===0?h:d instanceof wt?h+d.index(l,c):h+d.length()}),r=Math.min(Math.max(...n),this.scroll.length()-1),i=Math.min(r,...n);return new pn(i,r-i)}normalizeNative(t){if(!Xr(this.root,t.startContainer)||!t.collapsed&&!Xr(this.root,t.endContainer))return null;const e={start:{node:t.startContainer,offset:t.startOffset},end:{node:t.endContainer,offset:t.endOffset},native:t};return[e.start,e.end].forEach(n=>{let{node:r,offset:i}=n;for(;!(r instanceof Text)&&r.childNodes.length>0;)if(r.childNodes.length>i)r=r.childNodes[i],i=0;else if(r.childNodes.length===i)r=r.lastChild,r instanceof Text?i=r.data.length:r.childNodes.length>0?i=r.childNodes.length:i=r.childNodes.length+1;else break;n.node=r,n.offset=i}),e}rangeToNative(t){const e=this.scroll.length(),n=(r,i)=>{r=Math.min(e-1,r);const[o,l]=this.scroll.leaf(r);return o?o.position(l,i):[null,-1]};return[...n(t.index,!1),...n(t.index+t.length,!0)]}setNativeRange(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:e,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Kr.info("setNativeRange",t,e,n,r),t!=null&&(this.root.parentNode==null||t.parentNode==null||n.parentNode==null))return;const o=document.getSelection();if(o!=null)if(t!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:l}=this.getNativeRange()||{};if(l==null||i||t!==l.startContainer||e!==l.startOffset||n!==l.endContainer||r!==l.endOffset){t instanceof Element&&t.tagName==="BR"&&(e=Array.from(t.parentNode.childNodes).indexOf(t),t=t.parentNode),n instanceof Element&&n.tagName==="BR"&&(r=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);const c=document.createRange();c.setStart(t,e),c.setEnd(n,r),o.removeAllRanges(),o.addRange(c)}}else o.removeAllRanges(),this.root.blur()}setRange(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R.sources.API;if(typeof e=="string"&&(n=e,e=!1),Kr.info("setRange",t),t!=null){const r=this.rangeToNative(t);this.setNativeRange(...r,e)}else this.setNativeRange(null);this.update(n)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R.sources.USER;const e=this.lastRange,[n,r]=this.getRange();if(this.lastRange=n,this.lastNative=r,this.lastRange!=null&&(this.savedRange=this.lastRange),!Ii(e,this.lastRange)){if(!this.composing&&r!=null&&r.native.collapsed&&r.start.node!==this.cursor.textNode){const o=this.cursor.restore();o&&this.setNativeRange(o.startNode,o.startOffset,o.endNode,o.endOffset)}const i=[R.events.SELECTION_CHANGE,Dn(this.lastRange),Dn(e),t];this.emitter.emit(R.events.EDITOR_CHANGE,...i),t!==R.sources.SILENT&&this.emitter.emit(...i)}}}function Xr(s,t){try{t.parentNode}catch{return!1}return s.contains(t)}const vh=/^[ -~]*$/;class yh{constructor(t){this.scroll=t,this.delta=this.getDelta()}applyDelta(t){this.scroll.update();let e=this.scroll.length();this.scroll.batchStart();const n=Oo(t),r=new B;return wh(n.ops.slice()).reduce((o,l)=>{const c=Ht.Op.length(l);let d=l.attributes||{},h=!1,b=!1;if(l.insert!=null){if(r.retain(c),typeof l.insert=="string"){const m=l.insert;b=!m.endsWith(`
`)&&(e<=o||!!this.scroll.descendant(Ft,o)[0]),this.scroll.insertAt(o,m);const[y,v]=this.scroll.line(o);let w=Ve({},jt(y));if(y instanceof mt){const[S]=y.descendant(wt,v);S&&(w=Ve(w,jt(S)))}d=Ht.AttributeMap.diff(w,d)||{}}else if(typeof l.insert=="object"){const m=Object.keys(l.insert)[0];if(m==null)return o;const y=this.scroll.query(m,M.INLINE)!=null;if(y)(e<=o||this.scroll.descendant(Ft,o)[0])&&(b=!0);else if(o>0){const[v,w]=this.scroll.descendant(wt,o-1);v instanceof ee?v.value()[w]!==`
`&&(h=!0):v instanceof Mt&&v.statics.scope===M.INLINE_BLOT&&(h=!0)}if(this.scroll.insertAt(o,m,l.insert[m]),y){const[v]=this.scroll.descendant(wt,o);if(v){const w=Ve({},jt(v));d=Ht.AttributeMap.diff(w,d)||{}}}}e+=c}else if(r.push(l),l.retain!==null&&typeof l.retain=="object"){const m=Object.keys(l.retain)[0];if(m==null)return o;this.scroll.updateEmbedAt(o,m,l.retain[m])}Object.keys(d).forEach(m=>{this.scroll.formatAt(o,c,m,d[m])});const g=h?1:0,f=b?1:0;return e+=g+f,r.retain(g),r.delete(f),o+c+g+f},0),r.reduce((o,l)=>typeof l.delete=="number"?(this.scroll.deleteAt(o,l.delete),o):o+Ht.Op.length(l),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(n)}deleteText(t,e){return this.scroll.deleteAt(t,e),this.update(new B().retain(t).delete(e))}formatLine(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(n).forEach(i=>{this.scroll.lines(t,Math.max(e,1)).forEach(o=>{o.format(i,n[i])})}),this.scroll.optimize();const r=new B().retain(t).retain(e,Dn(n));return this.update(r)}formatText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(n).forEach(i=>{this.scroll.formatAt(t,e,i,n[i])});const r=new B().retain(t).retain(e,Dn(n));return this.update(r)}getContents(t,e){return this.delta.slice(t,t+e)}getDelta(){return this.scroll.lines().reduce((t,e)=>t.concat(e.delta()),new B)}getFormat(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=[],r=[];e===0?this.scroll.path(t).forEach(l=>{const[c]=l;c instanceof mt?n.push(c):c instanceof wt&&r.push(c)}):(n=this.scroll.lines(t,e),r=this.scroll.descendants(wt,t,e));const[i,o]=[n,r].map(l=>{const c=l.shift();if(c==null)return{};let d=jt(c);for(;Object.keys(d).length>0;){const h=l.shift();if(h==null)return d;d=xh(jt(h),d)}return d});return{...i,...o}}getHTML(t,e){const[n,r]=this.scroll.line(t);if(n){const i=n.length();return n.length()>=r+e&&!(r===0&&e===i)?hs(n,r,e,!0):hs(this.scroll,t,e,!0)}return""}getText(t,e){return this.getContents(t,e).filter(n=>typeof n.insert=="string").map(n=>n.insert).join("")}insertContents(t,e){const n=Oo(e),r=new B().retain(t).concat(n);return this.scroll.insertContents(t,n),this.update(r)}insertEmbed(t,e,n){return this.scroll.insertAt(t,e,n),this.update(new B().retain(t).insert({[e]:n}))}insertText(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return e=e.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(t,e),Object.keys(n).forEach(r=>{this.scroll.formatAt(t,e.length,r,n[r])}),this.update(new B().retain(t).insert(e,Dn(n)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const t=this.scroll.children.head;if((t==null?void 0:t.statics.blotName)!==mt.blotName)return!1;const e=t;return e.children.length>1?!1:e.children.head instanceof re}removeFormat(t,e){const n=this.getText(t,e),[r,i]=this.scroll.line(t+e);let o=0,l=new B;r!=null&&(o=r.length()-i,l=r.delta().slice(i,i+o-1).insert(`
`));const d=this.getContents(t,e+o).diff(new B().insert(n).concat(l)),h=new B().retain(t).concat(d);return this.applyDelta(h)}update(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const r=this.delta;if(e.length===1&&e[0].type==="characterData"&&e[0].target.data.match(vh)&&this.scroll.find(e[0].target)){const i=this.scroll.find(e[0].target),o=jt(i),l=i.offset(this.scroll),c=e[0].oldValue.replace(Fn.CONTENTS,""),d=new B().insert(c),h=new B().insert(i.value()),b=n&&{oldRange:Ro(n.oldRange,-l),newRange:Ro(n.newRange,-l)};t=new B().retain(l).concat(d.diff(h,b)).reduce((f,m)=>m.insert?f.insert(m.insert,o):f.push(m),new B),this.delta=r.compose(t)}else this.delta=this.getDelta(),(!t||!Ii(r.compose(t),this.delta))&&(t=r.diff(this.delta,n));return t}}function $n(s,t,e){if(s.length===0){const[f]=Yr(e.pop());return t<=0?`</li></${f}>`:`</li></${f}>${$n([],t-1,e)}`}const[{child:n,offset:r,length:i,indent:o,type:l},...c]=s,[d,h]=Yr(l);if(o>t)return e.push(l),o===t+1?`<${d}><li${h}>${hs(n,r,i)}${$n(c,o,e)}`:`<${d}><li>${$n(s,t+1,e)}`;const b=e[e.length-1];if(o===t&&l===b)return`</li><li${h}>${hs(n,r,i)}${$n(c,o,e)}`;const[g]=Yr(e.pop());return`</li></${g}>${$n(s,t-1,e)}`}function hs(s,t,e){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if("html"in s&&typeof s.html=="function")return s.html(t,e);if(s instanceof ee)return sr(s.value().slice(t,t+e));if(s instanceof te){if(s.statics.blotName==="list-container"){const d=[];return s.children.forEachAt(t,e,(h,b,g)=>{const f="formats"in h&&typeof h.formats=="function"?h.formats():{};d.push({child:h,offset:b,length:g,indent:f.indent||0,type:f.list})}),$n(d,-1,[])}const r=[];if(s.children.forEachAt(t,e,(d,h,b)=>{r.push(hs(d,h,b))}),n||s.statics.blotName==="list")return r.join("");const{outerHTML:i,innerHTML:o}=s.domNode,[l,c]=i.split(`>${o}<`);return l==="<table"?`<table style="border: 1px solid #000;">${r.join("")}<${c}`:`${l}>${r.join("")}<${c}`}return s.domNode instanceof Element?s.domNode.outerHTML:""}function xh(s,t){return Object.keys(t).reduce((e,n)=>{if(s[n]==null)return e;const r=t[n];return r===s[n]?e[n]=r:Array.isArray(r)?r.indexOf(s[n])<0?e[n]=r.concat([s[n]]):e[n]=r:e[n]=[r,s[n]],e},{})}function Yr(s){const t=s==="ordered"?"ol":"ul";switch(s){case"checked":return[t,' data-list="checked"'];case"unchecked":return[t,' data-list="unchecked"'];default:return[t,""]}}function Oo(s){return s.reduce((t,e)=>{if(typeof e.insert=="string"){const n=e.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return t.insert(n,e.attributes)}return t.push(e)},new B)}function Ro(s,t){let{index:e,length:n}=s;return new pn(e+t,n)}function wh(s){const t=[];return s.forEach(e=>{typeof e.insert=="string"?e.insert.split(`
`).forEach((r,i)=>{i&&t.push({insert:`
`,attributes:e.attributes}),r&&t.push({insert:r,attributes:e.attributes})}):t.push(e)}),t}class ie{constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=t,this.options=e}}q(ie,"DEFAULTS",{});const Is="\uFEFF";class Fi extends Mt{constructor(t,e){super(t,e),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(n=>{this.contentNode.appendChild(n)}),this.leftGuard=document.createTextNode(Is),this.rightGuard=document.createTextNode(Is),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(t,e){return t===this.leftGuard?0:t===this.rightGuard?1:super.index(t,e)}restore(t){let e=null,n;const r=t.data.split(Is).join("");if(t===this.leftGuard)if(this.prev instanceof ee){const i=this.prev.length();this.prev.insertAt(i,r),e={startNode:this.prev.domNode,startOffset:i+r.length}}else n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this),e={startNode:n,startOffset:r.length};else t===this.rightGuard&&(this.next instanceof ee?(this.next.insertAt(0,r),e={startNode:this.next.domNode,startOffset:r.length}):(n=document.createTextNode(r),this.parent.insertBefore(this.scroll.create(n),this.next),e={startNode:n,startOffset:r.length}));return t.data=Is,e}update(t,e){t.forEach(n=>{if(n.type==="characterData"&&(n.target===this.leftGuard||n.target===this.rightGuard)){const r=this.restore(n.target);r&&(e.range=r)}})}}class Eh{constructor(t,e){q(this,"isComposing",!1);this.scroll=t,this.emitter=e,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",t=>{this.isComposing||this.handleCompositionStart(t)}),this.scroll.domNode.addEventListener("compositionend",t=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(t)})})}handleCompositionStart(t){const e=t.target instanceof Node?this.scroll.find(t.target,!0):null;e&&!(e instanceof Fi)&&(this.emitter.emit(R.events.COMPOSITION_BEFORE_START,t),this.scroll.batchStart(),this.emitter.emit(R.events.COMPOSITION_START,t),this.isComposing=!0)}handleCompositionEnd(t){this.emitter.emit(R.events.COMPOSITION_BEFORE_END,t),this.scroll.batchEnd(),this.emitter.emit(R.events.COMPOSITION_END,t),this.isComposing=!1}}const ls=class ls{constructor(t,e){q(this,"modules",{});this.quill=t,this.options=e}init(){Object.keys(this.options.modules).forEach(t=>{this.modules[t]==null&&this.addModule(t)})}addModule(t){const e=this.quill.constructor.import(`modules/${t}`);return this.modules[t]=new e(this.quill,this.options.modules[t]||{}),this.modules[t]}};q(ls,"DEFAULTS",{modules:{}}),q(ls,"themes",{default:ls});let Hn=ls;const Th=s=>s.parentElement||s.getRootNode().host||null,Nh=s=>{const t=s.getBoundingClientRect(),e="offsetWidth"in s&&Math.abs(t.width)/s.offsetWidth||1,n="offsetHeight"in s&&Math.abs(t.height)/s.offsetHeight||1;return{top:t.top,right:t.left+s.clientWidth*e,bottom:t.top+s.clientHeight*n,left:t.left}},Bs=s=>{const t=parseInt(s,10);return Number.isNaN(t)?0:t},Io=(s,t,e,n,r,i)=>s<e&&t>n?0:s<e?-(e-s+r):t>n?t-s>n-e?s+r-e:t-n+i:0,Sh=(s,t)=>{var i,o,l;const e=s.ownerDocument;let n=t,r=s;for(;r;){const c=r===e.body,d=c?{top:0,right:((i=window.visualViewport)==null?void 0:i.width)??e.documentElement.clientWidth,bottom:((o=window.visualViewport)==null?void 0:o.height)??e.documentElement.clientHeight,left:0}:Nh(r),h=getComputedStyle(r),b=Io(n.left,n.right,d.left,d.right,Bs(h.scrollPaddingLeft),Bs(h.scrollPaddingRight)),g=Io(n.top,n.bottom,d.top,d.bottom,Bs(h.scrollPaddingTop),Bs(h.scrollPaddingBottom));if(b||g)if(c)(l=e.defaultView)==null||l.scrollBy(b,g);else{const{scrollLeft:f,scrollTop:m}=r;g&&(r.scrollTop+=g),b&&(r.scrollLeft+=b);const y=r.scrollLeft-f,v=r.scrollTop-m;n={left:n.left-y,top:n.top-v,right:n.right-y,bottom:n.bottom-v}}r=c||h.position==="fixed"?null:Th(r)}},Ah=100,Ch=["block","break","cursor","inline","scroll","text"],Lh=(s,t,e)=>{const n=new Un;return Ch.forEach(r=>{const i=t.query(r);i&&n.register(i)}),s.forEach(r=>{let i=t.query(r);i||e.error(`Cannot register "${r}" specified in "formats" config. Are you sure it was registered?`);let o=0;for(;i;)if(n.register(i),i="blotName"in i?i.requiredContainer??null:null,o+=1,o>Ah){e.error(`Cycle detected in registering blot requiredContainer: "${r}"`);break}}),n},jn=Oe("quill"),$s=new Un;te.uiClass="ql-ui";const Yt=class Yt{static debug(t){t===!0&&(t="log"),Oe.level(t)}static find(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return di.get(t)||$s.find(t,e)}static import(t){return this.imports[t]==null&&jn.error(`Cannot import ${t}. Are you sure it was registered?`),this.imports[t]}static register(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof t!="string"){const r="attrName"in t?t.attrName:t.blotName;typeof r=="string"?this.register(`formats/${r}`,t,e):Object.keys(t).forEach(i=>{this.register(i,t[i],e)})}else this.imports[t]!=null&&!n&&jn.warn(`Overwriting ${t} with`,e),this.imports[t]=e,(t.startsWith("blots/")||t.startsWith("formats/"))&&e&&typeof e!="boolean"&&e.blotName!=="abstract"&&$s.register(e),typeof e.register=="function"&&e.register($s)}constructor(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=_h(t,e),this.container=this.options.container,this.container==null){jn.error("Invalid Quill container",t);return}this.options.debug&&Yt.debug(this.options.debug);const n=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",di.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new R;const r=Pi.blotName,i=this.options.registry.query(r);if(!i||!("blotName"in i))throw new Error(`Cannot initialize Quill without "${r}" blot`);if(this.scroll=new i(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new yh(this.scroll),this.selection=new bh(this.scroll,this.emitter),this.composition=new Eh(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(R.events.EDITOR_CHANGE,o=>{o===R.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(R.events.SCROLL_UPDATE,(o,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;Xt.call(this,()=>this.editor.update(null,l,h),o)}),this.emitter.on(R.events.SCROLL_EMBED_UPDATE,(o,l)=>{const c=this.selection.lastRange,[d]=this.selection.getRange(),h=c&&d?{oldRange:c,newRange:d}:void 0;Xt.call(this,()=>{const b=new B().retain(o.offset(this)).retain({[o.statics.blotName]:l});return this.editor.update(b,[],h)},Yt.sources.USER)}),n){const o=this.clipboard.convert({html:`${n}<p><br></p>`,text:`
`});this.setContents(o)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof t=="string"){const n=t;t=document.createElement("div"),t.classList.add(n)}return this.container.insertBefore(t,e),t}blur(){this.selection.setRange(null)}deleteText(t,e,n){return[t,e,,n]=_e(t,e,n),Xt.call(this,()=>this.editor.deleteText(t,e),n,t,-1*e)}disable(){this.enable(!1)}editReadOnly(t){this.allowReadOnlyEdits=!0;const e=t();return this.allowReadOnlyEdits=!1,e}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(t),this.container.classList.toggle("ql-disabled",!t)}focus(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),t.preventScroll||this.scrollSelectionIntoView()}format(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:R.sources.API;return Xt.call(this,()=>{const r=this.getSelection(!0);let i=new B;if(r==null)return i;if(this.scroll.query(t,M.BLOCK))i=this.editor.formatLine(r.index,r.length,{[t]:e});else{if(r.length===0)return this.selection.format(t,e),i;i=this.editor.formatText(r.index,r.length,{[t]:e})}return this.setSelection(r,R.sources.SILENT),i},n)}formatLine(t,e,n,r,i){let o;return[t,e,o,i]=_e(t,e,n,r,i),Xt.call(this,()=>this.editor.formatLine(t,e,o),i,t,0)}formatText(t,e,n,r,i){let o;return[t,e,o,i]=_e(t,e,n,r,i),Xt.call(this,()=>this.editor.formatText(t,e,o),i,t,0)}getBounds(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=null;if(typeof t=="number"?n=this.selection.getBounds(t,e):n=this.selection.getBounds(t.index,t.length),!n)return null;const r=this.container.getBoundingClientRect();return{bottom:n.bottom-r.top,height:n.height,left:n.left-r.left,right:n.right-r.left,top:n.top-r.top,width:n.width}}getContents(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-t;return[t,e]=_e(t,e),this.editor.getContents(t,e)}getFormat(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof t=="number"?this.editor.getFormat(t,e):this.editor.getFormat(t.index,t.length)}getIndex(t){return t.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(t){return this.scroll.leaf(t)}getLine(t){return this.scroll.line(t)}getLines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof t!="number"?this.scroll.lines(t.index,t.length):this.scroll.lines(t,e)}getModule(t){return this.theme.modules[t]}getSelection(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=_e(t,e),this.editor.getHTML(t,e)}getText(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return typeof t=="number"&&(e=e??this.getLength()-t),[t,e]=_e(t,e),this.editor.getText(t,e)}hasFocus(){return this.selection.hasFocus()}insertEmbed(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Yt.sources.API;return Xt.call(this,()=>this.editor.insertEmbed(t,e,n),r,t)}insertText(t,e,n,r,i){let o;return[t,,o,i]=_e(t,0,n,r,i),Xt.call(this,()=>this.editor.insertText(t,e,o),i,t,e.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(){const[t,e,,n]=_e(...arguments);return Xt.call(this,()=>this.editor.removeFormat(t,e),n,t)}scrollRectIntoView(t){Sh(this.root,t)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const t=this.selection.lastRange,e=t&&this.selection.getBounds(t.index,t.length);e&&this.scrollRectIntoView(e)}setContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R.sources.API;return Xt.call(this,()=>{t=new B(t);const n=this.getLength(),r=this.editor.deleteText(0,n),i=this.editor.insertContents(0,t),o=this.editor.deleteText(this.getLength()-1,1);return r.compose(i).compose(o)},e)}setSelection(t,e,n){t==null?this.selection.setRange(null,e||Yt.sources.API):([t,e,,n]=_e(t,e,n),this.selection.setRange(new pn(Math.max(0,t),e),n),n!==R.sources.SILENT&&this.scrollSelectionIntoView())}setText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R.sources.API;const n=new B().insert(t);return this.setContents(n,e)}update(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:R.sources.USER;const e=this.scroll.update(t);return this.selection.update(t),e}updateContents(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:R.sources.API;return Xt.call(this,()=>(t=new B(t),this.editor.applyDelta(t)),e,!0)}};q(Yt,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:$s,theme:"default"}),q(Yt,"events",R.events),q(Yt,"sources",R.sources),q(Yt,"version","2.0.0-rc.3"),q(Yt,"imports",{delta:B,parchment:th,"core/module":ie,"core/theme":Hn});let E=Yt;function Bo(s){return typeof s=="string"?document.querySelector(s):s}function Zr(s){return Object.entries(s??{}).reduce((t,e)=>{let[n,r]=e;return{...t,[n]:r===!0?{}:r}},{})}function _h(s,t){const e=Bo(s);if(!e)throw new Error("Invalid Quill container");const r=!t.theme||t.theme===E.DEFAULTS.theme?Hn:E.import(`themes/${t.theme}`);if(!r)throw new Error(`Invalid theme ${t.theme}. Did you register it?`);const{modules:i,...o}=E.DEFAULTS,{modules:l,...c}=r.DEFAULTS,d=Ve({},Zr(i),Zr(l),Zr(t.modules));d!=null&&d.toolbar&&d.toolbar.constructor!==Object&&(d.toolbar={container:d.toolbar});const h={...o,...c,...t};let b=t.registry;return b?t.formats&&jn.warn('Ignoring "formats" option because "registry" is specified'):b=t.formats?Lh(t.formats,h.registry,jn):h.registry,{...h,registry:b,container:e,theme:r,modules:Object.entries(d).reduce((g,f)=>{let[m,y]=f;if(!y)return g;const v=E.import(`modules/${m}`);return v==null?(jn.error(`Cannot load ${m} module. Are you sure you registered it?`),g):{...g,[m]:Ve({},v.DEFAULTS||{},y)}},{}),bounds:Bo(h.bounds)}}function Xt(s,t,e,n){if(!this.isEnabled()&&t===R.sources.USER&&!this.allowReadOnlyEdits)return new B;let r=e==null?null:this.getSelection();const i=this.editor.delta,o=s();if(r!=null&&(e===!0&&(e=r.index),n==null?r=$o(r,o,t):n!==0&&(r=$o(r,e,n,t)),this.setSelection(r,R.sources.SILENT)),o.length()>0){const l=[R.events.TEXT_CHANGE,o,i,t];this.emitter.emit(R.events.EDITOR_CHANGE,...l),t!==R.sources.SILENT&&this.emitter.emit(...l)}return o}function _e(s,t,e,n,r){let i={};return typeof s.index=="number"&&typeof s.length=="number"?typeof t!="number"?(r=n,n=e,e=t,t=s.length,s=s.index):(t=s.length,s=s.index):typeof t!="number"&&(r=n,n=e,e=t,t=0),typeof e=="object"?(i=e,r=n):typeof e=="string"&&(n!=null?i[e]=n:r=e),r=r||R.sources.API,[s,t,i,r]}function $o(s,t,e,n){const r=typeof e=="number"?e:0;if(s==null)return null;let i,o;return t&&typeof t.transformPosition=="function"?[i,o]=[s.index,s.index+s.length].map(l=>t.transformPosition(l,n!==R.sources.USER)):[i,o]=[s.index,s.index+s.length].map(l=>l<t||l===t&&n===R.sources.USER?l:r>=0?l+r:Math.max(t,l+r)),new pn(i,o-i)}class gn extends Js{}function Mo(s){return s instanceof mt||s instanceof Ft}function Po(s){return typeof s.updateContent=="function"}class Mn extends Pi{constructor(t,e,n){let{emitter:r}=n;super(t,e),this.emitter=r,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",i=>this.handleDragStart(i))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const t=this.batch;this.batch=!1,this.update(t)}emitMount(t){this.emitter.emit(R.events.SCROLL_BLOT_MOUNT,t)}emitUnmount(t){this.emitter.emit(R.events.SCROLL_BLOT_UNMOUNT,t)}emitEmbedUpdate(t,e){this.emitter.emit(R.events.SCROLL_EMBED_UPDATE,t,e)}deleteAt(t,e){const[n,r]=this.line(t),[i]=this.line(t+e);if(super.deleteAt(t,e),i!=null&&n!==i&&r>0){if(n instanceof Ft||i instanceof Ft){this.optimize();return}const o=i.children.head instanceof re?null:i.children.head;n.moveChildren(i,o),n.remove()}this.optimize()}enable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",t?"true":"false")}formatAt(t,e,n,r){super.formatAt(t,e,n,r),this.optimize()}insertAt(t,e,n){if(t>=this.length())if(n==null||this.scroll.query(e,M.BLOCK)==null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),n==null&&e.endsWith(`
`)?r.insertAt(0,e.slice(0,-1),n):r.insertAt(0,e,n)}else{const r=this.scroll.create(e,n);this.appendChild(r)}else super.insertAt(t,e,n);this.optimize()}insertBefore(t,e){if(t.statics.scope===M.INLINE_BLOT){const n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(t),super.insertBefore(n,e)}else super.insertBefore(t,e)}insertContents(t,e){const n=this.deltaToRenderBlocks(e.concat(new B().insert(`
`))),r=n.pop();if(r==null)return;this.batchStart();const i=n.shift();if(i){const c=i.type==="block"&&(i.delta.length()===0||!this.descendant(Ft,t)[0]&&t<this.length()),d=i.type==="block"?i.delta:new B().insert({[i.key]:i.value});Qr(this,t,d);const h=i.type==="block"?1:0,b=t+d.length()+h;c&&this.insertAt(b-1,`
`);const g=jt(this.line(t)[0]),f=Ht.AttributeMap.diff(g,i.attributes)||{};Object.keys(f).forEach(m=>{this.formatAt(b-1,1,m,f[m])}),t=b}let[o,l]=this.children.find(t);if(n.length&&(o&&(o=o.split(l),l=0),n.forEach(c=>{if(c.type==="block"){const d=this.createBlock(c.attributes,o||void 0);Qr(d,0,c.delta)}else{const d=this.create(c.key,c.value);this.insertBefore(d,o||void 0),Object.keys(c.attributes).forEach(h=>{d.format(h,c.attributes[h])})}})),r.type==="block"&&r.delta.length()){const c=o?o.offset(o.scroll)+l:this.length();Qr(this,c,r.delta)}this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(t){const e=this.path(t).pop();if(!e)return[null,-1];const[n,r]=e;return n instanceof wt?[n,r]:[null,-1]}line(t){return t===this.length()?this.line(t-1):this.descendant(Mo,t)}lines(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const n=(r,i,o)=>{let l=[],c=o;return r.children.forEachAt(i,o,(d,h,b)=>{Mo(d)?l.push(d):d instanceof Js&&(l=l.concat(n(d,h,c))),c-=b}),l};return n(this,t,e)}optimize(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(t,e),t.length>0&&this.emitter.emit(R.events.SCROLL_OPTIMIZE,t,e))}path(t){return super.path(t).slice(1)}remove(){}update(t){if(this.batch){Array.isArray(t)&&(this.batch=this.batch.concat(t));return}let e=R.sources.USER;typeof t=="string"&&(e=t),Array.isArray(t)||(t=this.observer.takeRecords()),t=t.filter(n=>{let{target:r}=n;const i=this.find(r,!0);return i&&!Po(i)}),t.length>0&&this.emitter.emit(R.events.SCROLL_BEFORE_UPDATE,e,t),super.update(t.concat([])),t.length>0&&this.emitter.emit(R.events.SCROLL_UPDATE,e,t)}updateEmbedAt(t,e,n){const[r]=this.descendant(i=>i instanceof Ft,t);r&&r.statics.blotName===e&&Po(r)&&r.updateContent(n)}handleDragStart(t){t.preventDefault()}deltaToRenderBlocks(t){const e=[];let n=new B;return t.forEach(r=>{const i=r==null?void 0:r.insert;if(i)if(typeof i=="string"){const o=i.split(`
`);o.slice(0,-1).forEach(c=>{n.insert(c,r.attributes),e.push({type:"block",delta:n,attributes:r.attributes??{}}),n=new B});const l=o[o.length-1];l&&n.insert(l,r.attributes)}else{const o=Object.keys(i)[0];if(!o)return;this.query(o,M.INLINE)?n.push(r):(n.length()&&e.push({type:"block",delta:n,attributes:{}}),n=new B,e.push({type:"blockEmbed",key:o,value:i[o],attributes:r.attributes??{}}))}}),n.length()&&e.push({type:"block",delta:n,attributes:{}}),e}createBlock(t,e){let n;const r={};Object.entries(t).forEach(l=>{let[c,d]=l;this.query(c,M.BLOCK&M.BLOT)!=null?n=c:r[c]=d});const i=this.create(n||this.statics.defaultChild.blotName,n?t[n]:void 0);this.insertBefore(i,e||void 0);const o=i.length();return Object.entries(r).forEach(l=>{let[c,d]=l;i.formatAt(0,o,c,d)}),i}}q(Mn,"blotName","scroll"),q(Mn,"className","ql-editor"),q(Mn,"tagName","DIV"),q(Mn,"defaultChild",mt),q(Mn,"allowedChildren",[mt,Ft,gn]);function Qr(s,t,e){e.reduce((n,r)=>{const i=Ht.Op.length(r);let o=r.attributes||{};if(r.insert!=null){if(typeof r.insert=="string"){const l=r.insert;s.insertAt(n,l);const[c]=s.descendant(wt,n),d=jt(c);o=Ht.AttributeMap.diff(d,o)||{}}else if(typeof r.insert=="object"){const l=Object.keys(r.insert)[0];if(l==null)return n;if(s.insertAt(n,l,r.insert[l]),s.scroll.query(l,M.INLINE)!=null){const[d]=s.descendant(wt,n),h=jt(d);o=Ht.AttributeMap.diff(h,o)||{}}}}return Object.keys(o).forEach(l=>{s.formatAt(n,i,l,o[l])}),n+i},t)}const Hi={scope:M.BLOCK,whitelist:["right","center","justify"]},kh=new be("align","align",Hi),Wa=new se("align","ql-align",Hi),Ga=new Ke("align","text-align",Hi);class Va extends Ke{value(t){let e=super.value(t);return e.startsWith("rgb(")?(e=e.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${e.split(",").map(r=>`00${parseInt(r,10).toString(16)}`.slice(-2)).join("")}`):e}}const qh=new se("color","ql-color",{scope:M.INLINE}),Wi=new Va("color","color",{scope:M.INLINE}),Oh=new se("background","ql-bg",{scope:M.INLINE}),Gi=new Va("background","background-color",{scope:M.INLINE});class mn extends gn{static create(t){const e=super.create(t);return e.setAttribute("spellcheck","false"),e}code(t,e){return this.children.map(n=>n.length()<=1?"":n.domNode.innerText).join(`
`).slice(t,t+e)}html(t,e){return`<pre>
${sr(this.code(t,e))}
</pre>`}}class Et extends mt{static register(){E.register(mn)}}q(Et,"TAB","  ");class Vi extends ve{}Vi.blotName="code";Vi.tagName="CODE";Et.blotName="code-block";Et.className="ql-code-block";Et.tagName="DIV";mn.blotName="code-block-container";mn.className="ql-code-block-container";mn.tagName="DIV";mn.allowedChildren=[Et];Et.allowedChildren=[ee,re,Fn];Et.requiredContainer=mn;const Ki={scope:M.BLOCK,whitelist:["rtl"]},Ka=new be("direction","dir",Ki),Xa=new se("direction","ql-direction",Ki),Ya=new Ke("direction","direction",Ki),Za={scope:M.INLINE,whitelist:["serif","monospace"]},Qa=new se("font","ql-font",Za);class Rh extends Ke{value(t){return super.value(t).replace(/["']/g,"")}}const Ja=new Rh("font","font-family",Za),tl=new se("size","ql-size",{scope:M.INLINE,whitelist:["small","large","huge"]}),el=new Ke("size","font-size",{scope:M.INLINE,whitelist:["10px","18px","32px"]}),Ih=Oe("quill:keyboard"),Bh=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class rr extends ie{static match(t,e){return["altKey","ctrlKey","metaKey","shiftKey"].some(n=>!!e[n]!==t[n]&&e[n]!==null)?!1:e.key===t.key||e.key===t.which}constructor(t,e){super(t,e),this.bindings={},Object.keys(this.options.bindings).forEach(n=>{this.options.bindings[n]&&this.addBinding(this.options.bindings[n])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const r=Mh(t);if(r==null){Ih.warn("Attempted to add invalid keyboard binding",r);return}typeof e=="function"&&(e={handler:e}),typeof n=="function"&&(n={handler:n}),(Array.isArray(r.key)?r.key:[r.key]).forEach(o=>{const l={...r,key:o,...e,...n};this.bindings[l.key]=this.bindings[l.key]||[],this.bindings[l.key].push(l)})}listen(){this.quill.root.addEventListener("keydown",t=>{if(t.defaultPrevented||t.isComposing)return;const n=(this.bindings[t.key]||[]).concat(this.bindings[t.which]||[]).filter(v=>rr.match(t,v));if(n.length===0)return;const r=E.find(t.target,!0);if(r&&r.scroll!==this.quill.scroll)return;const i=this.quill.getSelection();if(i==null||!this.quill.hasFocus())return;const[o,l]=this.quill.getLine(i.index),[c,d]=this.quill.getLeaf(i.index),[h,b]=i.length===0?[c,d]:this.quill.getLeaf(i.index+i.length),g=c instanceof Hs?c.value().slice(0,d):"",f=h instanceof Hs?h.value().slice(b):"",m={collapsed:i.length===0,empty:i.length===0&&o.length()<=1,format:this.quill.getFormat(i),line:o,offset:l,prefix:g,suffix:f,event:t};n.some(v=>{if(v.collapsed!=null&&v.collapsed!==m.collapsed||v.empty!=null&&v.empty!==m.empty||v.offset!=null&&v.offset!==m.offset)return!1;if(Array.isArray(v.format)){if(v.format.every(w=>m.format[w]==null))return!1}else if(typeof v.format=="object"&&!Object.keys(v.format).every(w=>v.format[w]===!0?m.format[w]!=null:v.format[w]===!1?m.format[w]==null:Ii(v.format[w],m.format[w])))return!1;return v.prefix!=null&&!v.prefix.test(m.prefix)||v.suffix!=null&&!v.suffix.test(m.suffix)?!1:v.handler.call(this,i,m,v)!==!0})&&t.preventDefault()})}handleBackspace(t,e){const n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(e.prefix)?2:1;if(t.index===0||this.quill.getLength()<=1)return;let r={};const[i]=this.quill.getLine(t.index);let o=new B().retain(t.index-n).delete(n);if(e.offset===0){const[l]=this.quill.getLine(t.index-1);if(l&&!(l.statics.blotName==="block"&&l.length()<=1)){const d=i.formats(),h=this.quill.getFormat(t.index-1,1);if(r=Ht.AttributeMap.diff(d,h)||{},Object.keys(r).length>0){const b=new B().retain(t.index+i.length()-2).retain(1,r);o=o.compose(b)}}}this.quill.updateContents(o,E.sources.USER),this.quill.focus()}handleDelete(t,e){const n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(e.suffix)?2:1;if(t.index>=this.quill.getLength()-n)return;let r={};const[i]=this.quill.getLine(t.index);let o=new B().retain(t.index).delete(n);if(e.offset>=i.length()-1){const[l]=this.quill.getLine(t.index+1);if(l){const c=i.formats(),d=this.quill.getFormat(t.index,1);r=Ht.AttributeMap.diff(c,d)||{},Object.keys(r).length>0&&(o=o.retain(l.length()-1).retain(1,r))}}this.quill.updateContents(o,E.sources.USER),this.quill.focus()}handleDeleteRange(t){Xi({range:t,quill:this.quill}),this.quill.focus()}handleEnter(t,e){const n=Object.keys(e.format).reduce((i,o)=>(this.quill.scroll.query(o,M.BLOCK)&&!Array.isArray(e.format[o])&&(i[o]=e.format[o]),i),{}),r=new B().retain(t.index).delete(t.length).insert(`
`,n);this.quill.updateContents(r,E.sources.USER),this.quill.setSelection(t.index+1,E.sources.SILENT),this.quill.focus()}}const $h={bindings:{bold:Jr("bold"),italic:Jr("italic"),underline:Jr("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(s,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","+1",E.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(s,t){return t.collapsed&&t.offset!==0?!0:(this.quill.format("indent","-1",E.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(s,t){t.format.indent!=null?this.quill.format("indent","-1",E.sources.USER):t.format.list!=null&&this.quill.format("list",!1,E.sources.USER)}},"indent code-block":Do(!0),"outdent code-block":Do(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(s){this.quill.deleteText(s.index-1,1,E.sources.USER)}},tab:{key:"Tab",handler(s,t){if(t.format.table)return!0;this.quill.history.cutoff();const e=new B().retain(s.index).delete(s.length).insert("	");return this.quill.updateContents(e,E.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(s.index+1,E.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,E.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(s,t){const e={list:!1};t.format.indent&&(e.indent=!1),this.quill.formatLine(s.index,s.length,e,E.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(s){const[t,e]=this.quill.getLine(s.index),n={...t.formats(),list:"checked"},r=new B().retain(s.index).insert(`
`,n).retain(t.length()-e-1).retain(1,{list:"unchecked"});this.quill.updateContents(r,E.sources.USER),this.quill.setSelection(s.index+1,E.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(s,t){const[e,n]=this.quill.getLine(s.index),r=new B().retain(s.index).insert(`
`,t.format).retain(e.length()-n-1).retain(1,{header:null});this.quill.updateContents(r,E.sources.USER),this.quill.setSelection(s.index+1,E.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(s){const t=this.quill.getModule("table");if(t){const[e,n,r,i]=t.getTable(s),o=Ph(e,n,r,i);if(o==null)return;let l=e.offset();if(o<0){const c=new B().retain(l).insert(`
`);this.quill.updateContents(c,E.sources.USER),this.quill.setSelection(s.index+1,s.length,E.sources.SILENT)}else if(o>0){l+=e.length();const c=new B().retain(l).insert(`
`);this.quill.updateContents(c,E.sources.USER),this.quill.setSelection(l,E.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(s,t){const{event:e,line:n}=t,r=n.offset(this.quill.scroll);e.shiftKey?this.quill.setSelection(r-1,E.sources.USER):this.quill.setSelection(r+n.length(),E.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(s,t){if(this.quill.scroll.query("list")==null)return!0;const{length:e}=t.prefix,[n,r]=this.quill.getLine(s.index);if(r>e)return!0;let i;switch(t.prefix.trim()){case"[]":case"[ ]":i="unchecked";break;case"[x]":i="checked";break;case"-":case"*":i="bullet";break;default:i="ordered"}this.quill.insertText(s.index," ",E.sources.USER),this.quill.history.cutoff();const o=new B().retain(s.index-r).delete(e+1).retain(n.length()-2-r).retain(1,{list:i});return this.quill.updateContents(o,E.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(s.index-e,E.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(s){const[t,e]=this.quill.getLine(s.index);let n=2,r=t;for(;r!=null&&r.length()<=1&&r.formats()["code-block"];)if(r=r.prev,n-=1,n<=0){const i=new B().retain(s.index+t.length()-e-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(i,E.sources.USER),this.quill.setSelection(s.index-1,E.sources.SILENT),!1}return!0}},"embed left":Ms("ArrowLeft",!1),"embed left shift":Ms("ArrowLeft",!0),"embed right":Ms("ArrowRight",!1),"embed right shift":Ms("ArrowRight",!0),"table down":zo(!1),"table up":zo(!0)}};rr.DEFAULTS=$h;function Do(s){return{key:"Tab",shiftKey:!s,format:{"code-block":!0},handler(t,e){let{event:n}=e;const r=this.quill.scroll.query("code-block"),{TAB:i}=r;if(t.length===0&&!n.shiftKey){this.quill.insertText(t.index,i,E.sources.USER),this.quill.setSelection(t.index+i.length,E.sources.SILENT);return}const o=t.length===0?this.quill.getLines(t.index,1):this.quill.getLines(t);let{index:l,length:c}=t;o.forEach((d,h)=>{s?(d.insertAt(0,i),h===0?l+=i.length:c+=i.length):d.domNode.textContent.startsWith(i)&&(d.deleteAt(0,i.length),h===0?l-=i.length:c-=i.length)}),this.quill.update(E.sources.USER),this.quill.setSelection(l,c,E.sources.SILENT)}}}function Ms(s,t){return{key:s,shiftKey:t,altKey:null,[s==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(n){let{index:r}=n;s==="ArrowRight"&&(r+=n.length+1);const[i]=this.quill.getLeaf(r);return i instanceof Mt?(s==="ArrowLeft"?t?this.quill.setSelection(n.index-1,n.length+1,E.sources.USER):this.quill.setSelection(n.index-1,E.sources.USER):t?this.quill.setSelection(n.index,n.length+1,E.sources.USER):this.quill.setSelection(n.index+n.length+1,E.sources.USER),!1):!0}}}function Jr(s){return{key:s[0],shortKey:!0,handler(t,e){this.quill.format(s,!e.format[s],E.sources.USER)}}}function zo(s){return{key:s?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(t,e){const n=s?"prev":"next",r=e.line,i=r.parent[n];if(i!=null){if(i.statics.blotName==="table-row"){let o=i.children.head,l=r;for(;l.prev!=null;)l=l.prev,o=o.next;const c=o.offset(this.quill.scroll)+Math.min(e.offset,o.length()-1);this.quill.setSelection(c,0,E.sources.USER)}}else{const o=r.table()[n];o!=null&&(s?this.quill.setSelection(o.offset(this.quill.scroll)+o.length()-1,0,E.sources.USER):this.quill.setSelection(o.offset(this.quill.scroll),0,E.sources.USER))}return!1}}}function Mh(s){if(typeof s=="string"||typeof s=="number")s={key:s};else if(typeof s=="object")s=Dn(s);else return null;return s.shortKey&&(s[Bh]=s.shortKey,delete s.shortKey),s}function Xi(s){let{quill:t,range:e}=s;const n=t.getLines(e);let r={};if(n.length>1){const i=n[0].formats(),o=n[n.length-1].formats();r=Ht.AttributeMap.diff(o,i)||{}}t.deleteText(e,E.sources.USER),Object.keys(r).length>0&&t.formatLine(e.index,1,r,E.sources.USER),t.setSelection(e.index,E.sources.SILENT)}function Ph(s,t,e,n){return t.prev==null&&t.next==null?e.prev==null&&e.next==null?n===0?-1:1:e.prev==null?-1:1:t.prev==null?-1:t.next==null?1:null}const Dh=/font-weight:\s*normal/,zh=["P","OL","UL"],jo=s=>s&&zh.includes(s.tagName),jh=s=>{Array.from(s.querySelectorAll("br")).filter(t=>jo(t.previousElementSibling)&&jo(t.nextElementSibling)).forEach(t=>{var e;(e=t.parentNode)==null||e.removeChild(t)})},Uh=s=>{Array.from(s.querySelectorAll('b[style*="font-weight"]')).filter(t=>{var e;return(e=t.getAttribute("style"))==null?void 0:e.match(Dh)}).forEach(t=>{var n;const e=s.createDocumentFragment();e.append(...t.childNodes),(n=t.parentNode)==null||n.replaceChild(e,t)})};function Fh(s){s.querySelector('[id^="docs-internal-guid-"]')&&(Uh(s),jh(s))}const Hh=/\bmso-list:[^;]*ignore/i,Wh=/\bmso-list:[^;]*\bl(\d+)/i,Gh=/\bmso-list:[^;]*\blevel(\d+)/i,Vh=(s,t)=>{const e=s.getAttribute("style"),n=e==null?void 0:e.match(Wh);if(!n)return null;const r=Number(n[1]),i=e==null?void 0:e.match(Gh),o=i?Number(i[1]):1,l=new RegExp(`@list l${r}:level${o}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),c=t.match(l),d=c&&c[1]==="bullet"?"bullet":"ordered";return{id:r,indent:o,type:d,element:s}},Kh=s=>{var o,l;const t=Array.from(s.querySelectorAll("[style*=mso-list]")),e=[],n=[];t.forEach(c=>{(c.getAttribute("style")||"").match(Hh)?e.push(c):n.push(c)}),e.forEach(c=>{var d;return(d=c.parentNode)==null?void 0:d.removeChild(c)});const r=s.documentElement.innerHTML,i=n.map(c=>Vh(c,r)).filter(c=>c);for(;i.length;){const c=[];let d=i.shift();for(;d;)c.push(d),d=i.length&&((o=i[0])==null?void 0:o.element)===d.element.nextElementSibling&&i[0].id===d.id?i.shift():null;const h=document.createElement("ul");c.forEach(f=>{const m=document.createElement("li");m.setAttribute("data-list",f.type),f.indent>1&&m.setAttribute("class",`ql-indent-${f.indent-1}`),m.innerHTML=f.element.innerHTML,h.appendChild(m)});const b=(l=c[0])==null?void 0:l.element,{parentNode:g}=b??{};b&&(g==null||g.replaceChild(h,b)),c.slice(1).forEach(f=>{let{element:m}=f;g==null||g.removeChild(m)})}};function Xh(s){s.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&Kh(s)}const Yh=[Xh,Fh],Zh=s=>{s.documentElement&&Yh.forEach(t=>{t(s)})},Qh=Oe("quill:clipboard"),Jh=[[Node.TEXT_NODE,hf],[Node.TEXT_NODE,Fo],["br",rf],[Node.ELEMENT_NODE,Fo],[Node.ELEMENT_NODE,sf],[Node.ELEMENT_NODE,nf],[Node.ELEMENT_NODE,uf],["li",lf],["ol, ul",cf],["pre",of],["tr",df],["b",ti("bold")],["i",ti("italic")],["strike",ti("strike")],["style",af]],tf=[kh,Ka].reduce((s,t)=>(s[t.keyName]=t,s),{}),Uo=[Ga,Gi,Wi,Ya,Ja,el].reduce((s,t)=>(s[t.keyName]=t,s),{});class nl extends ie{constructor(t,e){super(t,e),this.quill.root.addEventListener("copy",n=>this.onCaptureCopy(n,!1)),this.quill.root.addEventListener("cut",n=>this.onCaptureCopy(n,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],Jh.concat(this.options.matchers).forEach(n=>{let[r,i]=n;this.addMatcher(r,i)})}addMatcher(t,e){this.matchers.push([t,e])}convert(t){let{html:e,text:n}=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r[Et.blotName])return new B().insert(n||"",{[Et.blotName]:r[Et.blotName]});if(!e)return new B().insert(n||"",r);const i=this.convertHTML(e);return ms(i,`
`)&&(i.ops[i.ops.length-1].attributes==null||r.table)?i.compose(new B().retain(i.length()-1).delete(1)):i}normalizeHTML(t){Zh(t)}convertHTML(t){const e=new DOMParser().parseFromString(t,"text/html");this.normalizeHTML(e);const n=e.body,r=new WeakMap,[i,o]=this.prepareMatching(n,r);return Yi(this.quill.scroll,n,i,o,r)}dangerouslyPasteHTML(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E.sources.API;if(typeof t=="string"){const r=this.convert({html:t,text:""});this.quill.setContents(r,e),this.quill.setSelection(0,E.sources.SILENT)}else{const r=this.convert({html:e,text:""});this.quill.updateContents(new B().retain(t).concat(r),n),this.quill.setSelection(t+r.length(),E.sources.SILENT)}}onCaptureCopy(t){var o,l;let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(t.defaultPrevented)return;t.preventDefault();const[n]=this.quill.selection.getRange();if(n==null)return;const{html:r,text:i}=this.onCopy(n,e);(o=t.clipboardData)==null||o.setData("text/plain",i),(l=t.clipboardData)==null||l.setData("text/html",r),e&&Xi({range:n,quill:this.quill})}onCapturePaste(t){var o,l,c,d;if(t.defaultPrevented||!this.quill.isEnabled())return;t.preventDefault();const e=this.quill.getSelection(!0);if(e==null)return;const n=(o=t.clipboardData)==null?void 0:o.getData("text/html"),r=(l=t.clipboardData)==null?void 0:l.getData("text/plain"),i=Array.from(((c=t.clipboardData)==null?void 0:c.files)||[]);if(!n&&i.length>0){this.quill.uploader.upload(e,i);return}if(n&&i.length>0){const h=new DOMParser().parseFromString(n,"text/html");if(h.body.childElementCount===1&&((d=h.body.firstElementChild)==null?void 0:d.tagName)==="IMG"){this.quill.uploader.upload(e,i);return}}this.onPaste(e,{html:n,text:r})}onCopy(t){const e=this.quill.getText(t);return{html:this.quill.getSemanticHTML(t),text:e}}onPaste(t,e){let{text:n,html:r}=e;const i=this.quill.getFormat(t.index),o=this.convert({text:n,html:r},i);Qh.log("onPaste",o,{text:n,html:r});const l=new B().retain(t.index).delete(t.length).concat(o);this.quill.updateContents(l,E.sources.USER),this.quill.setSelection(l.length()-t.length,E.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(t,e){const n=[],r=[];return this.matchers.forEach(i=>{const[o,l]=i;switch(o){case Node.TEXT_NODE:r.push(l);break;case Node.ELEMENT_NODE:n.push(l);break;default:Array.from(t.querySelectorAll(o)).forEach(c=>{if(e.has(c)){const d=e.get(c);d==null||d.push(l)}else e.set(c,[l])});break}}),[n,r]}}nl.DEFAULTS={matchers:[]};function bn(s,t,e,n){return n.query(t)?s.reduce((r,i)=>{if(i.attributes&&i.attributes[t])return r.push(i);const o=e?{[t]:e}:{};return r.insert(i.insert,{...o,...i.attributes})},new B):s}function ms(s,t){let e="";for(let n=s.ops.length-1;n>=0&&e.length<t.length;--n){const r=s.ops[n];if(typeof r.insert!="string")break;e=r.insert+e}return e.slice(-1*t.length)===t}function We(s,t){if(!(s instanceof Element))return!1;const e=t.query(s);return e&&e.prototype instanceof Mt?!1:["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(s.tagName.toLowerCase())}function ef(s,t){return s.previousElementSibling&&s.nextElementSibling&&!We(s.previousElementSibling,t)&&!We(s.nextElementSibling,t)}const Ps=new WeakMap;function sl(s){return s==null?!1:(Ps.has(s)||(s.tagName==="PRE"?Ps.set(s,!0):Ps.set(s,sl(s.parentNode))),Ps.get(s))}function Yi(s,t,e,n,r){return t.nodeType===t.TEXT_NODE?n.reduce((i,o)=>o(t,i,s),new B):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce((i,o)=>{let l=Yi(s,o,e,n,r);return o.nodeType===t.ELEMENT_NODE&&(l=e.reduce((c,d)=>d(o,c,s),l),l=(r.get(o)||[]).reduce((c,d)=>d(o,c,s),l)),i.concat(l)},new B):new B}function ti(s){return(t,e,n)=>bn(e,s,!0,n)}function nf(s,t,e){const n=be.keys(s),r=se.keys(s),i=Ke.keys(s),o={};return n.concat(r).concat(i).forEach(l=>{let c=e.query(l,M.ATTRIBUTE);c!=null&&(o[c.attrName]=c.value(s),o[c.attrName])||(c=tf[l],c!=null&&(c.attrName===l||c.keyName===l)&&(o[c.attrName]=c.value(s)||void 0),c=Uo[l],c!=null&&(c.attrName===l||c.keyName===l)&&(c=Uo[l],o[c.attrName]=c.value(s)||void 0))}),Object.entries(o).reduce((l,c)=>{let[d,h]=c;return bn(l,d,h,e)},t)}function sf(s,t,e){const n=e.query(s);if(n==null)return t;if(n.prototype instanceof Mt){const r={},i=n.value(s);if(i!=null)return r[n.blotName]=i,new B().insert(r,n.formats(s,e))}else if(n.prototype instanceof us&&!ms(t,`
`)&&t.insert(`
`),"blotName"in n&&"formats"in n&&typeof n.formats=="function")return bn(t,n.blotName,n.formats(s,e),e);return t}function rf(s,t){return ms(t,`
`)||t.insert(`
`),t}function of(s,t,e){const n=e.query("code-block"),r=n&&"formats"in n&&typeof n.formats=="function"?n.formats(s,e):!0;return bn(t,"code-block",r,e)}function af(){return new B}function lf(s,t,e){const n=e.query(s);if(n==null||n.blotName!=="list"||!ms(t,`
`))return t;let r=-1,i=s.parentNode;for(;i!=null;)["OL","UL"].includes(i.tagName)&&(r+=1),i=i.parentNode;return r<=0?t:t.reduce((o,l)=>l.attributes&&typeof l.attributes.indent=="number"?o.push(l):o.insert(l.insert,{indent:r,...l.attributes||{}}),new B)}function cf(s,t,e){const n=s.tagName==="OL"?"ordered":"bullet";return bn(t,"list",n,e)}function Fo(s,t,e){if(!ms(t,`
`)){if(We(s,e)&&(s.childNodes.length>0||s instanceof HTMLParagraphElement))return t.insert(`
`);if(t.length()>0&&s.nextSibling){let n=s.nextSibling;for(;n!=null;){if(We(n,e))return t.insert(`
`);const r=e.query(n);if(r&&r.prototype instanceof Ft)return t.insert(`
`);n=n.firstChild}}}return t}function uf(s,t,e){var i;const n={},r=s.style||{};return r.fontStyle==="italic"&&(n.italic=!0),r.textDecoration==="underline"&&(n.underline=!0),r.textDecoration==="line-through"&&(n.strike=!0),((i=r.fontWeight)!=null&&i.startsWith("bold")||parseInt(r.fontWeight,10)>=700)&&(n.bold=!0),t=Object.entries(n).reduce((o,l)=>{let[c,d]=l;return bn(o,c,d,e)},t),parseFloat(r.textIndent||0)>0?new B().insert("	").concat(t):t}function df(s,t,e){var r,i;const n=((r=s.parentElement)==null?void 0:r.tagName)==="TABLE"?s.parentElement:(i=s.parentElement)==null?void 0:i.parentElement;if(n!=null){const l=Array.from(n.querySelectorAll("tr")).indexOf(s)+1;return bn(t,"table",l,e)}return t}function hf(s,t,e){var r;let n=s.data;if(((r=s.parentElement)==null?void 0:r.tagName)==="O:P")return t.insert(n.trim());if(!sl(s)){if(n.trim().length===0&&n.includes(`
`)&&!ef(s,e))return t;const i=(o,l)=>{const c=l.replace(/[^\u00a0]/g,"");return c.length<1&&o?" ":c};n=n.replace(/\r\n/g," ").replace(/\n/g," "),n=n.replace(/\s\s+/g,i.bind(i,!0)),(s.previousSibling==null&&s.parentElement!=null&&We(s.parentElement,e)||s.previousSibling instanceof Element&&We(s.previousSibling,e))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(s.nextSibling==null&&s.parentElement!=null&&We(s.parentElement,e)||s.nextSibling instanceof Element&&We(s.nextSibling,e))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}class rl extends ie{constructor(e,n){super(e,n);q(this,"lastRecorded",0);q(this,"ignoreChange",!1);q(this,"stack",{undo:[],redo:[]});q(this,"currentRange",null);this.quill.on(E.events.EDITOR_CHANGE,(r,i,o,l)=>{r===E.events.SELECTION_CHANGE?i&&l!==E.sources.SILENT&&(this.currentRange=i):r===E.events.TEXT_CHANGE&&(this.ignoreChange||(!this.options.userOnly||l===E.sources.USER?this.record(i,o):this.transform(i)),this.currentRange=pi(this.currentRange,i))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",r=>{r.inputType==="historyUndo"?(this.undo(),r.preventDefault()):r.inputType==="historyRedo"&&(this.redo(),r.preventDefault())})}change(e,n){if(this.stack[e].length===0)return;const r=this.stack[e].pop();if(!r)return;const i=this.quill.getContents(),o=r.delta.invert(i);this.stack[n].push({delta:o,range:pi(r.range,o)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(r.delta,E.sources.USER),this.ignoreChange=!1,this.restoreSelection(r)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(e,n){if(e.ops.length===0)return;this.stack.redo=[];let r=e.invert(n),i=this.currentRange;const o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){const l=this.stack.undo.pop();l&&(r=r.compose(l.delta),i=l.range)}else this.lastRecorded=o;r.length()!==0&&(this.stack.undo.push({delta:r,range:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(e){Ho(this.stack.undo,e),Ho(this.stack.redo,e)}undo(){this.change("undo","redo")}restoreSelection(e){if(e.range)this.quill.setSelection(e.range,E.sources.USER);else{const n=pf(this.quill.scroll,e.delta);this.quill.setSelection(n,E.sources.USER)}}}rl.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function Ho(s,t){let e=t;for(let n=s.length-1;n>=0;n-=1){const r=s[n];s[n]={delta:e.transform(r.delta,!0),range:r.range&&pi(r.range,e)},e=r.delta.transform(e),s[n].delta.length()===0&&s.splice(n,1)}}function ff(s,t){const e=t.ops[t.ops.length-1];return e==null?!1:e.insert!=null?typeof e.insert=="string"&&e.insert.endsWith(`
`):e.attributes!=null?Object.keys(e.attributes).some(n=>s.query(n,M.BLOCK)!=null):!1}function pf(s,t){const e=t.reduce((r,i)=>r+(i.delete||0),0);let n=t.length()-e;return ff(s,t)&&(n-=1),n}function pi(s,t){if(!s)return s;const e=t.transformPosition(s.index),n=t.transformPosition(s.index+s.length);return{index:e,length:n-e}}class il extends ie{constructor(t,e){super(t,e),t.root.addEventListener("drop",n=>{var o;n.preventDefault();let r=null;if(document.caretRangeFromPoint)r=document.caretRangeFromPoint(n.clientX,n.clientY);else if(document.caretPositionFromPoint){const l=document.caretPositionFromPoint(n.clientX,n.clientY);r=document.createRange(),r.setStart(l.offsetNode,l.offset),r.setEnd(l.offsetNode,l.offset)}const i=r&&t.selection.normalizeNative(r);if(i){const l=t.selection.normalizedToRange(i);(o=n.dataTransfer)!=null&&o.files&&this.upload(l,n.dataTransfer.files)}})}upload(t,e){const n=[];Array.from(e).forEach(r=>{var i;r&&((i=this.options.mimetypes)!=null&&i.includes(r.type))&&n.push(r)}),n.length>0&&this.options.handler.call(this,t,n)}}il.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(s,t){const e=t.map(n=>new Promise(r=>{const i=new FileReader;i.onload=o=>{r(o.target.result)},i.readAsDataURL(n)}));Promise.all(e).then(n=>{const r=n.reduce((i,o)=>i.insert({image:o}),new B().retain(s.index).delete(s.length));this.quill.updateContents(r,R.sources.USER),this.quill.setSelection(s.index+n.length,R.sources.SILENT)})}};const gf=["insertText","insertReplacementText"];class mf extends ie{constructor(t,e){super(t,e),t.root.addEventListener("beforeinput",n=>{this.handleBeforeInput(n)}),/Android/i.test(navigator.userAgent)||t.on(E.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(t){Xi({range:t,quill:this.quill})}replaceText(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(t.length===0)return!1;if(e){const n=this.quill.getFormat(t.index,1);this.deleteRange(t),this.quill.updateContents(new B().retain(t.index).insert(e,n),E.sources.USER)}else this.deleteRange(t);return this.quill.setSelection(t.index+e.length,0,E.sources.SILENT),!0}handleBeforeInput(t){if(this.quill.composition.isComposing||t.defaultPrevented||!gf.includes(t.inputType))return;const e=t.getTargetRanges?t.getTargetRanges()[0]:null;if(!e||e.collapsed===!0)return;const n=bf(t);if(n==null)return;const r=this.quill.selection.normalizeNative(e),i=r?this.quill.selection.normalizedToRange(r):null;i&&this.replaceText(i,n)&&t.preventDefault()}handleCompositionStart(){const t=this.quill.getSelection();t&&this.replaceText(t)}}function bf(s){var t;return typeof s.data=="string"?s.data:(t=s.dataTransfer)!=null&&t.types.includes("text/plain")?s.dataTransfer.getData("text/plain"):null}const vf=/Mac/i.test(navigator.platform),yf=100,xf=s=>!!(s.key==="ArrowLeft"||s.key==="ArrowRight"||s.key==="ArrowUp"||s.key==="ArrowDown"||s.key==="Home"||vf&&s.key==="a"&&s.ctrlKey===!0);class wf extends ie{constructor(e,n){super(e,n);q(this,"isListening",!1);q(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(e,n){let{line:r,event:i}=n;if(!(r instanceof te)||!r.uiNode)return!0;const o=getComputedStyle(r.domNode).direction==="rtl";return o&&i.key!=="ArrowRight"||!o&&i.key!=="ArrowLeft"?!0:(this.quill.setSelection(e.index-1,e.length+(i.shiftKey?1:0),E.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",e=>{!e.defaultPrevented&&xf(e)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){if(this.selectionChangeDeadline=Date.now()+yf,this.isListening)return;this.isListening=!0;const e=()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()};document.addEventListener("selectionchange",e,{once:!0})}handleSelectionChange(){const e=document.getSelection();if(!e)return;const n=e.getRangeAt(0);if(n.collapsed!==!0||n.startOffset!==0)return;const r=this.quill.scroll.find(n.startContainer);if(!(r instanceof te)||!r.uiNode)return;const i=document.createRange();i.setStartAfter(r.uiNode),i.setEndAfter(r.uiNode),e.removeAllRanges(),e.addRange(i)}}E.register({"blots/block":mt,"blots/block/embed":Ft,"blots/break":re,"blots/container":gn,"blots/cursor":Fn,"blots/embed":Fi,"blots/inline":ve,"blots/scroll":Mn,"blots/text":ee,"modules/clipboard":nl,"modules/history":rl,"modules/keyboard":rr,"modules/uploader":il,"modules/input":mf,"modules/uiNode":wf});class Ef extends se{add(t,e){let n=0;if(e==="+1"||e==="-1"){const r=this.value(t)||0;n=e==="+1"?r+1:r-1}else typeof e=="number"&&(n=e);return n===0?(this.remove(t),!0):super.add(t,n.toString())}canAdd(t,e){return super.canAdd(t,e)||super.canAdd(t,parseInt(e,10))}value(t){return parseInt(super.value(t),10)||void 0}}const Tf=new Ef("indent","ql-indent",{scope:M.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});class gi extends mt{}q(gi,"blotName","blockquote"),q(gi,"tagName","blockquote");class mi extends mt{static formats(t){return this.tagName.indexOf(t.tagName)+1}}q(mi,"blotName","header"),q(mi,"tagName",["H1","H2","H3","H4","H5","H6"]);class bs extends gn{}bs.blotName="list-container";bs.tagName="OL";class vs extends mt{static create(t){const e=super.create();return e.setAttribute("data-list",t),e}static formats(t){return t.getAttribute("data-list")||void 0}static register(){E.register(bs)}constructor(t,e){super(t,e);const n=e.ownerDocument.createElement("span"),r=i=>{if(!t.isEnabled())return;const o=this.statics.formats(e,t);o==="checked"?(this.format("list","unchecked"),i.preventDefault()):o==="unchecked"&&(this.format("list","checked"),i.preventDefault())};n.addEventListener("mousedown",r),n.addEventListener("touchstart",r),this.attachUI(n)}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-list",e):super.format(t,e)}}vs.blotName="list";vs.tagName="LI";bs.allowedChildren=[vs];vs.requiredContainer=bs;class fs extends ve{static create(){return super.create()}static formats(){return!0}optimize(t){super.optimize(t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}q(fs,"blotName","bold"),q(fs,"tagName",["STRONG","B"]);class bi extends fs{}q(bi,"blotName","italic"),q(bi,"tagName",["EM","I"]);class Ge extends ve{static create(t){const e=super.create(t);return e.setAttribute("href",this.sanitize(t)),e.setAttribute("rel","noopener noreferrer"),e.setAttribute("target","_blank"),e}static formats(t){return t.getAttribute("href")}static sanitize(t){return ol(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}format(t,e){t!==this.statics.blotName||!e?super.format(t,e):this.domNode.setAttribute("href",this.constructor.sanitize(e))}}q(Ge,"blotName","link"),q(Ge,"tagName","A"),q(Ge,"SANITIZED_URL","about:blank"),q(Ge,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function ol(s,t){const e=document.createElement("a");e.href=s;const n=e.href.slice(0,e.href.indexOf(":"));return t.indexOf(n)>-1}class vi extends ve{static create(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):super.create(t)}static formats(t){if(t.tagName==="SUB")return"sub";if(t.tagName==="SUP")return"super"}}q(vi,"blotName","script"),q(vi,"tagName",["SUB","SUP"]);class yi extends fs{}q(yi,"blotName","strike"),q(yi,"tagName",["S","STRIKE"]);class xi extends ve{}q(xi,"blotName","underline"),q(xi,"tagName","U");class js extends Fi{static create(t){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const e=super.create(t);return typeof t=="string"&&(window.katex.render(t,e,{throwOnError:!1,errorColor:"#f00"}),e.setAttribute("data-value",t)),e}static value(t){return t.getAttribute("data-value")}html(){const{formula:t}=this.value();return`<span>${t}</span>`}}q(js,"blotName","formula"),q(js,"className","ql-formula"),q(js,"tagName","SPAN");const Wo=["alt","height","width"];class wi extends Mt{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Wo.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static match(t){return/\.(jpe?g|gif|png)$/.test(t)||/^data:image\/.+;base64/.test(t)}static sanitize(t){return ol(t,["http","https","data"])?t:"//:0"}static value(t){return t.getAttribute("src")}format(t,e){Wo.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}}q(wi,"blotName","image"),q(wi,"tagName","IMG");const Go=["height","width"];class Us extends Ft{static create(t){const e=super.create(t);return e.setAttribute("frameborder","0"),e.setAttribute("allowfullscreen","true"),e.setAttribute("src",this.sanitize(t)),e}static formats(t){return Go.reduce((e,n)=>(t.hasAttribute(n)&&(e[n]=t.getAttribute(n)),e),{})}static sanitize(t){return Ge.sanitize(t)}static value(t){return t.getAttribute("src")}format(t,e){Go.indexOf(t)>-1?e?this.domNode.setAttribute(t,e):this.domNode.removeAttribute(t):super.format(t,e)}html(){const{video:t}=this.value();return`<a href="${t}">${t}</a>`}}q(Us,"blotName","video"),q(Us,"className","ql-video"),q(Us,"tagName","IFRAME");const rs=new se("code-token","hljs",{scope:M.INLINE});class ke extends ve{static formats(t,e){for(;t!=null&&t!==e.domNode;){if(t.classList&&t.classList.contains(Et.className))return super.formats(t,e);t=t.parentNode}}constructor(t,e,n){super(t,e,n),rs.add(this.domNode,n)}format(t,e){t!==ke.blotName?super.format(t,e):e?rs.add(this.domNode,e):(rs.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),rs.value(this.domNode)||this.unwrap()}}ke.blotName="code-token";ke.className="ql-token";class Ut extends Et{static create(t){const e=super.create(t);return typeof t=="string"&&e.setAttribute("data-language",t),e}static formats(t){return t.getAttribute("data-language")||"plain"}static register(){}format(t,e){t===this.statics.blotName&&e?this.domNode.setAttribute("data-language",e):super.format(t,e)}replaceWith(t,e){return this.formatAt(0,this.length(),ke.blotName,!1),super.replaceWith(t,e)}}class as extends mn{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(t,e){t===Ut.blotName&&(this.forceNext=!0,this.children.forEach(n=>{n.format(t,e)}))}formatAt(t,e,n,r){n===Ut.blotName&&(this.forceNext=!0),super.formatAt(t,e,n,r)}highlight(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.children.head==null)return;const r=`${Array.from(this.domNode.childNodes).filter(o=>o!==this.uiNode).map(o=>o.textContent).join(`
`)}
`,i=Ut.formats(this.children.head.domNode);if(e||this.forceNext||this.cachedText!==r){if(r.trim().length>0||this.cachedText==null){const o=this.children.reduce((c,d)=>c.concat(Ua(d,!1)),new B),l=t(r,i);o.diff(l).reduce((c,d)=>{let{retain:h,attributes:b}=d;return h?(b&&Object.keys(b).forEach(g=>{[Ut.blotName,ke.blotName].includes(g)&&this.formatAt(c,h,g,b[g])}),c+h):c},0)}this.cachedText=r,this.forceNext=!1}}html(t,e){const[n]=this.children.find(t);return`<pre data-language="${n?Ut.formats(n.domNode):"plain"}">
${sr(this.code(t,e))}
</pre>`}optimize(t){if(super.optimize(t),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const e=Ut.formats(this.children.head.domNode);e!==this.uiNode.value&&(this.uiNode.value=e)}}}as.allowedChildren=[Ut];Ut.requiredContainer=as;Ut.allowedChildren=[ke,Fn,ee,re];const Nf=(s,t,e)=>{if(typeof s.versionString=="string"){const n=s.versionString.split(".")[0];if(parseInt(n,10)>=11)return s.highlight(e,{language:t}).value}return s.highlight(t,e).value};class al extends ie{static register(){E.register(ke,!0),E.register(Ut,!0),E.register(as,!0)}constructor(t,e){if(super(t,e),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((n,r)=>{let{key:i}=r;return n[i]=!0,n},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(E.events.SCROLL_BLOT_MOUNT,t=>{if(!(t instanceof as))return;const e=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(n=>{let{key:r,label:i}=n;const o=e.ownerDocument.createElement("option");o.textContent=i,o.setAttribute("value",r),e.appendChild(o)}),e.addEventListener("change",()=>{t.format(Ut.blotName,e.value),this.quill.root.focus(),this.highlight(t,!0)}),t.uiNode==null&&(t.attachUI(e),t.children.head&&(e.value=Ut.formats(t.children.head.domNode)))})}initTimer(){let t=null;this.quill.on(E.events.SCROLL_OPTIMIZE,()=>{t&&clearTimeout(t),t=setTimeout(()=>{this.highlight(),t=null},this.options.interval)})}highlight(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(this.quill.selection.composing)return;this.quill.update(E.sources.USER);const n=this.quill.getSelection();(t==null?this.quill.scroll.descendants(as):[t]).forEach(i=>{i.highlight(this.highlightBlot,e)}),this.quill.update(E.sources.SILENT),n!=null&&this.quill.setSelection(n,E.sources.SILENT)}highlightBlot(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(e=this.languages[e]?e:"plain",e==="plain")return sr(t).split(`
`).reduce((r,i,o)=>(o!==0&&r.insert(`
`,{[Et.blotName]:e}),r.insert(i)),new B);const n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(Et.className),n.innerHTML=Nf(this.options.hljs,e,t),Yi(this.quill.scroll,n,[(r,i)=>{const o=rs.value(r);return o?i.compose(new B().retain(i.length(),{[ke.blotName]:o})):i}],[(r,i)=>r.data.split(`
`).reduce((o,l,c)=>(c!==0&&o.insert(`
`,{[Et.blotName]:e}),o.insert(l)),i)],new WeakMap)}}al.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const cs=class cs extends mt{static create(t){const e=super.create();return t?e.setAttribute("data-row",t):e.setAttribute("data-row",Zi()),e}static formats(t){if(t.hasAttribute("data-row"))return t.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(t,e){t===cs.blotName&&e?this.domNode.setAttribute("data-row",e):super.format(t,e)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};q(cs,"blotName","table"),q(cs,"tagName","TD");let Qt=cs;class qe extends gn{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const t=this.children.head.formats(),e=this.children.tail.formats(),n=this.next.children.head.formats(),r=this.next.children.tail.formats();return t.table===e.table&&t.table===n.table&&t.table===r.table}return!1}optimize(t){super.optimize(t),this.children.forEach(e=>{if(e.next==null)return;const n=e.formats(),r=e.next.formats();if(n.table!==r.table){const i=this.splitAfter(e);i&&i.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}q(qe,"blotName","table-row"),q(qe,"tagName","TR");class me extends gn{}q(me,"blotName","table-body"),q(me,"tagName","TBODY");class Wn extends gn{balanceCells(){const t=this.descendants(qe),e=t.reduce((n,r)=>Math.max(r.children.length,n),0);t.forEach(n=>{new Array(e-n.children.length).fill(0).forEach(()=>{let r;n.children.head!=null&&(r=Qt.formats(n.children.head.domNode));const i=this.scroll.create(Qt.blotName,r);n.appendChild(i),i.optimize()})})}cells(t){return this.rows().map(e=>e.children.at(t))}deleteColumn(t){const[e]=this.descendant(me);e==null||e.children.head==null||e.children.forEach(n=>{const r=n.children.at(t);r!=null&&r.remove()})}insertColumn(t){const[e]=this.descendant(me);e==null||e.children.head==null||e.children.forEach(n=>{const r=n.children.at(t),i=Qt.formats(n.children.head.domNode),o=this.scroll.create(Qt.blotName,i);n.insertBefore(o,r)})}insertRow(t){const[e]=this.descendant(me);if(e==null||e.children.head==null)return;const n=Zi(),r=this.scroll.create(qe.blotName);e.children.head.children.forEach(()=>{const o=this.scroll.create(Qt.blotName,n);r.appendChild(o)});const i=e.children.at(t);e.insertBefore(r,i)}rows(){const t=this.children.head;return t==null?[]:t.children.map(e=>e)}}q(Wn,"blotName","table-container"),q(Wn,"tagName","TABLE");Wn.allowedChildren=[me];me.requiredContainer=Wn;me.allowedChildren=[qe];qe.requiredContainer=me;qe.allowedChildren=[Qt];Qt.requiredContainer=qe;function Zi(){return`row-${Math.random().toString(36).slice(2,6)}`}class Sf extends ie{static register(){E.register(Qt),E.register(qe),E.register(me),E.register(Wn)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(Wn).forEach(t=>{t.balanceCells()})}deleteColumn(){const[t,,e]=this.getTable();e!=null&&(t.deleteColumn(e.cellOffset()),this.quill.update(E.sources.USER))}deleteRow(){const[,t]=this.getTable();t!=null&&(t.remove(),this.quill.update(E.sources.USER))}deleteTable(){const[t]=this.getTable();if(t==null)return;const e=t.offset();t.remove(),this.quill.update(E.sources.USER),this.quill.setSelection(e,E.sources.SILENT)}getTable(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(t==null)return[null,null,null,-1];const[e,n]=this.quill.getLine(t.index);if(e==null||e.statics.blotName!==Qt.blotName)return[null,null,null,-1];const r=e.parent;return[r.parent.parent,r,e,n]}insertColumn(t){const e=this.quill.getSelection();if(!e)return;const[n,r,i]=this.getTable(e);if(i==null)return;const o=i.cellOffset();n.insertColumn(o+t),this.quill.update(E.sources.USER);let l=r.rowOffset();t===0&&(l+=1),this.quill.setSelection(e.index+l,e.length,E.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(t){const e=this.quill.getSelection();if(!e)return;const[n,r,i]=this.getTable(e);if(i==null)return;const o=r.rowOffset();n.insertRow(o+t),this.quill.update(E.sources.USER),t>0?this.quill.setSelection(e,E.sources.SILENT):this.quill.setSelection(e.index+r.children.length,e.length,E.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(t,e){const n=this.quill.getSelection();if(n==null)return;const r=new Array(t).fill(0).reduce(i=>{const o=new Array(e).fill(`
`).join("");return i.insert(o,{table:Zi()})},new B().retain(n.index));this.quill.updateContents(r,E.sources.USER),this.quill.setSelection(n.index,E.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(E.events.SCROLL_OPTIMIZE,t=>{t.some(e=>["TD","TR","TBODY","TABLE"].includes(e.target.tagName)?(this.quill.once(E.events.TEXT_CHANGE,(n,r,i)=>{i===E.sources.USER&&this.balanceTables()}),!0):!1)})}}const Vo=Oe("quill:toolbar");class Qi extends ie{constructor(t,e){var n,r;if(super(t,e),Array.isArray(this.options.container)){const i=document.createElement("div");i.setAttribute("role","toolbar"),Af(i,this.options.container),(r=(n=t.container)==null?void 0:n.parentNode)==null||r.insertBefore(i,t.container),this.container=i}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;if(!(this.container instanceof HTMLElement)){Vo.error("Container required for toolbar",this.options);return}this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(i=>{var l;const o=(l=this.options.handlers)==null?void 0:l[i];o&&this.addHandler(i,o)}),Array.from(this.container.querySelectorAll("button, select")).forEach(i=>{this.attach(i)}),this.quill.on(E.events.EDITOR_CHANGE,()=>{const[i]=this.quill.selection.getRange();this.update(i)})}addHandler(t,e){this.handlers[t]=e}attach(t){let e=Array.from(t.classList).find(r=>r.indexOf("ql-")===0);if(!e)return;if(e=e.slice(3),t.tagName==="BUTTON"&&t.setAttribute("type","button"),this.handlers[e]==null&&this.quill.scroll.query(e)==null){Vo.warn("ignoring attaching to nonexistent format",e,t);return}const n=t.tagName==="SELECT"?"change":"click";t.addEventListener(n,r=>{let i;if(t.tagName==="SELECT"){if(t.selectedIndex<0)return;const l=t.options[t.selectedIndex];l.hasAttribute("selected")?i=!1:i=l.value||!1}else t.classList.contains("ql-active")?i=!1:i=t.value||!t.hasAttribute("value"),r.preventDefault();this.quill.focus();const[o]=this.quill.selection.getRange();if(this.handlers[e]!=null)this.handlers[e].call(this,i);else if(this.quill.scroll.query(e).prototype instanceof Mt){if(i=prompt(`Enter ${e}`),!i)return;this.quill.updateContents(new B().retain(o.index).delete(o.length).insert({[e]:i}),E.sources.USER)}else this.quill.format(e,i,E.sources.USER);this.update(o)}),this.controls.push([e,t])}update(t){const e=t==null?{}:this.quill.getFormat(t);this.controls.forEach(n=>{const[r,i]=n;if(i.tagName==="SELECT"){let o=null;if(t==null)o=null;else if(e[r]==null)o=i.querySelector("option[selected]");else if(!Array.isArray(e[r])){let l=e[r];typeof l=="string"&&(l=l.replace(/"/g,'\\"')),o=i.querySelector(`option[value="${l}"]`)}o==null?(i.value="",i.selectedIndex=-1):o.selected=!0}else if(t==null)i.classList.remove("ql-active"),i.setAttribute("aria-pressed","false");else if(i.hasAttribute("value")){const o=e[r],l=o===i.getAttribute("value")||o!=null&&o.toString()===i.getAttribute("value")||o==null&&!i.getAttribute("value");i.classList.toggle("ql-active",l),i.setAttribute("aria-pressed",l.toString())}else{const o=e[r]!=null;i.classList.toggle("ql-active",o),i.setAttribute("aria-pressed",o.toString())}})}}Qi.DEFAULTS={};function Ko(s,t,e){const n=document.createElement("button");n.setAttribute("type","button"),n.classList.add(`ql-${t}`),n.setAttribute("aria-pressed","false"),e!=null?(n.value=e,n.setAttribute("aria-label",`${t}: ${e}`)):n.setAttribute("aria-label",t),s.appendChild(n)}function Af(s,t){Array.isArray(t[0])||(t=[t]),t.forEach(e=>{const n=document.createElement("span");n.classList.add("ql-formats"),e.forEach(r=>{if(typeof r=="string")Ko(n,r);else{const i=Object.keys(r)[0],o=r[i];Array.isArray(o)?Cf(n,i,o):Ko(n,i,o)}}),s.appendChild(n)})}function Cf(s,t,e){const n=document.createElement("select");n.classList.add(`ql-${t}`),e.forEach(r=>{const i=document.createElement("option");r!==!1?i.setAttribute("value",String(r)):i.setAttribute("selected","selected"),n.appendChild(i)}),s.appendChild(n)}Qi.DEFAULTS={container:null,handlers:{clean(){const s=this.quill.getSelection();if(s!=null)if(s.length===0){const t=this.quill.getFormat();Object.keys(t).forEach(e=>{this.quill.scroll.query(e,M.INLINE)!=null&&this.quill.format(e,!1,E.sources.USER)})}else this.quill.removeFormat(s,E.sources.USER)},direction(s){const{align:t}=this.quill.getFormat();s==="rtl"&&t==null?this.quill.format("align","right",E.sources.USER):!s&&t==="right"&&this.quill.format("align",!1,E.sources.USER),this.quill.format("direction",s,E.sources.USER)},indent(s){const t=this.quill.getSelection(),e=this.quill.getFormat(t),n=parseInt(e.indent||0,10);if(s==="+1"||s==="-1"){let r=s==="+1"?1:-1;e.direction==="rtl"&&(r*=-1),this.quill.format("indent",n+r,E.sources.USER)}},link(s){s===!0&&(s=prompt("Enter link URL:")),this.quill.format("link",s,E.sources.USER)},list(s){const t=this.quill.getSelection(),e=this.quill.getFormat(t);s==="check"?e.list==="checked"||e.list==="unchecked"?this.quill.format("list",!1,E.sources.USER):this.quill.format("list","unchecked",E.sources.USER):this.quill.format("list",s,E.sources.USER)}}};const Lf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',_f='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',kf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',qf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>',Of='<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',Rf='<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',If='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',Bf='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',Xo='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>',$f='<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',Mf='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',Pf='<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>',Df='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',zf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',jf='<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',Uf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',Ff='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',Hf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',Wf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>',Gf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',Vf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',Kf='<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',Xf='<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>',Yf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',Zf='<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>',Qf='<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',Jf='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',tp='<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',ep='<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>',ps={align:{"":Lf,center:_f,right:kf,justify:qf},background:Of,blockquote:Rf,bold:If,clean:Bf,code:Xo,"code-block":Xo,color:$f,direction:{"":Mf,rtl:Pf},formula:Df,header:{1:zf,2:jf},italic:Uf,image:Ff,indent:{"+1":Hf,"-1":Wf},link:Gf,list:{bullet:Vf,check:Kf,ordered:Xf},script:{sub:Yf,super:Zf},strike:Qf,table:Jf,underline:tp,video:ep},np='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>';let Yo=0;function Zo(s,t){s.setAttribute(t,`${s.getAttribute(t)!=="true"}`)}class ir{constructor(t){this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",e=>{switch(e.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),e.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Zo(this.label,"aria-expanded"),Zo(this.options,"aria-hidden")}buildItem(t){const e=document.createElement("span");e.tabIndex="0",e.setAttribute("role","button"),e.classList.add("ql-picker-item");const n=t.getAttribute("value");return n&&e.setAttribute("data-value",n),t.textContent&&e.setAttribute("data-label",t.textContent),e.addEventListener("click",()=>{this.selectItem(e,!0)}),e.addEventListener("keydown",r=>{switch(r.key){case"Enter":this.selectItem(e,!0),r.preventDefault();break;case"Escape":this.escape(),r.preventDefault();break}}),e}buildLabel(){const t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=np,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}buildOptions(){const t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id=`ql-picker-options-${Yo}`,Yo+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,Array.from(this.select.options).forEach(e=>{const n=this.buildItem(e);t.appendChild(n),e.selected===!0&&this.selectItem(n)}),this.container.appendChild(t)}buildPicker(){Array.from(this.select.attributes).forEach(t=>{this.container.setAttribute(t.name,t.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.container.querySelector(".ql-selected");t!==n&&(n!=null&&n.classList.remove("ql-selected"),t!=null&&(t.classList.add("ql-selected"),this.select.selectedIndex=Array.from(t.parentNode.children).indexOf(t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),e&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let t;if(this.select.selectedIndex>-1){const n=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(n)}else this.selectItem(null);const e=t!=null&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",e)}}class ll extends ir{constructor(t,e){super(t),this.label.innerHTML=e,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(n=>{n.classList.add("ql-primary")})}buildItem(t){const e=super.buildItem(t);return e.style.backgroundColor=t.getAttribute("value")||"",e}selectItem(t,e){super.selectItem(t,e);const n=this.label.querySelector(".ql-color-label"),r=t&&t.getAttribute("data-value")||"";n&&(n.tagName==="line"?n.style.stroke=r:n.style.fill=r)}}class cl extends ir{constructor(t,e){super(t),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(n=>{n.innerHTML=e[n.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem(t,e){super.selectItem(t,e);const n=t||this.defaultItem;if(n!=null){if(this.label.innerHTML===n.innerHTML)return;this.label.innerHTML=n.innerHTML}}}const sp=s=>{const{overflowY:t}=getComputedStyle(s,null);return t!=="visible"&&t!=="clip"};class ul{constructor(t,e){this.quill=t,this.boundsContainer=e||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,sp(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=`${-1*this.quill.root.scrollTop}px`}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position(t){const e=t.left+t.width/2-this.root.offsetWidth/2,n=t.bottom+this.quill.root.scrollTop;this.root.style.left=`${e}px`,this.root.style.top=`${n}px`,this.root.classList.remove("ql-flip");const r=this.boundsContainer.getBoundingClientRect(),i=this.root.getBoundingClientRect();let o=0;if(i.right>r.right&&(o=r.right-i.right,this.root.style.left=`${e+o}px`),i.left<r.left&&(o=r.left-i.left,this.root.style.left=`${e+o}px`),i.bottom>r.bottom){const l=i.bottom-i.top,c=t.bottom-t.top+l;this.root.style.top=`${n-c}px`,this.root.classList.add("ql-flip")}return o}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}const rp=[!1,"center","right","justify"],ip=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],op=[!1,"serif","monospace"],ap=["1","2","3",!1],lp=["small",!1,"large","huge"];class ys extends Hn{constructor(t,e){super(t,e);const n=r=>{if(!document.body.contains(t.root)){document.body.removeEventListener("click",n);return}this.tooltip!=null&&!this.tooltip.root.contains(r.target)&&document.activeElement!==this.tooltip.textbox&&!this.quill.hasFocus()&&this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(i=>{i.container.contains(r.target)||i.close()})};t.emitter.listenDOM("click",document.body,n)}addModule(t){const e=super.addModule(t);return t==="toolbar"&&this.extendToolbar(e),e}buildButtons(t,e){Array.from(t).forEach(n=>{(n.getAttribute("class")||"").split(/\s+/).forEach(i=>{if(i.startsWith("ql-")&&(i=i.slice(3),e[i]!=null))if(i==="direction")n.innerHTML=e[i][""]+e[i].rtl;else if(typeof e[i]=="string")n.innerHTML=e[i];else{const o=n.value||"";o!=null&&e[i][o]&&(n.innerHTML=e[i][o])}})})}buildPickers(t,e){this.pickers=Array.from(t).map(r=>{if(r.classList.contains("ql-align")&&(r.querySelector("option")==null&&ss(r,rp),typeof e.align=="object"))return new cl(r,e.align);if(r.classList.contains("ql-background")||r.classList.contains("ql-color")){const i=r.classList.contains("ql-background")?"background":"color";return r.querySelector("option")==null&&ss(r,ip,i==="background"?"#ffffff":"#000000"),new ll(r,e[i])}return r.querySelector("option")==null&&(r.classList.contains("ql-font")?ss(r,op):r.classList.contains("ql-header")?ss(r,ap):r.classList.contains("ql-size")&&ss(r,lp)),new ir(r)});const n=()=>{this.pickers.forEach(r=>{r.update()})};this.quill.on(R.events.EDITOR_CHANGE,n)}}ys.DEFAULTS=Ve({},Hn.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let s=this.container.querySelector("input.ql-image[type=file]");s==null&&(s=document.createElement("input"),s.setAttribute("type","file"),s.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),s.classList.add("ql-image"),s.addEventListener("change",()=>{const t=this.quill.getSelection(!0);this.quill.uploader.upload(t,s.files),s.value=""}),this.container.appendChild(s)),s.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class dl extends ul{constructor(t,e){super(t,e),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",t=>{t.key==="Enter"?(this.save(),t.preventDefault()):t.key==="Escape"&&(this.cancel(),t.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;e!=null?this.textbox.value=e:t!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const n=this.quill.getBounds(this.quill.selection.savedRange);n!=null&&this.position(n),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${t}`)||""),this.root.setAttribute("data-mode",t)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:t}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:e}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",t,R.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",t,R.sources.USER)),this.quill.root.scrollTop=e;break}case"video":t=cp(t);case"formula":{if(!t)break;const e=this.quill.getSelection(!0);if(e!=null){const n=e.index+e.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),t,R.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(n+1," ",R.sources.USER),this.quill.setSelection(n+2,R.sources.USER)}break}}this.textbox.value="",this.hide()}}function cp(s){let t=s.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||s.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return t?`${t[1]||"https"}://www.youtube.com/embed/${t[2]}?showinfo=0`:(t=s.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${t[1]||"https"}://player.vimeo.com/video/${t[2]}/`:s}function ss(s,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;t.forEach(n=>{const r=document.createElement("option");n===e?r.setAttribute("selected","selected"):r.setAttribute("value",String(n)),s.appendChild(r)})}const up=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class hl extends dl{constructor(t,e){super(t,e),this.quill.on(R.events.EDITOR_CHANGE,(n,r,i,o)=>{if(n===R.events.SELECTION_CHANGE)if(r!=null&&r.length>0&&o===R.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const l=this.quill.getLines(r.index,r.length);if(l.length===1){const c=this.quill.getBounds(r);c!=null&&this.position(c)}else{const c=l[l.length-1],d=this.quill.getIndex(c),h=Math.min(c.length()-1,r.index+r.length-d),b=this.quill.getBounds(new pn(d,h));b!=null&&this.position(b)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(R.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const t=this.quill.getSelection();if(t!=null){const e=this.quill.getBounds(t);e!=null&&this.position(e)}},1)})}cancel(){this.show()}position(t){const e=super.position(t),n=this.root.querySelector(".ql-tooltip-arrow");return n.style.marginLeft="",e!==0&&(n.style.marginLeft=`${-1*e-n.offsetWidth/2}px`),e}}q(hl,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class fl extends ys{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=up),super(t,e),this.quill.container.classList.add("ql-bubble")}extendToolbar(t){this.tooltip=new hl(this.quill,this.options.bounds),t.container!=null&&(this.tooltip.root.appendChild(t.container),this.buildButtons(t.container.querySelectorAll("button"),ps),this.buildPickers(t.container.querySelectorAll("select"),ps))}}fl.DEFAULTS=Ve({},ys.DEFAULTS,{modules:{toolbar:{handlers:{link(s){s?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});const dp=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class pl extends dl{constructor(){super(...arguments);q(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",e=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),e.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",e=>{if(this.linkRange!=null){const n=this.linkRange;this.restoreFocus(),this.quill.formatText(n,"link",!1,R.sources.USER),delete this.linkRange}e.preventDefault(),this.hide()}),this.quill.on(R.events.SELECTION_CHANGE,(e,n,r)=>{if(e!=null){if(e.length===0&&r===R.sources.USER){const[i,o]=this.quill.scroll.descendant(Ge,e.index);if(i!=null){this.linkRange=new pn(e.index-o,i.length());const l=Ge.formats(i.domNode);this.preview.textContent=l,this.preview.setAttribute("href",l),this.show();const c=this.quill.getBounds(this.linkRange);c!=null&&this.position(c);return}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}q(pl,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class gl extends ys{constructor(t,e){e.modules.toolbar!=null&&e.modules.toolbar.container==null&&(e.modules.toolbar.container=dp),super(t,e),this.quill.container.classList.add("ql-snow")}extendToolbar(t){t.container!=null&&(t.container.classList.add("ql-snow"),this.buildButtons(t.container.querySelectorAll("button"),ps),this.buildPickers(t.container.querySelectorAll("select"),ps),this.tooltip=new pl(this.quill,this.options.bounds),t.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(e,n)=>{t.handlers.link.call(t,!n.format.link)}))}}gl.DEFAULTS=Ve({},ys.DEFAULTS,{modules:{toolbar:{handlers:{link(s){if(s){const t=this.quill.getSelection();if(t==null||t.length===0)return;let e=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(e)&&e.indexOf("mailto:")!==0&&(e=`mailto:${e}`);const{tooltip:n}=this.quill.theme;n.edit("link",e)}else this.quill.format("link",!1)}}}}});E.register({"attributors/attribute/direction":Ka,"attributors/class/align":Wa,"attributors/class/background":Oh,"attributors/class/color":qh,"attributors/class/direction":Xa,"attributors/class/font":Qa,"attributors/class/size":tl,"attributors/style/align":Ga,"attributors/style/background":Gi,"attributors/style/color":Wi,"attributors/style/direction":Ya,"attributors/style/font":Ja,"attributors/style/size":el},!0);E.register({"formats/align":Wa,"formats/direction":Xa,"formats/indent":Tf,"formats/background":Gi,"formats/color":Wi,"formats/font":Qa,"formats/size":tl,"formats/blockquote":gi,"formats/code-block":Et,"formats/header":mi,"formats/list":vs,"formats/bold":fs,"formats/code":Vi,"formats/italic":bi,"formats/link":Ge,"formats/script":vi,"formats/strike":yi,"formats/underline":xi,"formats/formula":js,"formats/image":wi,"formats/video":Us,"modules/syntax":al,"modules/table":Sf,"modules/toolbar":Qi,"themes/bubble":fl,"themes/snow":gl,"ui/icons":ps,"ui/picker":ir,"ui/icon-picker":cl,"ui/color-picker":ll,"ui/tooltip":ul},!0);const hp={class:"p-x-4"},fp=F("div",{id:"editor"},null,-1),pp=[fp],Ji=at({__name:"TextEditor",setup(s,{expose:t}){const e=$t(),n=Y(),r=Y(),i=oa(),o=()=>{var m;const f=b().trim().length;e.count=f,f===0&&((m=n.value)==null||m.root.classList.add("ql-blank"))};Ni(()=>{const m={debug:"info",modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"},{list:"check"}],[{indent:"-1"},{indent:"+1"}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"]]},placeholder:"è¯·è¾å¥æ¨è¦åäº«çåå®¹...",theme:"snow"};n.value=new E("#editor",m),n.value.on("text-change",o)}),Ai(async()=>{r.value=await i()});const l=Y(-1);Ci(()=>{var f;r!=null&&r.value&&(l.value=(f=r==null?void 0:r.value)==null?void 0:f.vipLevel)});const c=()=>{var f,m,y,v;(m=n.value)==null||m.deleteText(0,(f=n.value)==null?void 0:f.getLength()),((y=n.value)==null?void 0:y.getLength())===1&&((v=n.value)==null||v.root.classList.add("ql-blank"))},d=()=>{const f=document.body.querySelector(".ql-toolbar");f.style.display==="none"?f.style.display="":f.style.display="none"},h=()=>{var f;return(f=n.value)==null?void 0:f.getSemanticHTML()},b=()=>n.value.getText();return t({reset:c,toogleToolbar:d,getHTML:h,getText:b,setHTML:f=>{var m,y;(y=n.value)==null||y.setContents((m=n.value)==null?void 0:m.clipboard.convert({html:f}))}}),(f,m)=>(et(),it("div",hp,pp))}}),gp={key:0,class:"author name"},to=at({__name:"UserName",setup(s){const t=$t(),{authorLineShow:e}=Vs(t),n=Ei();return(r,i)=>$(e)?(et(),it("label",gp,Wt($(n).username),1)):He("",!0)}});function eo(s){return()=>({reset:()=>{s&&s.value.reset()},toogleToolbar:()=>{s&&s.value.toogleToolbar()},getHTML:()=>s?s.value.getHTML():"",getText:()=>s?s.value.getText():"",setHTML:o=>{s&&s.value.setHTML(o)}})}const mp=s=>(Li("data-v-1a71fd0b"),s=s(),_i(),s),bp={class:"card"},vp={class:"datetime-bar"},yp={class:"datetime text-4"},xp=mp(()=>F("div",{class:"circles"},[F("div",{class:"circle"}),F("div",{class:"circle"}),F("div",{class:"circle"})],-1)),wp={class:"footer"},Ep=["data-count"],Tp={class:"designer text-4"},Np=at({__name:"Clean",setup(s,{expose:t}){const e=$t(),{datetimeStr:n,count:r}=Vs(e),i=Y(),o=eo(i);return t(o()),(l,c)=>(et(),it("div",{id:"content",class:"content",style:Jt(`background-image:${$(e).activeBgcolor}`)},[F("div",bp,[F("div",vp,[F("div",yp,[F("span",null,Wt($(n)),1)]),xp]),F("div",{class:"header py-1",style:Jt(`background-image:${$(e).activeBgcolor}`)},[F("i",{class:ge(["iconfont icon",`icon-${$(e).currentIcon}`])},null,2)],4),ot(Ji,{ref_key:"editor",ref:i},null,512),F("div",wp,[ot(to,{class:"float-left text-4"}),F("label",{class:"count float-right text-4","data-count":$(r)},"å­æ°ï¼",8,Ep)])]),F("div",Tp,Wt($(Ti)),1)],4))}}),Sp=ne(Np,[["__scopeId","data-v-1a71fd0b"]]),ml=s=>(Li("data-v-db27b8a0"),s=s(),_i(),s),Ap={class:"card"},Cp=ml(()=>F("div",{class:"dashed-divider"},[F("div",{class:"dashed-line"})],-1)),Lp={class:"datetime text-4"},_p=ml(()=>F("div",{class:"dashed-divider dashed-divider-2"},[F("div",{class:"dashed-line"})],-1)),kp={class:"footer"},qp=["data-count"],Op={class:"designer text-4"},Rp=at({__name:"Fashion",setup(s,{expose:t}){const e=$t(),{datetimeStr:n,count:r}=Vs(e),i=Y(),o=eo(i);return t(o()),(l,c)=>(et(),it("div",{id:"content",class:"content",style:Jt(`background-image:${$(e).activeBgcolor}`)},[F("div",Ap,[F("div",{class:"header py-1",style:Jt(`background-image:${$(e).activeBgcolor}`)},[F("i",{class:ge(["iconfont icon",`icon-${$(e).currentIcon}`])},null,2)],4),Cp,F("div",Lp,[F("span",null,Wt($(n)),1)]),ot(Ji,{ref_key:"editor",ref:i},null,512),_p,F("div",kp,[ot(to,{class:"float-left text-4"}),F("label",{class:"count float-right text-4","data-count":$(r)},"å­æ°ï¼",8,qp)])]),F("div",Op,Wt($(Ti)),1)],4))}}),Ip=ne(Rp,[["__scopeId","data-v-db27b8a0"]]),Bp={class:"header py-1 text-4"},$p={class:"datetime"},Mp={class:"text-4"},Pp={class:"designer text-4"},Dp=at({__name:"Geek",setup(s,{expose:t}){const e=$t(),{datetimeStr:n,count:r}=Vs(e),i=Y(),o=eo(i);return t(o()),(l,c)=>(et(),it("div",{id:"content",class:"content",style:Jt(`background-image:${$(e).activeBgcolor}`)},[F("div",{class:"card",style:Jt(`color:${$(e).fontColor}`)},[F("div",Bp,[ei(" >>> "),F("label",$p,Wt($(n)),1)]),ot(to),ot(Ji,{ref_key:"editor",ref:i,class:"text-area",style:Jt(`color:${$(e).fontColor}`)},null,8,["style"]),F("footer",Mp,Wt($(r)),1),F("div",Pp,Wt($(Ti)),1)],4)],4))}}),zp=ne(Dp,[["__scopeId","data-v-5d3797df"]]),jp={key:0,class:"box"},Up=at({__name:"WritingPage",setup(s){const t=`https://firebasestorage.googleapis.com/v0/b/talk-is-cheap-6695e.appspot.com/o/quotes${encodeURIComponent("/")}`,e=Ll.useLoading(),n=Ei(),r=$t(),i=Y(),o=Y(),l=Y(),c=It(()=>({Clean:i,Fashion:o,Geek:l})),{fetchList:d,list:h}=_l(),b=Y(),g=oa();Ai(async()=>{b.value=await g(),await d(),f()});const f=()=>{const U=localStorage.getItem("ShiningText");if(U){const H=c.value[r.temp];H&&H.value.setHTML(U)}};kl();const m=()=>{c.value[r.temp].value.reset()},y=()=>{c.value[r.temp].value.toogleToolbar()},v=()=>c.value[r.temp].value.getHTML(),w=()=>c.value[r.temp].value.getText(),S=()=>{const U=v();if(w().trim().length===0)return dn.warning("è¯·è¾å¥åäº«åå®¹");y(),Ds(async()=>{const Q=document.querySelector("#content"),nt=Q.querySelector(".datetime"),st=new Date;nt.innerHTML=st.toLocaleString(),r.datetimeStr=st.toLocaleString();const ct=e.show();try{const{vipLevel:Tt,exteraCardCount:ft}=b.value;if(Tt!==0&&h.value.length===Ol[Tt].listMaxCount+ft){dn.info("æ¨å·²è¾¾å°å­å¨ä¸çº¿ï¼è¯·åçº§å­å¨"),Rl(Q);return}const ye=await Il(Q,st.getTime().toString()),{email:xe}=n,{datetimeStr:we}=r,oe={email:xe,content:U,datetime:we,picURL:`${t}${ye.ref.name}?alt=media`},K=await Bl({entity:"quotes",entityObj:oe});console.log(K),dn.success("ä¿å­æåï¼å³å°åå¾åè¡¨é¡µé¢",{position:dn.POSITION.TOP_CENTER,onClose:()=>{y(),m(),_.push("/list")}})}catch(Tt){console.error(Tt),dn.error("ä¿å­å¤±è´¥",{position:dn.POSITION.TOP_CENTER})}finally{ct.hide()}})},N=ra(),_=gc(),T=Y(!1);ql(()=>{T.value=!0},()=>{_.back()});const A=()=>{_.push("/list")},I=()=>{if(w().trim().length===0)return dn.warning("è¯·è¾å¥åäº«åå®¹");localStorage.setItem("ShiningText",v())};return(U,H)=>(et(),it("div",{class:ge(["bg-black h-dvh mx-auto overflow-x-hidden",{"w-42%":!$(N),"w-90%":$(N)}])},[F("div",{class:ge([{"quote-sharing":$(N),"quote-sharing-web":!$(N)},"m-t-4"])},[T.value?(et(),it("div",jp,[ot(Ed,{onList:A,class:ge({"web-header":!$(N)}),onReset:m,onDraft:I},null,8,["class"]),$(r).temp==="Clean"?(et(),Pn(Sp,{key:0,ref_key:"cleanTemp",ref:i},null,512)):He("",!0),$(r).temp==="Fashion"?(et(),Pn(Ip,{key:1,ref_key:"fashionTemp",ref:o},null,512)):He("",!0),$(r).temp==="Geek"?(et(),Pn(zp,{key:2,ref_key:"geekTemp",ref:l},null,512)):He("",!0)])):He("",!0),ot(Xd,{onShare:S})],2)],2))}}),eg=ne(Up,[["__scopeId","data-v-76aaa498"]]);export{eg as default};
